"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3408],{2987:function(e,t,n){let i;n.d(t,{BI:function(){return tm},Xm:function(){return tx},Yj:function(){return tp},default:function(){return th}});var l=n(57437),o=n(2265),a=n(99240),s=n(40191),r=n(95430),d=n(67958);let c=(0,r.Pi)(()=>{let{session:e}=(0,d.mZ)();return e.maintenanceState.isMaintenance||e.maintenanceState.isScheduledMaintenance?(0,l.jsx)(a.k,{width:"100%",py:"3",backgroundColor:e.maintenanceState.isMaintenance?"orange.700":"blue.700",justifyContent:"center",children:(0,l.jsx)(s.x,{color:"white",children:e.maintenanceState.message})}):null});var u=n(69548),p=n(87138),m=n(23627),x=n(39350),h=n(54226),g=n(81460);let f=(0,r.Pi)(e=>{let{top:t,left:n,ref:i}=e,{playbar:o}=(0,d.mZ)();return(0,l.jsx)("button",{ref:i,className:"absolute flex flex-1 h-auto w-auto bg-quaternary rounded-md px-1 py-2 pt-4 z-[100]",style:{top:"".concat(t-90,"px"),left:"".concat(n-210,"px"),height:"80px"},"aria-label":"Playbar: Volume Control",children:(0,l.jsxs)(g.iR,{flex:"1",mx:4,orientation:"vertical","aria-label":"Playbar: Volume Control",focusThumbOnChange:!1,value:100*o.displayVolume,onChange:e=>{o.setVolume((0,h.n)(e/100))},children:[(0,l.jsx)(g.Uj,{children:(0,l.jsx)(g.Ms,{background:"rgba(244, 243, 239, 0.8)"})}),(0,l.jsx)(g.gs,{boxSize:"12px",background:"rgba(244, 243, 239, 1)"})]})})});var v=n(1633),b=n(64874),y=n(92115),j=n(1225),w=n(92959),k=n(16829),C=n(40129),S=n(80524),N=n(52371),I=n(17015),_=n(74340);let P=(0,r.Pi)(e=>{var t,n,i,a,s,r;let{clip:c,height:p,initialStartValue:x,selectionType:h="timestamp",maxSelectionRangeSecs:g,quantizeSelectionSecs:f=.2,isDraggingPlaybar:b=!1,actionMode:y,setWaveformStartInput:j,setWaveformEndInput:w,startPosition:C,endPosition:S,setStartPosition:N,setEndPosition:P}=e,{playbar:M,edit:E}=(0,d.mZ)(),F=(0,o.useRef)(null),O=(0,o.useRef)(null),L=(0,o.useRef)(null),[R,A]=(0,o.useState)(!1),[z,D]=(0,o.useState)([]),[T,Z]=(0,o.useState)(!1),[B,q]=(0,o.useState)(null),[U,V]=(0,o.useState)(null),[G,W]=(0,o.useState)(void 0),K=p||200,Y=c.metadata.duration?15*c.metadata.duration:2e3,H=e=>{let t=(0,u.q$)(e.start,f),n=(0,u.q$)(e.end,f);E.setSelectionRange(t,n),j((0,u.L7)(t,1)||""),w((0,u.L7)(n,1)||"")},X=()=>{Z(!1),N(null),P(null)};(0,m.y1)("left",()=>{var e,t,n,i,l;E.isSelectionRangeActive()&&(null===(e=M.clip)||void 0===e?void 0:e.metadata.duration)&&O.current&&("l"===B?N(Math.max(0,(C||0)-f/(null===(t=M.clip)||void 0===t?void 0:t.metadata.duration)*(null===(n=O.current)||void 0===n?void 0:n.getBoundingClientRect().width))):"r"===B&&P(Math.max((C||0)+20,(S||0)-f/(null===(i=M.clip)||void 0===i?void 0:i.metadata.duration)*(null===(l=O.current)||void 0===l?void 0:l.getBoundingClientRect().width))))}),(0,m.y1)("right",()=>{var e,t,n,i,l,o;E.isSelectionRangeActive()&&(null===(e=M.clip)||void 0===e?void 0:e.metadata.duration)&&O.current&&("l"===B?N(Math.min((S||0)-20,(C||0)+f/(null===(t=M.clip)||void 0===t?void 0:t.metadata.duration)*(null===(n=O.current)||void 0===n?void 0:n.getBoundingClientRect().width))):"r"===B&&P(Math.min(null===(i=O.current)||void 0===i?void 0:i.getBoundingClientRect().width,(S||0)+f/(null===(l=M.clip)||void 0===l?void 0:l.metadata.duration)*(null===(o=O.current)||void 0===o?void 0:o.getBoundingClientRect().width))))}),(0,o.useEffect)(()=>{var e;let t=null===(e=F.current)||void 0===e?void 0:e.getBoundingClientRect().width;null!==c.metadata.duration&&void 0!==c.metadata.duration&&void 0!==x&&void 0!==t&&N(x/c.metadata.duration*t)},[x,c.metadata.duration]),(0,o.useEffect)(()=>{(async()=>{A(!1),X();let e=M.audioData[c.id];(!e||R)&&(e=await M.decodeAudio(c));let t=e.getChannelData(0),n=e.numberOfChannels>1?e.getChannelData(1):new Float32Array([...t]),i=Array.from(Array(Math.floor(t.length/Y)).keys()).map(e=>{let i=t.slice(e*Y,(e+1)*Y),l=n.slice(e*Y,(e+1)*Y);return Math.sqrt((i.map(e=>e**2).reduce((e,t)=>e+t,0)+l.map(e=>e**2).reduce((e,t)=>e+t,0))/(2*Y))}),l=1/Math.max(...i);D(i.map(e=>e*l))})()},[c]);let Q=()=>{let e=I.BYU().domain([0,z.length]).range([0,L.current.getBoundingClientRect().width]),t=I.BYU().domain([0,Math.max(...z)]).range([50,100]),n=I.BYU().domain([0,Math.max(...z)]).range([50,100]),i=I.SOn().x(t=>e(t.x)).y0(e=>t(e.y)).y1(e=>n(-1*e.y)).curve(I.zgE),l=I.jvg().x(t=>e(t.x)).y(e=>t(e.y)).curve(I.zgE),o=I.jvg().x(t=>e(t.x)).y(e=>n(-1*e.y)).curve(I.zgE);I.Ys("#demo").selectAll("path").remove();let a=I.Ys("#demo").append("defs").append("linearGradient").attr("id","linear-gradient");a.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%"),a.append("stop").attr("offset","0%").attr("stop-color","rgba(250, 247, 245, 0.1)"),a.append("stop").attr("offset","40%").attr("stop-color","rgba(250, 247, 245, 0.3)"),a.append("stop").attr("offset","50%").attr("stop-color","rgba(250, 247, 245, 0.32)"),a.append("stop").attr("offset","60%").attr("stop-color","rgba(250, 247, 245, 0.3)"),a.append("stop").attr("offset","100%").attr("stop-color","rgba(250, 247, 245, 0.1)"),I.Ys("#demo").append("path").attr("d",i(z.map((e,t)=>({x:t,y:e})))).attr("pointer-events","none").attr("fill","url(#linear-gradient)").attr("stroke","none"),I.Ys("#demo").append("path").attr("d",l(z.map((e,t)=>({x:t,y:e})))).attr("pointer-events","none").attr("fill","none").attr("stroke","rgb(250, 247, 245, 0.6)").attr("stroke-width","1"),I.Ys("#demo").append("path").attr("d",o(z.map((e,t)=>({x:t,y:e})))).attr("pointer-events","none").attr("fill","none").attr("stroke","rgb(250, 247, 245, 0.6)").attr("stroke-width","1")};return(0,o.useEffect)(()=>{Q()},[z]),(0,o.useEffect)(()=>{T||E.isScrubbing?document.body.classList.add("no-drag"):document.body.classList.remove("no-drag")},[T,E.isScrubbing]),(0,o.useEffect)(()=>{let e=new ResizeObserver(()=>{var e,t,n,i,l,o;if(T)return;let a=null===(e=O.current)||void 0===e?void 0:e.getBoundingClientRect().width;a&&(null===(t=c.metadata)||void 0===t?void 0:t.duration)&&(null!==C&&(null===(n=E.selectionRange)||void 0===n?void 0:n.start)&&N((null===(l=E.selectionRange)||void 0===l?void 0:l.start)/c.metadata.duration*a),null!==S&&(null===(i=E.selectionRange)||void 0===i?void 0:i.end)&&P((null===(o=E.selectionRange)||void 0===o?void 0:o.end)/c.metadata.duration*a)),Q()});return e.observe(O.current),()=>{O.current&&e.unobserve(O.current),e.disconnect()}},[z,C,S,null===(t=c.metadata)||void 0===t?void 0:t.duration,T]),(0,o.useEffect)(()=>{W(0*K)},[C,null===(n=F.current)||void 0===n?void 0:n.offsetLeft]),(0,o.useEffect)(()=>{null===E.selectionRange&&(N(null),P(null))},[E.selectionRange,y]),(0,l.jsxs)(_.xu,{position:"relative",ref:O,children:[!z.length&&(0,l.jsx)("div",{className:"absolute top-0 flex flex-row w-full h-full items-center justify-center",children:(0,l.jsx)(k.$,{})}),(0,l.jsx)(_.xu,{backgroundColor:"rgba(255,255,255,0.1)",position:"absolute",h:"".concat(1*K,"px"),top:"".concat(G,"px"),display:null!==C?"block":"none",left:C?"".concat(C,"px"):void 0,width:null!==S&&null!==C&&(null===(i=c.metadata)||void 0===i?void 0:i.duration)?"".concat(S-C,"px"):null!==C?"1px":0,pointerEvents:null===C||null===S||T||E.isScrubbing?"none":void 0,zIndex:v.Cy,onMouseDown:e=>{E.setIsScrubbing(!0),requestAnimationFrame(()=>{var t;let n=null===(t=O.current)||void 0===t?void 0:t.getBoundingClientRect(),i=e.clientX-n.x;M.userSetCurrentProgress(i/n.width*100)})},children:null!==C&&null!==S&&Math.abs(S-C)>10?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{onMouseDown:e=>{Z(!0),q("l"),e.stopPropagation()},className:"".concat("l"===B?"bg-white":"bg-neutral-400"," hover:bg-white h-full left-0 absolute w-1 content-center items-center rounded-lg cursor-ew-resize")}),(0,l.jsx)("div",{onMouseDown:e=>{Z(!0),q("r"),e.stopPropagation()},className:"".concat("r"===B?"bg-white":"bg-neutral-400"," hover:bg-white h-full right-0 absolute w-1 content-center items-center rounded-lg cursor-ew-resize")}),(0,l.jsx)("div",{draggable:!1,className:"absolute text-[8px] select-none font-bold font-mono text-primary bg-vinylBlack-darker bg-opacity-70 backdrop-blur-md w-min-content rounded-sm h-auto px-1 bottom-0 left-0 transition-opacity duration-[525ms] pointer-events-none",children:(0,u.L7)(Math.max((null===(a=E.selectionRange)||void 0===a?void 0:a.start)||0,0),1)}),(0,l.jsx)("div",{draggable:!1,className:"absolute text-[8px] select-none font-bold font-mono text-primary bg-vinylBlack-darker bg-opacity-70 backdrop-blur-md w-min-content rounded-sm h-auto px-1 bottom-0 right-0 transition-opacity duration-[525ms] pointer-events-none",children:(0,u.L7)(null===(s=E.selectionRange)||void 0===s?void 0:s.end,1)})]}):null}),M.currentTime&&O.current?(0,l.jsx)("div",{className:"w-[0px] border border-white h-full absolute pointer-events-none ".concat(E.isScrubbing||b?"":"transition transition-[left] ease-linear duration-[525ms]"),style:{left:"".concat(M.currentTime/M.duration*O.current.getBoundingClientRect().width,"px")}}):null,(0,l.jsx)("div",{onMouseDown:e=>{var t;let n=e.target.getBoundingClientRect(),i=e.clientX-n.x;if(null!==C&&null!==S){E.setIsScrubbing(!0),requestAnimationFrame(()=>{M.userSetCurrentProgress(i/n.width*100)});return}P(null),N(i),V(i),Z(!0),q(null),H({start:i/n.width*((null===(t=c.metadata)||void 0===t?void 0:t.duration)||0),end:void 0})},onMouseMove:e=>{if(T||E.isScrubbing){var t,n,i,l,o,a,s,r,d;let p={},m=e.target.getBoundingClientRect(),x=c.metadata.duration||0,v=e.clientX-m.x,b=(0,u.q$)(v/m.width*(x||0),f)/(x||1)*m.width;if(E.isScrubbing){M.userSetCurrentProgress(v/m.width*100);return}if(B){let e=C||0,t=S||0;if("l"===B?e=Math.min(b,t):t=Math.max(b,e),g){let n=g/x*m.width;t-e>n&&("l"===B?e=t-n:t=e+n)}N(e),P(t),p.start=e/m.width*x,p.end=t/m.width*x,H(p);return}let y=Math.min(Math.max(b,U&&(null===(t=c.metadata)||void 0===t?void 0:t.duration)?U-(g||(null===(n=c.metadata)||void 0===n?void 0:n.duration))/(null===(i=c.metadata)||void 0===i?void 0:i.duration)*m.width:0),U||0),j=Math.max(Math.min(b,U&&(null===(l=c.metadata)||void 0===l?void 0:l.duration)?U+(g||(null===(o=c.metadata)||void 0===o?void 0:o.duration))/(null===(a=c.metadata)||void 0===a?void 0:a.duration)*m.width:0),U||0);"range"===h?(p.start=y/m.width*((null===(s=c.metadata)||void 0===s?void 0:s.duration)||0),p.end=j/m.width*((null===(r=c.metadata)||void 0===r?void 0:r.duration)||0),N(y),P(j)):(p.start=v/m.width*((null===(d=c.metadata)||void 0===d?void 0:d.duration)||0),p.end=void 0,N(v),P(null)),H(p)}},onMouseLeave:e=>{var t;if(!T&&!E.isScrubbing)return;let n=null===(t=O.current)||void 0===t?void 0:t.getBoundingClientRect();if(n){let t=e.clientX;if(E.selectionRange&&g&&E.selectionRange.end-E.selectionRange.start===g)return;t<n.left?requestAnimationFrame(()=>N(0)):t>n.right&&requestAnimationFrame(()=>P(n.width))}},onMouseUp:()=>{if(Z(!1),null!==C&&null===S){E.clearSelectionRange(),E.setIsScrubbing(!0),requestAnimationFrame(()=>{var e;M.userSetCurrentProgress(C/(null===(e=O.current)||void 0===e?void 0:e.getBoundingClientRect().width)*100),requestAnimationFrame(()=>{E.setIsScrubbing(!1)})});return}null!==C&&null!==S&&10>Math.abs(S-C)&&E.clearSelectionRange(),E.setIsScrubbing(!1)},onMouseOut:()=>{Z(!1),E.setIsScrubbing(!1),null!==C&&null!==S&&10>Math.abs(S-C)&&E.clearSelectionRange()},children:(0,l.jsx)("svg",{ref:L,style:{width:"100%",height:"".concat(K,"px"),paddingLeft:"0px",paddingRight:"0px"},id:"demo"})}),null!==C&&null!==S?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"h-full absolute top-0 left-0 opacity-70 bg-quaternary pointer-events-none z-[2] select-none",style:{width:C?"".concat(Math.max(C,0),"px"):"0px"}}),(0,l.jsx)("div",{className:"h-full absolute top-0 right-0 opacity-70 bg-quaternary pointer-events-none z-[2] select-none",style:{width:S&&O.current?"".concat(Math.max((null===(r=O.current)||void 0===r?void 0:r.getBoundingClientRect().width)-S,0),"px"):"0px"}})]}):null]})});var M=n(16463),E=n(76684);let F=e=>{let{label:t,children:n}=e;return(0,l.jsx)(E.u,{fontFamily:"Neue Montreal",label:t,size:"sm",background:v.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:n})};var O=n(67561);let L=(0,r.Pi)(e=>{let{handlePlayerTogglePlay:t}=e,{playbar:n}=(0,d.mZ)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(F,{label:"Repeat 1",children:(0,l.jsx)("button",{"aria-label":"Playbar: Toggle repeat button",className:"block outline-none select-none p-1 rounded-md hover:bg-transparentWhite",onClick:()=>{n.toggleRepeat()},draggable:"false",children:(0,l.jsx)(C.Z,{src:n.repeat?"/icons/repeat.svg":"/icons/repeat-gray.svg",alt:"Repeat",width:14,height:14,draggable:"false"})})}),(0,l.jsx)("button",{"aria-label":"Playbar: Previous Song button",onClick:()=>{n.stepBackward()},className:"outline-none p-1 rounded-md",draggable:"false",children:(0,l.jsx)(C.Z,{src:"/icons/backward-step.svg",alt:"Previous",width:12,height:12,draggable:"false"})}),n.isPlaying?(0,l.jsx)("button",{"aria-label":"Playbar: Pause button",className:"w-[28px] h-[28px] flex outline-none justify-center items-center p-[5px] rounded-md",onClick:()=>{t()},children:(0,l.jsx)(C.Z,{className:"select-none",src:"/icons/pause-active.svg",alt:"Pause",draggable:"false",width:"16",shouldFallback:!1})}):(0,l.jsx)("button",{"aria-label":"Playbar: Play button",className:"w-[28px] h-[28px] flex justify-center outline-none p-[5px] rounded-md",onClick:()=>{var e;n.clip&&(null===(e=n.audioElement)||void 0===e?void 0:e.src)===n.clip.audio_url?n.togglePlay():n.noClipPlayCallback&&n.noClipPlayCallback()},children:(0,l.jsx)(C.Z,{src:"/icons/play.svg",draggable:"false",alt:"Play",width:"16",shouldFallback:!1})}),(0,l.jsx)("button",{"aria-label":"Playbar: Next Song button",className:"outline-none p-1 rounded-md",onClick:()=>{n.stepForward()},draggable:"false",children:(0,l.jsx)(C.Z,{src:"/icons/forward-step.svg",alt:"Next",width:12,height:12,draggable:"false"})}),(0,l.jsx)(F,{label:"Autoplay",children:(0,l.jsx)("button",{draggable:"false","aria-label":"Playbar: Toggle autoplay button",className:"block select-none hover:bg-transparentWhite p-1 rounded-md",onClick:()=>{n.toggleAutoplay()},children:(0,l.jsx)(C.Z,{src:n.autoplay?"/icons/infinite.svg":"/icons/infinite-gray.svg",alt:"Infinite",width:14,height:14,draggable:"false"})})})]})}),R=(0,r.Pi)(e=>{var t,n,i,a,s,r,c,h,g,I,_,E,F,R,A,z,D,T,Z,B,q,U,V,G,W,K,Y,H,X,Q,J,$;let ee,{width:et,truncate:en=!1,hidden:ei=!1}=e,{playbar:el,clips:eo,session:ea,edit:es,genForm:er}=(0,d.mZ)(),ed=(0,M.usePathname)(),ec=(0,M.useRouter)(),eu=o.useRef(null),ep=o.useRef(null),em=(0,o.useRef)(null),ex=(0,o.useRef)(null),eh=(0,o.useRef)(null),eg=(0,o.useRef)(null),ef=(null===(t=el.clip)||void 0===t?void 0:t.id)?eo.clipById[null===(n=el.clip)||void 0===n?void 0:n.id]:null,[ev]=(0,j.a)("(max-width: 768px)");(0,o.useLayoutEffect)(()=>{eu.current&&el.setAudioElement(eu.current)},[eu.current]),(0,o.useLayoutEffect)(()=>{ep.current&&el.setSilentAudioElement(ep.current)},[ep.current]),(0,o.useEffect)(()=>{new ResizeObserver(()=>{var e;let t=em.current?Math.floor((null===(e=em.current)||void 0===e?void 0:e.getBoundingClientRect().width)*Math.min(el.currentTime/el.duration,1)):null;ex.current&&eh.current&&(ex.current.style.width="".concat(t,"px"),eh.current.style.left="".concat(t,"px"))}).observe(em.current)},[em.current]),(0,m.y1)("space",e=>{ey(),e.preventDefault()},[]);let eb={isMobile:ev,hasClip:(null===(i=el.clip)||void 0===i?void 0:i.id)!=null,clipId:(null===(a=el.clip)||void 0===a?void 0:a.id)||void 0,isPlaying:el.isPlaying,clipCount:(null===(s=eo.clipIds)||void 0===s?void 0:s.length)||0,playlistCount:(null===(r=eo.playlistIds)||void 0===r?void 0:r.length)||0,allPlaylistIdsCount:(null===(c=eo.playlistIds)||void 0===c?void 0:c.length)||0,isUserSongOwner:(null==ea?void 0:ea.userId)!==void 0&&(null==ea?void 0:ea.userId)===(null==ef?void 0:ef.user_id)},ey=()=>{var e,t,n,i,l,o;el.loadingStream?b.g.track(y.Vy.audioPlayerWhileLoadingPlayClicked,eb):el.isPlaying?b.g.track(y.Vy.audioPlayerPauseClicked,eb):b.g.track(y.Vy.audioPlayerPlayClicked,{isMobile:ev,hasClip:(null===(t=el.clip)||void 0===t?void 0:t.id)!=null,clipId:(null===(n=el.clip)||void 0===n?void 0:n.id)||void 0,isPlaying:el.isPlaying,clipCount:(null===(i=eo.clipIds)||void 0===i?void 0:i.length)||0,playlistCount:(null===(l=eo.playlistIds)||void 0===l?void 0:l.length)||0,allPlaylistIdsCount:(null===(o=eo.playlistIds)||void 0===o?void 0:o.length)||0,isUserSongOwner:(null==ea?void 0:ea.userId)!==void 0&&(null==ea?void 0:ea.userId)===(null==ef?void 0:ef.user_id),startTime:el.currentTime}),el.clip&&(null===(e=el.audioElement)||void 0===e?void 0:e.src)===el.clip.audio_url?el.togglePlay():el.noClipPlayCallback&&el.noClipPlayCallback()},[ej,ew]=(0,o.useState)(!1),[ek,eC]=(0,o.useState)(null),[eS,eN]=(0,o.useState)(!1),[eI,e_]=(0,o.useState)(""),[eP,eM]=(0,o.useState)(""),[eE,eF]=(0,o.useState)("trim"),[eO,eL]=(0,o.useState)(null),[eR,eA]=(0,o.useState)(null),[ez,eD]=(0,o.useState)(void 0),eT=(0,o.useRef)(null),eZ=(0,u.q$)(((null===(h=es.selectionRange)||void 0===h?void 0:h.end)||0)-((null===(g=es.selectionRange)||void 0===g?void 0:g.start)||0),1);(0,o.useEffect)(()=>{null!=ee&&(clearTimeout(ee),ee=null),ee=setTimeout(()=>{var e,t;e_((0,u.L7)(Math.max((null===(e=es.selectionRange)||void 0===e?void 0:e.start)||0,0),1)),eM((0,u.L7)(Math.max((null===(t=es.selectionRange)||void 0===t?void 0:t.end)||0,0),1))},0)},[null===(I=es.selectionRange)||void 0===I?void 0:I.start,null===(_=es.selectionRange)||void 0===_?void 0:_.end]),(0,o.useEffect)(()=>{var e,t;es.clearSelectionRange(),e_((0,u.L7)(Math.max((null===(e=es.selectionRange)||void 0===e?void 0:e.start)||0,0),1)),eM((0,u.L7)(Math.max((null===(t=es.selectionRange)||void 0===t?void 0:t.end)||0,0),1))},[es.editingClipId]),(0,w.O)({ref:eg,handler:()=>{eS&&eN(!1)}}),(0,o.useEffect)(()=>{ej?document.body.classList.add("no-drag"):document.body.classList.remove("no-drag")},[ej]);let eB=(null===(E=es.selectionRange)||void 0===E?void 0:E.start)===void 0||(null===(F=es.selectionRange)||void 0===F?void 0:F.end)===void 0||eZ<5||es.isLoading||(null===(R=eo.clipById[(null===(A=el.clip)||void 0===A?void 0:A.id)||""])||void 0===R?void 0:R.status)!=="complete",eq=(null===(z=es.selectionRange)||void 0===z?void 0:z.start)===void 0||(null===(D=es.selectionRange)||void 0===D?void 0:D.end)===void 0||eZ<5||!!ez&&eZ>ez||es.isLoading||(null===(T=eo.clipById[(null===(Z=el.clip)||void 0===Z?void 0:Z.id)||""])||void 0===T?void 0:T.status)!=="complete",eU=[{key:"trim",name:"Trim",content:(0,l.jsx)(N.Z,{isDisabled:eB,onClick:()=>{"/create"!==ed&&ec.push("/create"),es.cropClip(),(0,d.Am)({title:"Adding trimmed clip to your library...",status:"success",duration:4e3,isClosable:!0})},text:"Trim",isLoading:es.isLoading})},...(null===(B=ea.flags)||void 0===B?void 0:B["waveform-continue-from"])?[{key:"editsegment",name:"Edit Segment",maxSelectionSecs:60,content:(0,l.jsx)(N.Z,{isDisabled:eq,onClick:()=>{var e,t,n,i,l,o,a,s,r,d;"/create"!==ed&&ec.push("/create"),er.setContinueClip(el.clip),er.setContinueAtSeconds(er.continueClipDuration),er.setInfillFromSeconds((null===(e=es.selectionRange)||void 0===e?void 0:e.start)||null),er.setInfillToSeconds((null===(t=es.selectionRange)||void 0===t?void 0:t.end)||null),er.setStyle((null===(n=el.clip)||void 0===n?void 0:n.metadata.tags)||""),er.setTitle((null===(i=el.clip)||void 0===i?void 0:i.title)?"[".concat((0,u.L7)((null===(l=es.selectionRange)||void 0===l?void 0:l.start)||0,1)," - ").concat((0,u.L7)((null===(o=es.selectionRange)||void 0===o?void 0:o.end)||0,1),"] ").concat(null===(a=el.clip)||void 0===a?void 0:a.title.substring(0,60)):"[".concat((0,u.L7)((null===(s=es.selectionRange)||void 0===s?void 0:s.start)||0,1)," - ").concat((0,u.L7)((null===(r=es.selectionRange)||void 0===r?void 0:r.end)||0,1),"] Untitled")),er.setLyrics((null===(d=el.clip)||void 0===d?void 0:d.metadata.prompt)||"")},text:"Select Segment",isLoading:es.isLoading})}]:[]];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-[calc(100%-32px)] rounded-none lg:rounded-lg xl:rounded-lg bg-transparent absolute bottom-0 ml-4 mr-4 z-50 ".concat(en?"lg:w-[calc(100%-264px)] xl:w-[calc(100%-264px)]":"lg:w-[calc(100%-32px)] xl:w-[calc(100%-32px)]"," ").concat(ei?"hidden":""),children:(0,l.jsxs)("div",{className:"w-full md:pb-5 bottom-0 h-auto z-5 min-w-[300px] bg-vinylBlack-darker rounded-t-xl",onPointerMove:e=>{if(ej){var t,n;eC(Math.min(e.clientX,(null===(t=em.current)||void 0===t?void 0:t.getBoundingClientRect().left)+(null===(n=em.current)||void 0===n?void 0:n.getBoundingClientRect().width)))}},onPointerUp:()=>{if(ej&&ek&&(null==ef?void 0:ef.metadata.duration)){var e,t;ew(!1),eC(null);let n=ek-(null===(e=em.current)||void 0===e?void 0:e.getBoundingClientRect().left);el.userSetCurrentProgress(n/(null===(t=em.current)||void 0===t?void 0:t.getBoundingClientRect().width)*100),requestAnimationFrame(()=>{ex.current.style.width="".concat(n,"px"),eh.current.style.left="".concat(n,"px")})}},onPointerLeave:()=>{if(ek&&(null==ef?void 0:ef.metadata.duration)){var e,t;el.userSetCurrentProgress((ek-(null===(e=em.current)||void 0===e?void 0:e.getBoundingClientRect().left))/(null===(t=em.current)||void 0===t?void 0:t.getBoundingClientRect().width)*100)}ew(!1),eC(null)},children:[(0,l.jsx)("audio",{id:"active-audio-play",ref:eu,src:void 0}),(0,l.jsx)("audio",{id:"silent-audio",ref:ep,src:"https://cdn1.suno.ai/silence.mp3"}),(0,l.jsxs)("div",{ref:em,className:"h-auto min-h-16 overflow-x-hidden overflow-y-visible rounded-xl border-white/[0.15] border border-solid text-sm flex flex-1 flex-col font-medium font-sans text-primary bg-quaternary",children:[(0,l.jsx)("div",{className:"absolute bottom-8 w-full h-24 z-[-1] bg-gradient-to-t from-vinylBlack-darker via-vinylBlack-darker to-vinylBlack-darker/30 blur-lg pointer-events-none"}),el.clip&&es.isEditorOpen?(0,l.jsxs)("div",{className:"w-full hidden md:block",children:[(0,l.jsxs)("div",{className:"w-full flex flex-row gap-4 p-1",children:[(0,l.jsx)(O.Z,{selections:eU,onChange:e=>{es.clearSelectionRange();let t=eU.find(t=>t.key===e);(null==t?void 0:t.key)==="extend"&&er.setContinueClip(el.clip),eD((null==t?void 0:t.maxSelectionSecs)||void 0),eF(e)}}),(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,l.jsx)("input",{className:"p-2 rounded-lg w-16 tabular-nums tracking-tight text-xs",draggable:!1,type:"text",value:eI,onChange:e=>{let t=e.target.value;/^[0-9:.]*$/.test(t)&&e_(t)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),e.currentTarget.blur())},onBlur:()=>{var e,t,n,i;let l=(0,u.q$)((0,u.lh)(eI)||0,.2),o=(0,u.q$)((0,u.lh)(eP)||0,.2);if(void 0!==l&&void 0!==o&&null!==l&&null!==o&&(null==ef?void 0:ef.metadata.duration)){if(ez&&o-l>ez){e_((0,u.L7)(null===(e=es.selectionRange)||void 0===e?void 0:e.start,1));return}l===o?e_((0,u.L7)(null===(t=es.selectionRange)||void 0===t?void 0:t.start,1)):l<o?(es.setSelectionRange(l,o),e_((0,u.L7)(l,1)),eL(l/(null==ef?void 0:ef.metadata.duration)*(null===(n=em.current)||void 0===n?void 0:n.getBoundingClientRect().width))):e_((0,u.L7)((null===(i=es.selectionRange)||void 0===i?void 0:i.start)||0,1))}}}),(0,l.jsx)("span",{className:"text-xs select-none pointer-events-none",draggable:!1,children:"â€”"}),(0,l.jsx)("input",{className:"p-2 rounded-lg w-16 tabular-nums tracking-tight text-xs",draggable:!1,type:"text",value:eP,onChange:e=>{let t=e.target.value;/^[0-9:.]*$/.test(t)&&eM(t)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),e.currentTarget.blur())},onBlur:()=>{var e,t,n,i,l;let o=(0,u.q$)((0,u.lh)(eI)||0,.2),a=(0,u.q$)((0,u.lh)(eP)||0,.2);if(void 0!==o&&void 0!==a&&null!==o&&null!==a&&(null==ef?void 0:ef.metadata.duration)){if(ez&&a-o>ez){eM((0,u.L7)(null===(e=es.selectionRange)||void 0===e?void 0:e.end,1));return}o===a?eM((0,u.L7)(null===(t=es.selectionRange)||void 0===t?void 0:t.end,1)):o<a?a<(null==ef?void 0:ef.metadata.duration)?(es.setSelectionRange(o,a),eM((0,u.L7)(a,1)),eA(a/(null==ef?void 0:ef.metadata.duration)*(null===(n=em.current)||void 0===n?void 0:n.getBoundingClientRect().width))):eM((0,u.L7)(null===(i=es.selectionRange)||void 0===i?void 0:i.end,1)):e_((0,u.L7)(null===(l=es.selectionRange)||void 0===l?void 0:l.start,1))}}}),(null===(q=es.selectionRange)||void 0===q?void 0:q.start)!==void 0&&(null===(U=es.selectionRange)||void 0===U?void 0:U.end)!==void 0&&(0,l.jsx)(N.Z,{onClick:()=>{es.clearSelectionRange()},text:"Reset"})]}),(0,l.jsx)("div",{className:"flex flex-1 flex-row-reverse select-none pr-1",children:null===(V=eU.find(e=>e.key===eE))||void 0===V?void 0:V.content})]}),(0,l.jsx)(P,{clip:el.clip,height:100,isDraggingPlaybar:ej,actionMode:eE,quantizeSelectionSecs:.2,selectionType:"range",maxSelectionRangeSecs:ez,setWaveformStartInput:e_,setWaveformEndInput:eM,startPosition:eO,endPosition:eR,setStartPosition:eL,setEndPosition:eA})]}):null,(0,l.jsx)("div",{className:"flex flex-row flex-1 content-between items-center p-2",children:(0,l.jsxs)(x.Pd.Provider,{value:{className:"stroke-white fill-white text-xl"},children:[ef?(0,l.jsxs)("div",{className:"w-full md:w-8 flex flex-1 items-center relative overflow-hidden",children:[(0,l.jsx)(C.Z,{imageSize:v.YY,className:"rounded-md w-10 h-16 md:h-14 mr-2 object-cover cursor-pointer",src:ef.image_url||null,alt:"Cover image for ".concat(null==ef?void 0:ef.title),"aria-label":"Playbar: Cover image for ".concat(null==ef?void 0:ef.title),onClick:()=>{ef&&ef.id&&ec.push("/song/".concat(ef.id))}}),(0,l.jsxs)("div",{className:"w-full md:w-auto relative flex flex-col pr-2",children:[(0,l.jsxs)("div",{className:"relative w-fit flex overflow-x-hidden text-sm font-medium hover:underline cursor-pointer",children:[(0,l.jsx)("div",{className:"animate-marquee md:animate-none",children:(0,l.jsx)(p.default,{href:"/song/".concat(null==ef?void 0:ef.id),className:"whitespace-nowrap mr-24","aria-label":"Playbar: Title for ".concat(null==ef?void 0:ef.title),children:(0,u.M8)(ef)})}),(0,l.jsx)("div",{className:"absolute top-0 animate-marquee2 md:animate-none",children:(0,l.jsx)(p.default,{href:"/song/".concat(null==ef?void 0:ef.id),className:"whitespace-nowrap mr-24 md:hidden","aria-label":"Playbar: Title for ".concat(null==ef?void 0:ef.title),children:(0,u.M8)(ef)})}),(0,l.jsx)("div",{className:"absolute right-0 w-full bg-gradient-to-r from-transparent via-quaternary md:hidden to-quaternary h-full"})]}),(0,l.jsxs)("span",{className:"text-sm font-medium flex flex-col md:flex-row",children:[(0,l.jsx)(p.default,{href:"/@".concat(ef.handle),className:"relative w-full md:w-fit flex hover:underline","aria-label":"Playbar: Artist for ".concat(null==ef?void 0:ef.title),children:(0,l.jsx)("span",{className:"lg:max-w-[150px] line-clamp-1 w-full",children:ef.display_name})}),el.clip?(0,l.jsx)("div",{className:"-translate-x-2 md:hidden",children:(0,l.jsx)(S.Z,{clip:eo.clipById[null===(G=el.clip)||void 0===G?void 0:G.id],width:"min-content",isPlaybar:!0})}):(0,l.jsx)("div",{className:"w-8 flex flex-1"}),(0,l.jsx)("span",{className:"text-lightGray mx-2 hidden md:block",children:"|"}),(0,l.jsxs)("span",{"aria-label":"Playbar: Duration for ".concat(null==ef?void 0:ef.title),className:"align-middle whitespace-nowrap hidden md:flex",children:[(0,u.L7)(el.currentTime||0)," /"," ",ef.metadata.duration?(0,u.L7)(ef.metadata.duration):(0,l.jsx)(k.$,{size:"xs",mt:"1px",ml:"3px",opacity:.8})]})]})]})]}):(0,l.jsx)("div",{className:"w-8 flex flex-1"}),(0,l.jsx)("div",{className:"flex-1 flex-row w-8 justify-center gap-4 hidden md:flex",children:(0,l.jsx)(L,{handlePlayerTogglePlay:ey})}),(0,l.jsxs)("div",{className:"flex md:flex-1 flex-row-reverse w-fit items-left gap-2 justify-right",children:[(null===(W=ea.flags)||void 0===W?void 0:W["editing-crop"])&&(null==ef?void 0:ef.user_id)===(null===(K=ea.user)||void 0===K?void 0:K.id)&&(0,l.jsxs)("button",{onPointerDown:()=>{es.setIsEditorOpen(!es.isEditorOpen),eF("trim"),es.setEditingClip(null==el?void 0:el.clip),es.clearSelectionRange(),eL(null),eA(null),e_("00:00.0"),eM("00:00.0")},disabled:!ef||"streaming"===ef.status,className:"hidden md:flex items-center px-3 py-1 bg-tertiary text-primary font-medium text-sm gap-1 rounded-lg cursor-pointer select-none w-fit","aria-label":"Playbar: Toggle editor for ".concat(null==ef?void 0:ef.title),children:["Edit",es.isEditorOpen?(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"w-3 h-3 fill-white",children:(0,l.jsx)("path",{d:"M224 397.3l22.6-22.6 160-160 22.7-22.7-45.3-45.3-22.6 22.6L224 306.7 86.6 169.4 64 146.7 18.7 192l22.6 22.6 160 160 22.7 22.7z"})}):(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"w-3 h-3 fill-white",children:(0,l.jsx)("path",{d:"M224 114.7l22.6 22.6 160 160 22.7 22.7-45.3 45.3-22.6-22.6L224 205.3 86.6 342.6 64 365.3 18.7 320l22.6-22.6 160-160 22.7-22.7z"})})]}),(0,l.jsxs)("div",{className:"flex flex-row-reverse items-center w-fit",children:[(0,l.jsx)("button",{className:"cursor-pointer hidden md:block hover:bg-transparentWhite rounded-md p-2",onPointerDown:e=>{eN(!eS),e.currentTarget.focus(),e.preventDefault(),e.stopPropagation()},"aria-label":"Playbar: Volume Slider",ref:eT,children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",className:"w-4 h-4  fill-white",children:(0,l.jsx)("path",{d:"M592 256c0 78.5-37.7 148.2-96 192l28.8 38.4C594.7 433.9 640 350.3 640 256.1v-.2c0-94.2-45.3-177.8-115.2-230.3L496 64c58.3 43.8 96 113.5 96 192zM438.4 371.2l28.8 38.4c46.6-35 76.8-90.8 76.8-153.6s-30.2-118.6-76.8-153.6l-28.8 38.4c35 26.3 57.6 68.1 57.6 115.2s-22.6 88.9-57.6 115.2zM400 256c0 15.7-7.5 29.6-19.2 38.4l28.8 38.4c23.3-17.5 38.4-45.4 38.4-76.8s-15.1-59.3-38.4-76.8l-28.8 38.4c11.7 8.8 19.2 22.7 19.2 38.4zM0 160v192h128l144 128h48V32h-48L128 160H0z"})})}),el.clip?(0,l.jsx)("div",{className:"hidden md:block","aria-label":"Playbar: More actions",children:(0,l.jsx)(S.Z,{clip:eo.clipById[null===(Y=el.clip)||void 0===Y?void 0:Y.id],width:"min-content",isPlaybar:!0})}):(0,l.jsx)("div",{className:"w-8 flex flex-1"})]}),(0,l.jsxs)("div",{className:"w-fit h-auto flex flex-col md:hidden items-center gap-4 bg-transparent",children:[(0,l.jsx)("div",{className:"items-center gap-4 flex flex-row h-auto w-fit",children:(0,l.jsx)(x.Pd.Provider,{value:{className:"stroke-white fill-white text-xl"},children:(0,l.jsx)(L,{handlePlayerTogglePlay:ey})})}),(0,l.jsxs)("span",{className:"whitespace-nowrap text-secondary flex items-center",children:[(0,u.L7)(el.currentTime||0)," /"," ",(null==ef?void 0:ef.metadata.duration)?(0,u.L7)(ef.metadata.duration):(0,l.jsx)(k.$,{size:"xs",opacity:.8,ml:"3px"})]})]})]})]})}),!!el.duration&&(0,l.jsxs)("div",{className:"h-2 w-full flex flex-row cursor-pointer bg-quinary",onPointerDown:()=>{ef&&(null==ef?void 0:ef.status)!=="streaming"&&ew(!0)},onPointerUp:()=>{ew(!1)},onClick:e=>{if(ef&&(null==ef?void 0:ef.status)!=="streaming"){ew(!0);let t=e.clientX-e.currentTarget.getBoundingClientRect().left;el.userSetCurrentProgress(t/e.currentTarget.getBoundingClientRect().width*100);let n=Math.min(t,e.currentTarget.getBoundingClientRect().width);requestAnimationFrame(()=>{ew(!1),ex.current.style.width="".concat(n,"px"),eh.current.style.left="".concat(n,"px")})}},children:[(0,l.jsx)("div",{className:"h-2 bg-primary ".concat(ej||es.isScrubbing?"":"transition ease-linear duration-[525ms]"),ref:ex,onPointerDown:()=>{ef&&(null==ef?void 0:ef.status)!=="streaming"&&ew(!0)},onPointerUp:()=>{ew(!1)},style:{width:ek?"".concat(ek-(null===(H=em.current)||void 0===H?void 0:H.getBoundingClientRect().left),"px"):"".concat(Math.floor((null===(X=em.current)||void 0===X?void 0:X.getBoundingClientRect().width)*Math.min(el.currentTime/el.duration,1)),"px")}}),(0,l.jsx)("button",{ref:eh,onPointerDown:()=>{el.loadingStream||ew(!0)},onPointerUp:()=>{ew(!1)},style:{left:(null===(Q=ex.current)||void 0===Q?void 0:Q.style.width)||0},className:"hidden absolute -m-[2px] w-3 h-3 rounded-full bg-primary cursor-pointer hover:h-[22px] hover:w-[22px] hover:-m-2 ".concat(ej||es.isScrubbing?"":"transition-all ease-in-out duration-500")})]})]})]})}),eS&&(0,l.jsx)(f,{top:null===(J=eT.current)||void 0===J?void 0:J.getBoundingClientRect().top,left:null===($=eT.current)||void 0===$?void 0:$.getBoundingClientRect().left,ref:eg})]})});var A=()=>(0,l.jsx)(p.default,{href:"/",children:(0,l.jsxs)("div",{className:"logo-container w-24 h-24",children:[(0,l.jsx)("style",{children:"\n          .logo-container {\n            position: relative;\n            display: inline-block;\n            width: 6.5rem;\n            height: 6.5rem;\n            overflow: hidden;\n          }\n          .logo-image {\n            width: 100%;\n            height: 100%;\n            object-fit: contain;\n          }\n        "}),(0,l.jsx)("img",{src:"/logos/Logo-".concat(Math.floor(8*Math.random())+1,".svg"),className:"logo-image static",alt:"Suno Logo"})]})}),z=n(51064),D=n(18938),T=n(99890),Z=n(17458),B=n(29824),q=n(39467),U=n(64973),V=n(35500),G=n(54018),W=n(30505),K=n(65125),Y=n(26234),H=n(65870);let X=(0,r.Pi)(e=>{var t,n,i,o,r,c,u,m,x,h,g;let{onOpenEditProfile:f}=e,{isLoaded:b,isSignedIn:y}=(0,z.aC)(),j=(0,z.ll)(),{session:w}=(0,d.mZ)(),k=(0,M.useRouter)();return(0,l.jsxs)("div",{children:[b&&!y?(0,l.jsx)(_.xu,{whiteSpace:"nowrap",mr:[2,0,0],children:(0,l.jsx)(z.gX,{mode:"modal",children:(0,l.jsx)(Y.Z,{color:"white",leftIcon:(0,l.jsx)("div",{className:"mr-1",children:(0,l.jsx)(K.HOZ,{})}),onClick:()=>{},text:"Sign In"})})}):null,b&&y&&(0,l.jsx)(_.xu,{mt:2,children:(0,l.jsxs)(T.v,{children:[(0,l.jsx)(Z.j,{"data-testid":"profile-menu-button","aria-label":"Profile menu button",children:(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[(0,l.jsx)(H.Z,{imageSize:v.YY,src:null===(t=w.user)||void 0===t?void 0:t.avatar_image_url,borderRadius:"full",boxSize:"36px"}),(0,l.jsx)("span",{className:"hidden text-sm w-16 ml-2 font-sans truncate text-ellipsis",children:(null===(n=w.user)||void 0===n?void 0:n.display_name)||"@".concat(null===(i=w.user)||void 0===i?void 0:i.handle)})]})}),(0,l.jsxs)(B.q,{sx:{...v.E2},zIndex:1e3,children:[(0,l.jsxs)(a.k,{flexDirection:"row",py:2,children:[(0,l.jsx)(H.Z,{alt:"Avatar image for the logged-in user",src:null===(o=w.user)||void 0===o?void 0:o.avatar_image_url,borderRadius:"full",boxSize:"36px",mr:4,ml:3}),(0,l.jsxs)(a.k,{flexDirection:"column",justifyContent:"center",rowGap:"4px",maxW:"250px",mr:4,children:[!!(null===(r=w.user)||void 0===r?void 0:r.display_name)&&(0,l.jsx)(s.x,{fontSize:"14px",lineHeight:"14px",fontWeight:700,noOfLines:1,children:null===(c=w.user)||void 0===c?void 0:c.display_name}),(0,l.jsx)(s.x,{fontSize:"12px",lineHeight:"12px",children:(null===(x=j.user)||void 0===x?void 0:null===(m=x.emailAddresses)||void 0===m?void 0:null===(u=m[0])||void 0===u?void 0:u.emailAddress)||""})]})]}),(null===(h=w.user)||void 0===h?void 0:h.handle)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(q.s,{fontSize:"14px",as:p.default,href:"/@".concat(null===(g=w.user)||void 0===g?void 0:g.handle),bg:"transparent",_hover:{background:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},children:[(0,l.jsx)(_.xu,{ml:"11px",mr:"27px",children:(0,l.jsx)(U.E,{src:"/profile.svg",alt:"Profile",boxSize:"14px",display:"inline-block",verticalAlign:"middle"})})," ","View Profile"]}),(0,l.jsxs)(q.s,{fontSize:"14px",as:V.r,onClick:()=>f&&f(),bg:"transparent",_hover:{background:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},children:[(0,l.jsx)(_.xu,{ml:"11px",mr:"27px",children:(0,l.jsx)(K.zmo,{})})," ","Edit Profile"]})]}):null,(0,l.jsxs)(q.s,{fontSize:"14px",as:V.r,onClick:()=>j.openUserProfile(),bg:"transparent",_hover:{background:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},children:[(0,l.jsx)(_.xu,{ml:"11px",mr:"27px",children:(0,l.jsx)(G.mdD,{})})," ","Manage Account"]}),(0,l.jsxs)(q.s,{fontSize:"14px",onClick:()=>j.signOut(()=>k.push("/")),bg:"transparent",_hover:{background:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},children:[(0,l.jsx)(_.xu,{ml:"11px",mr:"27px",children:(0,l.jsx)(W.ApJ,{})})," ","Sign Out"]}),(0,l.jsxs)(a.k,{flexDirection:"row",columnGap:4,ml:16,mt:2,children:[(0,l.jsx)(V.r,{href:"/terms",fontSize:"xs",color:"gray",children:"Terms of Service"}),(0,l.jsx)(V.r,{href:"/privacy",fontSize:"xs",color:"gray",children:(0,l.jsx)(s.x,{fontSize:"xs",color:"gray",children:"Privacy"})})]})]})]})})]})});var Q=n(51464),J=n(47495),$=n.n(J),ee=n(63733),et=function(){let[e,t]=(0,o.useState)([]);return(0,o.useEffect)(()=>{(async()=>{t((await (0,ee.xz)()).allChangelogItems)})()},[]),e},en=n(3427),ei=n(6005),el=n(1371),eo=n(52249),ea=n(96788),es=n(20408),er=n(10114),ed=n(12266),ec=n(36413);let eu=(0,r.Pi)(e=>{let{isOpen:t,onClose:n,changelogItems:i}=e;return(0,l.jsxs)(ei.u_,{isOpen:t,onClose:n,isCentered:!0,size:"2xl",children:[(0,l.jsx)(el.Z,{}),(0,l.jsxs)(eo.h,{bg:"#252020",borderRadius:"32px",children:[(0,l.jsxs)(a.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,l.jsx)("span",{className:"font-serif text-3xl pl-12 pt-16",children:"What's New?"}),(0,l.jsx)(a.k,{mt:-8,children:(0,l.jsx)(ec.Z,{onClick:n})})]}),(0,l.jsx)(ea.i,{mt:8,mb:2,mx:16,w:540}),(0,l.jsx)(es.f,{p:0,h:"75%",maxHeight:"600px",display:"flex",children:(0,l.jsx)(er.K,{py:2,px:0,spacing:[2,2,0],flexDirection:"column",overflow:"auto",flex:"1",w:"100%",children:i.map((e,t)=>{let{title:n,datetime:i,description:o,tags:r,linkUrl:d,linkText:c}=e,p=r&&r.length?r.split(",").map(e=>e.trim()):[];return(0,l.jsxs)(_.xu,{px:16,pb:8,pt:4,children:[(0,l.jsx)("span",{className:"font-serif font-normal text-2xl mb-10",children:n}),(0,l.jsxs)(a.k,{flexDirection:"row",columnGap:2,flexWrap:"wrap",alignItems:"center",my:4,children:[p.map((e,t)=>(0,l.jsxs)("span",{className:"relative font-sans font-medium text-sm px-2 inline-flex items-center justify-center h-6 rounded-md mr-4",style:{backgroundImage:"url('/auras/orange-aura.png')",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[(0,l.jsx)("span",{className:"absolute inset-0 bg-black opacity-40 rounded-md",style:{zIndex:1}}),(0,l.jsx)("span",{className:"relative",style:{zIndex:2},children:(0,v.fm)(e)})]},"".concat(t,"_").concat(e))),(0,l.jsx)("span",{className:"font-sans font-normal text-sm mr-2 tracking-wide",children:(0,u.p6)(new Date(i))})]}),(0,l.jsx)(s.x,{sx:{"& a":{textDecoration:"underline"}},dangerouslySetInnerHTML:{__html:ed.TU.parse(o)},className:"font-sans text-16px font-normal"}),d&&c&&(0,l.jsx)(_.xu,{mt:4,children:(0,l.jsx)(en.r,{textDecoration:"underline",href:d,fontFamily:"Neue Montreal",children:c})}),(0,l.jsx)(ea.i,{mt:8,mb:8})]},t)})})})]})]})});var ep=n(6353),em=n(14063);let ex=[{id:"x",icon:G.LCd,url:"https://twitter.com/suno_ai_"},{id:"instagram",icon:em.Zf_,url:"https://www.instagram.com/sunomusic/"},{id:"tiktok",icon:em.nTm,url:"https://www.tiktok.com/@sunomusic"},{id:"discord",icon:em.j2d,url:"https://discord.com/invite/suno"}];var eh=()=>{let e=e=>{b.g.segmentTrack(y.Vy.linkClickEvent,{socialUrl:e})};return(0,l.jsx)(_.xu,{display:"flex",justifyContent:"center",alignItems:"center",gap:"14px",mt:2,mb:2,children:ex.map(t=>(0,l.jsx)(V.r,{href:t.url,onClick:()=>e(t.url),isExternal:!0,children:(0,l.jsx)(ep.J,{as:t.icon,boxSize:"18px",color:"white",opacity:"0.5"})},t.id))})};let eg=(e,t,n)=>t?(e||[]).filter(e=>new Date(e.datetime)>new Date(t)):n?e:[],ef=(0,r.Pi)(e=>{let{onOpenEditProfile:t,isOpenEditProfile:n,onCloseEditProfile:i}=e,{session:a}=(0,d.mZ)(),s=(0,z.aC)(),r=(0,z.ll)(),{isOpen:c,onOpen:u,onClose:p}=(0,Q.q)(),[m]=(0,o.useState)($()("localStorage")),x="changelog_last_viewed_at",h=et(),g=eg(h,m?localStorage.getItem(x):null,m);return(0,l.jsxs)("div",{className:"min-w-40 h-full w-[200px] flex-col bg-vinylBlack-darker hidden md:flex",children:[(0,l.jsx)("div",{className:"flex flex-row justify-start mt-2 mb-2 ml-10",children:(0,l.jsx)(A,{})}),(0,l.jsx)(eb,{href:"/",contextName:"home",onClick:()=>{b.g.track("Navbar: Home button clicked",{isSignedIn:s.isSignedIn})},children:"Home"}),(0,l.jsx)(eb,{href:"/create",contextName:"create",onClick:e=>{b.g.track("Navbar: Create button clicked",{isSignedIn:s.isSignedIn}),s.isSignedIn||(r.openSignUp({redirectUrl:"/create/"}),e.preventDefault())},children:"Create"}),(0,l.jsx)(eb,{href:"/me",contextName:"library","data-testid":"navbar-library-tab",onClick:e=>{b.g.track("Navbar: Library button clicked",{isSignedIn:s.isSignedIn}),s.isSignedIn||(r.openSignUp({redirectUrl:"/me/"}),e.preventDefault())},children:"Library"}),(0,l.jsx)(eb,{href:"https://suno.com/explore",contextName:"explore",onClick:()=>{b.g.track("Navbar: Explore button clicked",{isSignedIn:s.isSignedIn})},children:(0,l.jsx)("div",{className:"flex flex-row items-center",children:"Explore"})}),(0,l.jsx)(eb,{contextName:"search",href:"/search",onClick:e=>{b.g.track("Navbar: Search button clicked",{isSignedIn:s.isSignedIn}),s.isSignedIn||(r.openSignUp({redirectUrl:"/search/"}),e.preventDefault())},children:"Search"}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col-reverse mb-2",children:[(0,l.jsx)(eh,{}),(0,l.jsx)(eb,{contextName:"",href:"",children:(0,l.jsx)(X,{onOpenEditProfile:t})}),(0,l.jsx)(eb,{size:"sm",contextName:"",href:"https://jobs.ashbyhq.com/suno",children:"Careers"}),(0,l.jsx)(eb,{size:"sm",contextName:"",href:"https://suno.com/about",children:"About"}),(0,l.jsx)(eb,{size:"sm",contextName:"",href:"https://suno.com/docs/faqs",children:"Help"}),h.length>0&&(0,l.jsxs)(eb,{size:"sm",contextName:"",onClick:e=>{e.preventDefault(),u(),m&&localStorage.setItem(x,new Date().toUTCString())},href:"#",children:["What's New?",!!(null==g?void 0:g.length)&&(0,l.jsx)("div",{className:"bg-primary text-vinylBlack-darker rounded-full px-1 py-1 ml-1 text-xs font-bold font-sans min-w-[24px] text-center",children:g.length})]}),(0,l.jsx)(eb,{href:"/account",contextName:"",size:"sm",children:(0,l.jsxs)("div",{className:"flex flex-col",children:[s.isSignedIn&&a.isCreditsLoaded?(0,l.jsxs)("div",{className:"w-full flex flex-row mb-2 font-semibold",children:[a.credits," Credits"]}):null,(0,l.jsx)("div",{className:"w-full flex flex-row mb-2",children:"Subscribe"})]})})]}),(0,l.jsx)(D.f,{isOpen:n,onClose:i,"data-qaid":"modal-edit-profile-title"}),(0,l.jsx)(eu,{changelogItems:h||[],onClose:p,isOpen:c})]})}),ev=(e,t)=>{switch(e){case"home":return"/"===t;case"create":return"/create"===t;case"search":return"/search"===t;case"library":return"/me"===t||t.startsWith("/me/")||t.startsWith("/playlist/")||t.startsWith("/song/");default:return!1}},eb=e=>{let{href:t,contextName:n,children:i,onClick:o,size:a="default"}=e,s=ev(n,(0,M.usePathname)());return""!==t?(0,l.jsx)(p.default,{href:t,onClick:o,children:(0,l.jsx)("div",{className:"font-sans w-full flex flex-row items-center justify-left ".concat("sm"===a?"text-sm":"text-base/5"," font-medium my-2 ").concat(s?"pl-9 border-l-4 border-primary text-primary bg-opacity-50":"pl-10 text-secondary"," ").concat(!s&&"hover:border-l-4 hover:pl-9 hover:border-primary hover:border-opacity-50 hover:text-primary"),children:i})}):(0,l.jsx)("div",{className:"font-sans w-full flex flex-row items-center justify-left ".concat("sm"===a?"text-sm":"text-base/5"," font-medium my-2 ").concat(s?"pl-9 border-l-4 border-primary text-primary bg-opacity-50":"pl-10 text-secondary"," ").concat(!s&&"hover:border-l-4 hover:pl-9 hover:border-primary hover:border-opacity-50 hover:text-primary"),children:i})};var ey=n(32214),ej=n(67328),ew=n(67671),ek=n(61493),eC=n(34437),eS=n(90371),eN=n(44379);let eI=e=>{let{href:t,onClose:n,children:i,fontSize:o,color:a}=e;return(0,l.jsx)(q.s,{as:p.default,href:t,onClick:n,width:"100%",sx:{bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.1)"},transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none",fontSize:o,display:"flex",width:"100%",height:"auto",padding:"10px 20px",justifyContent:"flex-start",color:a,fontFamily:"Editorial New"},children:i})};(0,r.Pi)(e=>{let{isOpen:t,onClose:n}=e;return(0,l.jsx)(T.v,{isOpen:t,onClose:n,children:(0,l.jsxs)(ei.u_,{isOpen:t,onClose:n,size:"full",isCentered:!0,children:[(0,l.jsx)(el.Z,{sx:{...v.li}}),(0,l.jsxs)(eo.h,{sx:{...v.li},children:[(0,l.jsx)(ec.Z,{onClick:n}),(0,l.jsx)(es.f,{sx:{...v.li},mt:4,children:(0,l.jsx)(B.q,{border:"none",boxShadow:"none",bg:"transparent",display:"flex",flexDirection:"column",width:"100%",height:"100%",mt:10,children:(0,l.jsxs)(a.k,{flexDirection:"column",flex:"1",children:[(0,l.jsx)(eI,{href:"https://suno.com/docs/faqs",onClose:n,fontSize:"18px",color:"white",children:"Help"}),(0,l.jsx)(eI,{href:"https://suno.com/about",onClose:n,fontSize:"18px",color:"white",children:"About"}),(0,l.jsx)(eI,{href:"https://suno.com/blog",onClose:n,fontSize:"18px",color:"white",children:"Blog"}),(0,l.jsx)(eI,{href:"https://jobs.ashbyhq.com/suno",onClose:n,fontSize:"18px",color:"white",children:"Careers"}),(0,l.jsx)(eI,{href:"https://suno.com/terms",onClose:n,fontSize:"18px",color:"white",children:"Terms of Service"}),(0,l.jsx)(eI,{href:"https://suno.com/privacy",onClose:n,fontSize:"18px",color:"white",children:"Privacy"})]})})})]})]})})});var e_=n(14326),eP=n(20610),eM=e=>{let{isOpen:t,onClose:n,userHandle:i=""}=e,s=(0,eP.p)(),r=(0,o.useRef)(null),d=async()=>{let e="".concat(window.location.origin,"/invite/@").concat(i);try{await navigator.clipboard.writeText(e),s({title:"Link copied successfully!",status:"success",duration:2e3,isClosable:!0})}catch(e){s({title:"Failed to copy link",description:"Please try again.",status:"error",duration:2e3,isClosable:!0})}};return(0,l.jsxs)(ei.u_,{isOpen:t,onClose:n,initialFocusRef:r,isCentered:!0,children:[(0,l.jsx)(el.Z,{}),(0,l.jsxs)(eo.h,{bg:"#252020",borderRadius:"32px",children:[(0,l.jsxs)(a.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,l.jsxs)("span",{className:"font-serif text-3xl pl-12 pt-16",children:["Invite a Friend"," "]}),(0,l.jsx)(a.k,{mt:-8,children:(0,l.jsx)(ec.Z,{onClick:n})})]}),(0,l.jsx)(es.f,{pb:6,children:(0,l.jsxs)(a.k,{direction:"column",gap:"4",children:[(0,l.jsx)("span",{className:"font-sans text-sm",children:"Share this link with a friend. You'll both earn 250 credits when your friend signs up and makes their first 10 songs.*"}),(0,l.jsx)("span",{className:"text-sm",children:"* A total of 1250 credits can be earned through referrals."}),(0,l.jsxs)(a.k,{children:[(0,l.jsx)(eN.I,{ref:r,value:"".concat(window.location.origin,"/invite/@").concat(i),isReadOnly:!0,_focus:{borderColor:v.Zs},fontFamily:"Neue Montreal"}),(0,l.jsx)(ek.h,{colorScheme:"white",mr:3,onClick:d,icon:(0,l.jsx)(em.GON,{color:"black"}),"aria-label":"Copy Referral Link",ml:2})]})]})})]})]})};let eE=(0,r.Pi)(e=>{var t,n,i,o,r,c,u,m,x,h,g,f,b,y;let{isOpen:j,onClose:w,onToggle:k}=e,{session:C}=(0,d.mZ)(),S=(0,z.ll)(),N=(0,M.useRouter)(),{onOpen:I,isOpen:_,onClose:P}=(0,Q.q)(),{isOpen:E,onOpen:F,onClose:O}=(0,Q.q)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(T.v,{isOpen:j,onClose:w,children:[(0,l.jsx)(Z.j,{as:ek.h,variant:"ghost",color:"whiteAlpha",onClick:k,icon:(0,l.jsx)(e_.Z,{src:(null===(t=C.user)||void 0===t?void 0:t.avatar_image_url)||v.ax,alt:"User Profile",width:9,height:9,borderRadius:"50%"}),colorScheme:"whiteAlpha","aria-label":"User Profile",_hover:{backgroundColor:"none"}}),(0,l.jsxs)(B.q,{sx:{bgColor:"#252020"},borderColor:"rgba(255, 255, 255, 0.1)",w:"250px",p:"2",borderRadius:"md",zIndex:v.ig,children:[(0,l.jsxs)(a.k,{flexDirection:"row",py:2,children:[(0,l.jsx)(e_.Z,{src:(null===(n=C.user)||void 0===n?void 0:n.avatar_image_url)||v.ax,borderRadius:"full",boxSize:"36px",mr:4,ml:2,alt:"Profile Image",width:10,height:10}),(0,l.jsxs)(a.k,{flexDirection:"column",justifyContent:"center",rowGap:"4px",maxW:"150px",mr:4,children:[!!(null===(i=C.user)||void 0===i?void 0:i.display_name)&&(0,l.jsx)(s.x,{fontSize:"14px",lineHeight:"18px",fontWeight:700,noOfLines:1,title:null===(o=C.user)||void 0===o?void 0:o.display_name,fontFamily:"Neue Montreal",children:null===(r=C.user)||void 0===r?void 0:r.display_name}),(0,l.jsx)(s.x,{fontSize:"12px",lineHeight:"12px",title:null===(m=S.user)||void 0===m?void 0:null===(u=m.emailAddresses)||void 0===u?void 0:null===(c=u[0])||void 0===c?void 0:c.emailAddress,fontFamily:"Neue Montreal",children:(null===(g=S.user)||void 0===g?void 0:null===(h=g.emailAddresses)||void 0===h?void 0:null===(x=h[0])||void 0===x?void 0:x.emailAddress)||""})]})]}),(0,l.jsx)(q.s,{as:p.default,href:"/@".concat(null===(f=C.user)||void 0===f?void 0:f.handle),fontFamily:"Neue Montreal",sx:{bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.1)"},transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none"},children:"View Profile"}),(0,l.jsx)(q.s,{as:V.r,onClick:I,fontFamily:"Neue Montreal",sx:{bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none"},children:"Edit Profile"}),(0,l.jsxs)(q.s,{as:p.default,href:"/account",onClick:w,fontFamily:"Neue Montreal",sx:{bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.1)"},transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none"},children:["Subscription",(0,l.jsx)(a.k,{ml:4,children:(0,l.jsx)(a.k,{align:"center",justify:"center",bg:C.credits>0?"#272626":"#fcd28d",color:C.credits>0?"white":"black",borderRadius:"full",py:.5,px:1,children:(0,l.jsxs)("span",{className:"font-sans font-bold text-[11px]",children:[C.credits.toLocaleString()," credits"]})})})]}),(0,l.jsx)(q.s,{as:V.r,onClick:()=>S.openUserProfile(),fontFamily:"Neue Montreal",sx:{bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none"},children:"Manage Account"}),(null==C?void 0:null===(b=C.flags)||void 0===b?void 0:b["invite-link"])&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(q.s,{as:V.r,onClick:e=>{e.preventDefault(),F()},fontFamily:"Neue Montreal",sx:{bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none"},children:"Invite a Friend"}),(0,l.jsx)(eM,{isOpen:E,onClose:O,userHandle:null==C?void 0:null===(y=C.user)||void 0===y?void 0:y.handle})]}),(0,l.jsx)(q.s,{as:V.r,onClick:()=>S.signOut(()=>N.push("/")),fontFamily:"Neue Montreal",sx:{bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none"},children:"Sign Out"})]})]}),(0,l.jsx)(D.f,{isOpen:_,onClose:P,"data-qaid":"modal-edit-profile-title"})]})}),eF=(e,t)=>{switch(e){case"home":return"/"===t;case"create":return"/create"===t;case"search":return"/search"===t;case"library":return"/me"===t||t.startsWith("/me/")||t.startsWith("/playlist/")||t.startsWith("/song/");default:return!1}},eO=e=>{let{href:t,contextName:n,children:i,onClick:o}=e,a=(0,M.usePathname)();return(0,l.jsx)(V.r,{href:t,as:p.default,textDecoration:"none",_hover:{textDecoration:"none"},onClick:o,children:(0,l.jsx)(_.xu,{bg:a===t?"#FAF7F5":"#0E0808",color:a===t?"#0E0808":"#FAF7F5",py:2,px:[4,6,8],_hover:eF(n,a)?void 0:{bg:"#0E0808"},rounded:"full",textAlign:"center",fontFamily:"Neue Montreal",fontSize:"md",children:i})})},eL=e=>{let{onCloseEditProfile:t,isOpenEditProfile:n,onOpenCreate:i}=e,{isSignedIn:o}=(0,z.aC)(),s=(0,z.ll)(),r=(0,z.aC)();return(0,l.jsxs)("div",{className:"w-full font-sans flex flex-row px-4 h-[50px] bg-transparent text-sm",children:[(0,l.jsxs)("div",{className:"w-full items-center justify-center flex-1 flex flex-row text-gray-100 gap-0 font-medium bg-transparent bg-opacity-0",children:[(0,l.jsx)(eO,{href:"/",contextName:"home",children:"Home"}),(0,l.jsx)(eO,{contextName:"create",onClick:e=>{o||(s.openSignUp({redirectUrl:"/create/"}),e.preventDefault()),i&&i()},href:"/create",children:"Create"}),(0,l.jsx)(eO,{contextName:"library",href:"/me",onClick:e=>{o||(s.openSignUp({redirectUrl:"/me/"}),e.preventDefault())},children:"Library"}),(0,l.jsx)(eO,{contextName:"explore",href:"https://suno.com/explore",onClick:()=>{b.g.track("Navbar: Explore button clicked",{isSignedIn:r.isSignedIn})},children:(0,l.jsx)(a.k,{style:{display:"inline-flex",alignItems:"center"},children:"Explore"})})]}),(0,l.jsx)(D.f,{isOpen:n,onClose:t,"data-qaid":"modal-edit-profile-title"})]})},eR=(0,r.Pi)(e=>{var t;let{}=e,{isSignedIn:n}=(0,z.aC)(),s=(0,M.useRouter)(),[r,c]=(0,o.useState)(!1),[u,m]=(0,o.useState)(!1),x=()=>{g.searchTerm="",h.current&&(h.current.value="")},h=(0,o.useRef)(null),{search:g,session:f}=(0,d.mZ)(),[b,y]=o.useState(!1);(0,o.useEffect)(()=>{var e;null==h||null===(e=h.current)||void 0===e||e.focus()},[]);let{isOpen:j,onOpen:w,onClose:k}=(0,Q.q)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(_.xu,{position:"relative",children:(0,l.jsxs)(a.k,{display:"flex",zIndex:v.OV,width:"100%",height:"60px",minHeight:"60px",alignItems:"center",position:"relative",bg:"transparent",children:[(0,l.jsx)(a.k,{ml:5,mt:1,children:(0,l.jsx)(A,{})}),(0,l.jsxs)(a.k,{alignItems:"center",position:"fixed",right:2,gap:2,children:[n?(0,l.jsxs)("div",{className:"mr-12 items-center flex flex-row",children:[(null===(t=f.sub)||void 0===t?void 0:t.plan)?null:(0,l.jsx)("div",{className:"mr-2",children:(0,l.jsx)(p.default,{href:"/account",children:(0,l.jsx)(Y.Z,{onClick:()=>{},color:f.credits<=10?"white":"gray",size:"sm",text:"Subscribe",rounded:!0})})}),(0,l.jsx)(eE,{isOpen:u,onClose:()=>m(!1),onToggle:()=>m(e=>!e)})]}):(0,l.jsx)(a.k,{whiteSpace:"nowrap",mr:[0,0,0],paddingRight:"52px",children:(0,l.jsx)(z.gX,{mode:"modal",children:(0,l.jsx)(Y.Z,{size:"sm",color:"white",leftIcon:(0,l.jsx)("div",{className:"mr-1",children:(0,l.jsx)(K.HOZ,{})}),onClick:()=>{},text:"Sign In"})})}),(0,l.jsxs)(a.k,{width:r?"98%":"50px",height:"50px",backgroundColor:r?"#252020":"none",borderRadius:"full",m:1,cursor:"pointer",position:"fixed",transition:r?"width 0.2s ease-out":"none",right:r?1:4,alignItems:"center",zIndex:v.kS,mr:r?1:42,children:[g.searchTerm&&r&&(0,l.jsx)(ek.h,{"aria-label":"Clear search",icon:(0,l.jsx)(em.aHS,{}),size:"sm",onClick:x,bg:"none",p:2,_hover:{bg:"rgba(255, 255, 255, 0.1)"},position:"absolute",variant:"ghost",right:"12",mr:2,color:"rgba(255, 255, 255, 0.4)",zIndex:v.n5}),(0,l.jsxs)(eC.B,{alignItems:"center",cursor:"pointer",children:[(0,l.jsx)(eS.x,{height:"100%",alignItems:"center",cursor:"pointer",flexDirection:"row",onClick:()=>{y(!0),setTimeout(()=>{var e;return null==h?void 0:null===(e=h.current)||void 0===e?void 0:e.focus()},0),c(e=>!e)},children:(0,l.jsx)(a.k,{alignItems:"center",cursor:"pointer",children:(0,l.jsx)(ek.h,{"aria-label":"Search",icon:(0,l.jsx)(C.Z,{src:"/icons/search.svg",fallbackSrc:"/icons/search.svg",alt:"Search",className:"w-4 h-4"}),size:"50px",onClick:x,bg:"#252020",color:"white",borderRadius:"full",variant:"ghost",zIndex:v.n5,width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",_hover:{bg:"rgba(255, 255, 255, 0.1)"}})})}),(0,l.jsx)(eN.I,{ref:h,defaultValue:g.searchTerm,placeholder:"Search for songs, playlists, or users",visibility:b?"visible":"hidden",onChange:e=>{null!=i&&(clearTimeout(i),i=null),i=setTimeout(()=>{g.searchTerm=e.target.value,s.push("/search")},500)},border:"transparent",focusBorderColor:"transparent",_placeholder:{color:"rgba(255, 255, 255, 0.5)"},alignItems:"center",cursor:"pointer",fontFamily:"Neue Montreal"})]})]}),(0,l.jsxs)(T.v,{children:[(0,l.jsx)(Z.j,{size:"md","aria-label":"More Actions",as:ek.h,icon:(0,l.jsx)(em.Fm7,{width:12,height:12}),bg:"#252020",borderRadius:"full",variant:"ghost",onClick:w}),(0,l.jsxs)(ei.u_,{isOpen:j,onClose:k,size:"full",isCentered:!0,children:[(0,l.jsx)(el.Z,{sx:{bgColor:"#0E0808"}}),(0,l.jsxs)(eo.h,{sx:{bgColor:"#0E0808"},children:[(0,l.jsx)(a.k,{position:"absolute",right:2,top:2,children:(0,l.jsx)(ec.Z,{onClick:k})}),(0,l.jsxs)(es.f,{sx:{bgColor:"#0E0808"},mt:20,children:[(0,l.jsxs)(a.k,{flexDirection:"column",flex:"1",children:[(0,l.jsx)(eI,{href:"https://suno.com/docs/faqs",onClose:k,fontSize:"40px",color:"white",children:"Help"}),(0,l.jsx)(eI,{href:"https://suno.com/about",onClose:k,fontSize:"40px",color:"white",children:"About"}),(0,l.jsx)(eI,{href:"https://suno.com/blog",onClose:k,fontSize:"40px",color:"white",children:"Blog"}),(0,l.jsx)(eI,{href:"https://jobs.ashbyhq.com/suno",onClose:k,fontSize:"40px",color:"white",children:"Careers"}),(0,l.jsx)(eI,{href:"https://suno.com/terms",onClose:k,fontSize:"40px",color:"white",children:"Terms of Service"}),(0,l.jsx)(eI,{href:"https://suno.com/privacy",onClose:k,fontSize:"40px",color:"white",children:"Privacy"})]}),(0,l.jsx)("div",{className:"h-[100px]"}),(0,l.jsx)(eh,{})]})]})]})]})]})]})})})});var eA=n(56206),ez=n(22601),eD=n(1726),eT=n(70724),eZ=n(91033),eB=n(78232),eq=n(68689),eU=n(1601),eV=n(14675),eG=n(66442),eW=e=>{let{onClick:t,icon:n,isDisabled:i=!1,isLoading:o=!1,playbarOpen:a=!1}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("button",{onClick:t,className:"bg-[url(/create-button-background.svg)] z-50 shadow-lg shadow-vinylBlack/50 absolute ".concat(a?"bottom-40":"bottom-14"," right-4 bg-cover bg-center overflow-hidden font-sans text-white text-md font-medium aspect-square p-6 flex items-center rounded-full transition duration-300 ease-in-out w-20 h-20 disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 justify-center"),disabled:i,children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-[url(/grain.png)] bg-cover bg-repeat opacity-50 z-[1] pointer-events-none"}),o?(0,l.jsxs)("svg",{className:"animate-spin w-full h-full text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zM12 24c-4.418 0-8-3.582-8-8H0c0 6.627 5.373 12 12 12v-4z"})]}):n&&(0,l.jsx)("img",{src:n,alt:"icon",className:"w-full h-full filter invert brightness-0"})]})})},eK=n(60446),eY=n(93278),eH=n(15188),eX=n(21216),eQ=n(46575),eJ=n(50965),e$=n(37720),e0=n(98719),e1=n(20783),e2=n(57666),e5=n(16378),e4=n(2084),e3=n(60537),e6=n(96465),e7=n(25099),e8=n(73234);let e9=(0,r.Pi)(e=>{var t,n,i,s,r,c;let{isExtendModeOn:u,setExtendModeOn:p,isReusePromptOn:m,setReusePromptOn:x,isOpen:h,onClose:g,onOpen:f}=e,j=o.useRef(null),{genForm:w,clips:k,session:S,playbar:N}=(0,d.mZ)(),{isSignedIn:I}=(0,z.aC)(),_=(0,M.useRouter)(),P=(0,M.usePathname)(),[E,F]=(0,o.useState)(!1),[O,L]=(0,o.useState)(!1),[R,A]=(0,o.useState)(!1),[D,T]=(0,o.useState)(!1),{enabled:Z}=S.isFeatureAllowed("image-to-song"),B="chirp-v3-5"===w.mv?v.yG:v.yR,q=()=>{w.setInstrumental(!w.instrumental),w.setLyrics(""),$(e=>!e),A(e=>!e)},U=(0,o.useRef)(null);(0,o.useEffect)(()=>{let e=e=>{U.current&&!U.current.contains(e.target)&&(F(!1),L(!1),p(!1),x(!1))};return E?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[E,u,O,m]),(0,o.useEffect)(()=>{O&&w.setDescription("")},[O,w]),(0,o.useEffect)(()=>{L(!w.isSimple)},[w.isSimple]);let V=async()=>{let e=""!==eo.trim()?eo:w.placeholder;b.g.track(y.Vy.clickedCreateSongLoggedOut,{promptLength:e.length}),I||(localStorage.setItem("prompt",e),ei.openSignUp({redirectUrl:"/create/"}))},G=async(e,t)=>{if(ed(),"/create/"!==P&&_.push("/create/"),e.lyrics.length>B)(0,d.Am)({title:"Lyrics too long",description:"Lyrics exceed maximum length of 1250 characters.",status:"warning",duration:5e3,isClosable:!0});else{e.setIsLoading(!0),e.setIsMobile(!0),await t.runStream(e),e.setIsSimple(!O);let n=e.isSimple;b.g.track(y.Vy.clickedCreateSong,{descriptionLength:n?e.description.length:0,instrumental:e.instrumental,isSimpleMode:n,lyricsLength:n?0:e.lyrics.length,modelVersion:e.mv,styleLength:n?0:e.style.length,eventSource:"mobile"}),e.setIsLoading(!1)}},{isOpen:W,onClose:K,onOpen:Y}=(0,Q.q)(),[H,X]=(0,o.useState)(!1),[J,$]=(0,o.useState)(!1),[ee,et]=(0,o.useState)(S.roles.has_accepted_custom_mode_tos);(0,o.useEffect)(()=>{et(S.roles.has_accepted_custom_mode_tos)},[S.roles.has_accepted_custom_mode_tos]);let en=async()=>{X(!0),$(!1),await S.acceptTOS(),et(!0),X(!1),K()};(0,o.useEffect)(()=>{ee?($(!1),K()):$(!0)},[ee]),(0,o.useEffect)(()=>{(u||m)&&(F(!0),L(!0))},[u,m]);let ei=(0,z.ll)(),[eo,ea]=(0,o.useState)(w.description);(0,o.useEffect)(()=>{if(I){let e=localStorage.getItem("prompt");e&&(ea(e),w.setDescription(e),localStorage.removeItem("prompt"),G(w,k))}},[I,w,k]);let ed=()=>{w.shouldOpenMobileCreate=!1,(u||m)&&(p(!1),x(!1)),g()};(0,o.useEffect)(()=>{w.shouldOpenMobileCreate&&f()},[w.shouldOpenMobileCreate,u,m]);let[eu,ep]=(0,o.useState)(!1),[em,ex]=(0,o.useState)(!1),[eh,eg]=(0,o.useState)(!1),[ef,ev]=(0,o.useState)(!1),[eb,ey]=(0,o.useState)(!1),[ej,ew]=(0,o.useState)(!1),[ek,eC]=(0,o.useState)(!1),[eS,eN]=(0,o.useState)(!1),[eI,e_]=(0,o.useState)(!1),[eP,eM]=(0,o.useState)(null),eE=e$.reduce((e,t)=>(e[t.id]=t,e),{}),eF=Object.fromEntries(Object.entries(eE).map(e=>{let[t,n]=e;return[t,n.title]})),eO=(e=>{let t={};return Object.values(e).forEach(e=>{e.content.forEach(e=>{"input"===e.type&&(t[e.field]="")})}),t})(e$),[eL,eR]=(0,o.useState)(eO),e9=(e,t)=>{eR(n=>({...n,[e]:t}))},te=Object.fromEntries(Object.entries(eE).map(e=>{let[t,n]=e;return[t,(0,l.jsx)("div",{className:"flex flex-wrap gap-1 max-w-xs font-sans px-2",children:n.content.map((e,t)=>"string"==typeof e?(0,l.jsx)("span",{children:e},t):"input"===e.type?(0,l.jsxs)("div",{className:"relative w-30 mb-6 inline-flex items-center",children:[(0,l.jsx)("input",{type:"text",placeholder:" ",className:"leading-tight w-full px-1 py-0.5 border-b-2 border-secondary focus:border-primary placeholder-transparent focus:outline-none text-center bg-vinylBlack-light bg-opacity-40 focus:bg-opacity-10",value:eL[e.field],onChange:t=>e9(e.field,t.target.value),maxLength:e.maxLength}),(0,l.jsx)("label",{className:"font-mono text-[9px] w-full text-center absolute left-1/2 transform -translate-x-1/2 -bottom-4 text-primary text-opacity-90 transition-transform duration-200 ease-in-out",children:e.placeholder})]},t):null)},t)]})),tt=()=>!Object.values(w.imageData).every(e=>null===e),tn=()=>{if(!eP)return;let e=eE[eP];if(!e)return;let t=e.template;Object.keys(eL).forEach(e=>{let n=eL[e];t=t.replace("{".concat(e,"}"),n)}),"SpecialOccasions"===eP?(0,eJ.Z)({particleCount:100,spread:70,origin:{y:.6},colors:["#FAF7F5","#D1CBC7"]}):"Person"===eP?(ep(!0),setTimeout(()=>ep(!1),5e3)):"Activity"===eP?(ex(!0),setTimeout(()=>ex(!1),5e3)):"Moods"===eP?(ew(!0),setTimeout(()=>ew(!1),5e3)):"Greeting"===eP?(eC(!0),setTimeout(()=>eC(!1),5e3)):"2024Olympics"===eP?(eg(!0),ev(!0),setTimeout(()=>{eg(!1),ev(!1)},5e3)):"Scrapbook"===eP?(ey(!0),setTimeout(()=>ey(!1),5e3)):"Vacation"===eP?(e_(!0),setTimeout(()=>e_(!1),5e3)):"Pet"===eP&&(eN(!0),setTimeout(()=>eN(!1),5e3)),w.setDescription(t),G(w,k)};(0,o.useEffect)(()=>{let e=document.querySelectorAll("input");return e.forEach(e=>{e.addEventListener("focus",ti),e.addEventListener("blur",tl)}),()=>{e.forEach(e=>{e.removeEventListener("focus",ti),e.removeEventListener("blur",tl)})}},[]);let ti=e=>{e.target.nextElementSibling.classList.add("translate-y-5","text-xs","text-gray-500")},tl=e=>{let t=e.target.nextElementSibling;""===e.target.value&&t.classList.remove("translate-y-5","text-xs","text-gray-500")};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eW,{onClick:()=>{I?f():ei.openSignUp({redirectUrl:"/create/"})},icon:"/create-new.svg",playbarOpen:null!==N.clip}),(0,l.jsxs)(eA.d,{isOpen:h,placement:"bottom",onClose:ed,finalFocusRef:j,size:"lg",children:[(0,l.jsx)(el.Z,{display:["block","block","none"]}),(0,l.jsxs)(ez.s,{display:["flex","flex","none"],backgroundColor:"black",boxShadow:"0 0 10px 5px rgba(255, 255, 255, 0.08)",height:O||(null==S?void 0:null===(t=S.flags)||void 0===t?void 0:t.madlibs)?"100%":"60%",borderRadius:"40px 40px 0 0",sx:{transition:"height 0.3s ease-out",overflowY:O?"auto":"hidden"},children:[(0,l.jsxs)("div",{className:"flex justify-between items-center px-4 py-6",children:[(0,l.jsx)("span",{className:"text-center w-full font-sans font-normal text-secondary text-[16px]",children:"Create"}),(0,l.jsx)("div",{className:"absolute right-4",children:(0,l.jsx)(ec.Z,{onClick:ed})})]}),(0,l.jsxs)(es.f,{sx:{overflowY:"auto"},children:[!eP&&(0,l.jsxs)(er.K,{direction:"row",alignItems:"center",w:"100%",justifyContent:"space-between",children:[(0,l.jsx)(er.K,{direction:"row",alignItems:"center",children:(0,l.jsx)(eB.Z,{label:"Custom",checked:O,onChange:()=>{w.setIsSimple(!w.isSimple),L(e=>!e)},disabled:!I})}),(0,l.jsx)(eG.Z,{popoverTopMargin:90,fromMobileLibrary:!1,customHeight:"h-[28px]",iconSize:3,fontSize:"text-sm"}),(0,l.jsx)(a.k,{children:(0,l.jsx)(eq.Z,{state:w})})]}),!O&&!(null===(n=S.flags)||void 0===n?void 0:n.madlibs)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(er.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",mt:8,children:[(0,l.jsx)("span",{className:"font-sans font-normal text-primary text-[14px]",children:"Song Description"}),(0,l.jsx)(eB.Z,{label:"Instrumental",checked:R,onChange:q})]}),(0,l.jsx)(er.K,{py:2,children:(0,l.jsx)(eU.Z,{maxLength:200,value:w.description,resize:!0,onChange:e=>w.setDescription(e.target.value),placeholder:w.placeholder,customHeight:"h-[130px]",isScrollable:!0})}),(null==S?void 0:null===(i=S.flags)||void 0===i?void 0:i.madlibs)&&(0,l.jsx)(eY.Z,{setSelectedSuggestion:eM})]}),!O&&(null===(s=S.flags)||void 0===s?void 0:s.madlibs)&&(0,l.jsxs)(l.Fragment,{children:[Z&&(0,l.jsx)(e8._,{imageButtonOnClick:()=>{T(!D)},activeState:D}),D&&Z?(0,l.jsx)(e8.O,{state:w,onGenerate:async()=>G(w,k)}):(0,l.jsx)(l.Fragment,{children:eP?(0,l.jsxs)("div",{className:"flex flex-col px-2 pt-4 pb-6 w-full gap-4 w-full max-w-full md:max-w-[340px]",children:[(0,l.jsx)("button",{onClick:()=>{eM(null),w.setDescription("")},className:"ml-2 h-[32px] w-[32px] p-2 text-white bg-tertiary hover:bg-vinylBlack-darker focus:outline-none rounded-full border border-white-300 flex justify-center items-center","aria-label":"Back",children:(0,l.jsx)(C.Z,{src:"/icons/left-caret.svg",alt:"Back",width:8,height:8})}),(0,l.jsx)("h2",{className:"font-serif text-2xl px-2 pt-2 break-words max-w-[300px]",children:eP&&eF[eP]}),(0,l.jsx)("p",{className:"font-sans font-medium text-sm px-2 pb-4 text-secondary text-opacity-80",children:"Fill in the blanks to create your song."}),(0,l.jsx)("p",{children:te[eP]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(er.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",mt:8,children:[(0,l.jsx)("span",{className:"font-sans font-normal text-primary text-[14px]",children:"Song Description"}),(0,l.jsx)(eB.Z,{label:"Instrumental",checked:R,onChange:q})]}),(0,l.jsx)(er.K,{py:2,children:(0,l.jsx)(eU.Z,{maxLength:200,value:w.description,resize:!0,onChange:e=>w.setDescription(e.target.value),placeholder:w.placeholder,customHeight:"h-[130px]",isScrollable:!0})}),(0,l.jsx)(eY.Z,{setSelectedSuggestion:e=>{eM(e)}})]})})]}),O&&(0,l.jsxs)(er.K,{direction:"column",children:[(null==S?void 0:null===(r=S.flags)||void 0===r?void 0:r["artist-consistency"])&&w.artistClipId&&(0,l.jsx)(e6.Z,{clipId:w.artistClipId}),(null==S?void 0:null===(c=S.flags)||void 0===c?void 0:c.cover)&&w.coverClipId&&(0,l.jsx)(e7.Z,{clipId:w.coverClipId}),(0,l.jsx)(a.k,{mt:6,mb:-30,justifyContent:"flex-end",w:"100%",children:(0,l.jsx)(eB.Z,{label:"Instrumental",checked:R,onChange:q})}),!R&&(0,l.jsxs)(er.K,{children:[(0,l.jsx)(er.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",children:(0,l.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Lyrics"})}),(0,l.jsx)(eU.Z,{maxLength:B,value:w.lyrics,resize:!0,isScrollable:!0,customHeight:"h-[230px]",onChange:e=>w.setLyrics(e.target.value),placeholder:w.continueClipId?"Enter additional lyrics to extend the song based on your previous verses... \n\nOnce the extended songs have finished creating, click '...' and Get Whole Song to get the entire completed song.":"Enter your own lyrics or describe a song and click Generate Lyrics...",onClick:()=>{J&&Y()},onKeyDown:e=>{J&&Y(),"Enter"===e.key&&J&&e.preventDefault()},isReadOnly:J,cursor:J?"not-allowed":"text",leftAsset:(0,l.jsx)("button",{className:"bg-quaternary text-white hover:bg-tertiary font-medium px-4 py-2 rounded-full text-sm font-sans",onClick:w.generateLyrics,disabled:!1,children:w.isLoadingLyrics?(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}):w.lyrics?"Generate Lyrics":(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("img",{src:"/dice.svg",alt:"dice",className:"h-4 w-4 mr-2"}),"Make Random Lyrics"]})})})]}),(0,l.jsxs)(er.K,{mt:R?0:4,children:[(0,l.jsx)(er.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",children:(0,l.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Style of Music"})}),(0,l.jsx)(eU.Z,{placeholder:"Enter style of music...",maxLength:120,spacedLeftAsset:!0,resize:!1,value:w.style,isScrollable:!1,onChange:e=>w.setStyle(e.target.value),leftAsset:(0,l.jsx)("div",{className:"flex space-x-1 overflow-x-auto mr-4",children:w.recommmendedStyles.map((e,t)=>(0,l.jsx)(eV.Z,{style:e,onClick:()=>{(0,eT.Yt)(e,w),b.g.logAudioCreationEvent(!1,y.OF.useRecommendStyle,w,S,{recommendStyle:e}),b.g.track(y.Vy.recommendedStyleClick,{isMobile:!1,style:e,userId:S.userId})}},t))}),customHeight:"h-[100px]"})]}),(0,l.jsxs)(er.K,{mt:4,children:[(0,l.jsx)(er.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",children:(0,l.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Title"})}),(0,l.jsx)(eU.Z,{maxLength:80,value:w.title,onChange:e=>w.setTitle(e.target.value),placeholder:"Enter a title",customHeight:"h-2"})]}),w.continueClipId?(0,l.jsx)(eT.dw,{clipId:w.continueClipId}):null]})]}),(0,l.jsx)(eD.m,{children:(0,l.jsxs)(a.k,{width:"100%",alignItems:"center",gap:2,children:[(""!==w.description||""!==w.style||""!==w.lyrics||""!==w.title||Object.values(eL).some(e=>""!==e))&&(0,l.jsx)(a.k,{justifyContent:"flex-start",children:(0,l.jsx)("button",{onClick:()=>{w.setStyle(""),w.setDescription(""),w.setTitle(""),w.setLyrics(""),w.setContinueClip(null),p(!1),x(!1),eR(eO)},className:"text-sm font-sans font-medium text-primary bg-tertiary p-4 rounded-full",children:"Clear"})}),(0,l.jsx)(a.k,{width:""!==w.description||""!==w.style||""!==w.lyrics||""!==w.title?"95%":"100%",children:D?(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)(eZ.Z,{onClick:()=>{w.setGenerationType("IMAGE"),G(w,k)},text:"Extract",icon:"/create-new.svg",isDisabled:S.isOutOfCredits||!tt(),isLoading:w.isLoading,label:"Extract",fullWidth:!0}),!tt()&&(0,l.jsx)("div",{className:"font-sans text-sm",children:"* Please upload at least one image."})]}):(0,l.jsx)(eZ.Z,{onClick:async()=>{b.g.track("Mobile Create Clicked",{isMobile:!0,page:P}),eP?(tn(),w.setDescription(""),eR(e=>{let t={...e};return Object.keys(t).forEach(e=>{t[e]=""}),t})):I?await G(w,k):await V()},isDisabled:S.isOutOfCredits||O&&!w.artistClipId&&!w.lyrics&&!w.style||!w.isContinueValid()||!(()=>{if(!eP)return!0;let e=eE[eP];return!e||e.content.every(e=>"object"!=typeof e||"input"!==e.type||""!==eL[e.field].trim())})(),isLoading:w.isLoading,text:"Create",icon:"/create-new.svg",fullWidth:!0})})]})})]})]}),eu&&(0,l.jsx)(eH.Z,{}),em&&(0,l.jsx)(eX.Z,{}),eb&&(0,l.jsx)(eQ.Z,{}),eh&&(0,l.jsx)(e4.Z,{}),ef&&(0,l.jsx)(e3.Z,{}),ej&&(0,l.jsx)(e0.Z,{}),ek&&(0,l.jsx)(e5.Z,{}),eS&&(0,l.jsx)(e1.Z,{}),eI&&(0,l.jsx)(e2.Z,{}),(0,l.jsx)(eK.Z,{isOpen:W,onClose:K,onConfirm:en,isLoading:H})]})});var te=n(29043),tt=n(29945),tn=n(4681),ti=n.n(tn),tl=n(81623);let to=(0,r.Pi)(e=>{var t;let{clip:n,onClick:i,contextId:o,contextType:a}=e,{playbar:s,queue:r}=(0,d.mZ)(),c=(null===(t=s.clip)||void 0===t?void 0:t.id)===(null==n?void 0:n.id)&&(r.contextId||null)===(o||null)&&(r.contextType||null)===(a||null);return n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-row w-full p-1 bg-vinylBlack-darker pt-2",children:[(0,l.jsxs)("div",{className:"rounded-md overflow-hidden h-20 min-w-14 mb-0 mt-2 border cursor-pointer relative ".concat(c?"border-white":""),onClick:i,children:[(0,l.jsx)(C.Z,{imageSize:v.YY,className:"object-cover h-20 w-14 absolute top-0",src:n.image_url||null,alt:"Image for ".concat(n.title)}),(0,l.jsx)("button",{className:"absolute top-7 left-5","aria-label":"Play / pause button",children:c?s.isPlaying?(0,l.jsx)(C.Z,{src:"/icons/pause-active.svg",alt:"Pause",width:15,height:15}):(0,l.jsx)(C.Z,{src:"/icons/play.svg",alt:"Play",width:15,height:15}):null})]}),(0,l.jsx)("div",{className:"p-2 pb-0 flex-1 max-w-40",children:(0,l.jsx)(tl.Z,{title:n.title||"Untitled",link:"/song/".concat(n.id),subtitle:n.metadata.tags||"(no style)",isClipMetadata:!0,artistTagProps:{displayName:n.display_name,handle:n.handle,imageUrl:n.avatar_image_url||void 0,showAvatar:!1}})})]}),(0,l.jsx)("div",{className:"w-full align-center",children:(0,l.jsx)(S.Z,{asCardActions:!0,clip:n})})]}):null});var ta=n(41463);let ts=(0,r.Pi)(e=>{var t;let{clip:n}=e,{library:i,clips:a,queue:s,playbar:r}=(0,d.mZ)(),[c,u]=(0,o.useState)(v.Wz),[p,m]=(0,o.useState)(null),[x,h]=(0,o.useState)(null),[g,f]=(0,o.useState)(null),[b,y]=(0,o.useState)(),[j,w]=(0,o.useState)(!1),[k,C]=(0,o.useState)(!1),[S,N]=(0,o.useState)(!1),{onOpen:I}=(0,Q.q)(),_=!!(null==p?void 0:p.length),P=!!(null==g?void 0:g.length);async function M(){try{var e;await a.loadPlaylist(v.M_);let t=a.playlistById[v.M_];h(null===(e=t.playlist_clips)||void 0===e?void 0:e.map(e=>e.clip)),y(t),C(!0)}catch(e){console.error("Error fetching trending clips:",e)}}async function E(){try{let{data:e}=await i.apiClient.GET("/api/profiles/{handle}/recent_clips",{params:{path:{handle:n.handle||""}}});e&&e.clips&&(a.updateClips(e.clips),m(e.clips.filter(e=>e.id!==n.id)),w(!0))}catch(e){console.error("Error fetching profile clips:",e),m([])}}async function F(){try{let{data:e}=await i.apiClient.GET("/api/clips/get_similar/",{params:{query:{id:n.id}}});e&&e.similar_clips&&(a.updateClips(e.similar_clips),f(e.similar_clips.filter(e=>e.id!==n.id)),N(!0))}catch(e){f([])}}(0,o.useEffect)(()=>{(async()=>{await E(),w(!0),await M(),C(!0),await F(),N(!0)})()},[]),(0,o.useEffect)(()=>{j&&k&&(!p||(null==p?void 0:p.length)===0)&&u(v.Qy)},[j,k,p]),(0,o.useEffect)(()=>{c===v.eL&&j&&p&&(s.contextId===n.id&&s.contextType===tt.Q.SONG_RECOMMENDATIONS?(s.setClips([n,...p]),s.setPendingClips([])):s.setPendingClips([n,...p])),c===v.Qy&&k&&x&&(s.contextId===n.id&&s.contextType===tt.Q.SONG_RECOMMENDATIONS?(s.setClips([n,...x]),s.setPendingClips([])):s.setPendingClips([n,...x])),c===v.Wz&&S&&g&&(s.contextId===n.id&&s.contextType===tt.Q.SONG_RECOMMENDATIONS?(s.setClips([n,...g]),s.setPendingClips([])):s.setPendingClips([n,...g]))},[c,j,k,S,p,b,g]);let O=(0,l.jsx)(tr,{clip:n,selected:c,setSelected:u,profileTab:v.eL,hasOtherPublicSongs:_,hasSimilarSongs:P}),L=(c===v.Qy?null==b?void 0:null===(t=b.playlist_clips)||void 0===t?void 0:t.map(e=>e.clip):c===v.eL?p:g)||[];return(0,l.jsxs)("div",{className:"flex flex-col w-full h-full overflow-y-hidden overflow-x-hidden p-2 bg-vinylBlack-darker",children:[O,(0,l.jsx)("div",{className:"overflow-y-auto flex-1 overflow-x-hidden",children:L.map((e,t)=>{let n=()=>{var n;if((null===(n=r.clip)||void 0===n?void 0:n.id)===e.id){r.togglePlay();return}s.setPlayContext({contextType:tt.Q.SONG_RECOMMENDATIONS,contextId:"".concat(e.id,"_").concat(c),currentIndex:t+1,clips:[e,...L],pendingClips:[]}),r.playClip(e)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(to,{clip:a.clipById[e.id],onClick:n,onPlay:n,onAddToPlaylist:()=>{I()},contextType:tt.Q.SONG_RECOMMENDATIONS,contextId:"".concat(e.id,"_").concat(c),index:t+1},e.id)})})})]})}),tr=(0,r.Pi)(e=>{let{clip:t,selected:n,setSelected:i}=e,[a]=(0,j.a)("(max-width: 768px)"),[s,r]=(0,o.useState)(new Date),[d,c]=(0,o.useState)({profile:0,trending:0,similar:0}),u=e=>{let l=(new Date().getTime()-s.getTime())/1e3,o={...d,[n]:d[n]+l};c(o),ti().track("More Songs Tab Session Time",{tab:n,duration:o[n],profile:t.display_name,isMobile:a}),r(new Date),i(e)};(0,o.useEffect)(()=>{let e=()=>{let e=(new Date().getTime()-s.getTime())/1e3;ti().track("More Songs Tab Session Time",{tab:n,duration:d[n]+e,profile:t.display_name,isMobile:a})};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[s,d,n,t]);let p=[v.Wz,v.eL];return(0,l.jsx)(ta.Z,{tabs:[{label:"Similar"},{label:"By ".concat(t.display_name)}],onTabClick:e=>{i(p[e]),u(p[e])},selectedIndex:p.indexOf(n),textClass:"text-sm"})});var td=n(8358),tc=n(33706),tu=n(48445);let tp=(0,o.createContext)({}),tm=(0,o.createContext)({}),tx=(0,o.createContext)({});var th=(0,r.Pi)(e=>{let{children:t}=e,{isSignedIn:n}=(0,z.aC)(),{session:i,clips:s,playbar:r}=(0,d.mZ)(),[u,p]=(0,o.useState)(null),[m,x]=(0,o.useState)(null),[h,g]=(0,o.useState)(!1),[f,b]=(0,o.useState)(14),y=(0,M.usePathname)(),w=(0,ew.m)(),k=(0,o.useRef)(null),C=(0,o.useRef)(null),[S]=(0,j.a)("(max-width: 900px)");i.captchaVerification=()=>{k.current.execute()};let{onOpen:N}=(0,Q.q)(),I=et(),{onOpen:_,isOpen:P,onClose:E}=(0,Q.q)(),[F,O]=(0,o.useState)(!1),[L,A]=(0,o.useState)(!1),[D,T]=(0,o.useState)(!1),Z=()=>{T(!0)},[,B]=(0,td.fP)(["irclickid"]),q=(0,M.useSearchParams)().get("irclickid");(0,o.useEffect)(()=>{q&&B("irclickid",q,{path:"/",expires:new Date(Date.now()+2592e6)})},[]);let[U,V]=(0,o.useState)("");return(0,o.useEffect)(()=>{V((0,tc.t)())},[]),(0,o.useEffect)(()=>{new ResizeObserver(()=>{if(C.current)try{let e=C.current.getBoundingClientRect().width,t=e*v.g5*v.sU;b(Math.min(Math.max(t,v.CP),v.uK)),i.setPreviewInitialWidth(e)}catch(e){console.error("Error updating preview font size:",e)}}).observe(C.current)},[]),(0,l.jsxs)("div",{className:"bg-vinylBlack-darker w-full h-full flex flex-col",children:[(0,l.jsxs)(a.k,{flex:"1",width:"100%",flexDirection:["column","column","row"],overflowY:"auto",children:[(0,l.jsx)(ef,{onOpenEditProfile:_,isOpenEditProfile:P,onCloseEditProfile:E}),(0,l.jsxs)(a.k,{flex:"1",flexDirection:"column",overflowY:"auto",position:"relative",children:[(0,l.jsx)(ej.i,{children:(0,l.jsx)(eR,{onOpen:N})}),(0,l.jsx)(tm.Provider,{value:{isExtendModeOn:F,setExtendModeOn:O,isReusePromptOn:L,setReusePromptOn:A},children:(0,l.jsx)("div",{className:"relative flex flex-1 overflow-y-hidden overflow-x-hidden w-full ".concat(h?"-mt-16":"mt-0"," md:mt-0"),children:(0,l.jsx)(tx.Provider,{value:{setPreviewClip:p,setClipForSongRecs:x,setAllowFlushToTop:g,previewClip:u},children:(0,l.jsxs)(tu.Z,{style:{flexGrow:1,zIndex:4},visible:!S,renderBar:e=>{let{onMouseDown:t,...n}=e;return(0,l.jsx)("div",{...n,style:{boxShadow:"none",background:"transparent"},children:(0,l.jsx)("div",{onMouseDown:t,style:{backgroundColor:"#252323",boxShadow:"none"}})})},children:[(0,l.jsxs)("div",{className:"flex lg:min-w-[570px] flex-1 bg-vinylBlack-darker",style:{position:"relative"},children:[(0,l.jsx)(l.Fragment,{children:t}),(0,l.jsx)(R,{hidden:!r.clip})]}),(0,l.jsx)("div",{className:"h-full min-w-[232px] w-[232px] max-w-[350px] overflow-y-scroll hidden bg-tertiary ".concat(y.startsWith("/create")?"xl:block":"lg:block"," no-scrollbar"),style:{scrollbarWidth:"none",width:i.previewInitialWidth},ref:C,children:u?(0,l.jsx)(te.Z,{clip:s.clipById[u.id],fontSize:f,onCloseClipPreview:()=>{p(null)}}):m?(0,l.jsx)(ts,{clip:s.clipById[m.id]}):(0,l.jsxs)("div",{className:"h-full w-full flex flex-1 items-start relative overflow-y-hidden",children:[U?(0,l.jsx)("img",{src:"/auras/".concat(U),className:"h-full w-full object-cover absolute top-0 opacity-70"}):null,(0,l.jsx)("div",{className:"bg-gradient-to-t from-quaternary via-quaternary to-transparent from-0% via-30% w-full h-full object-cover absolute top-0"})]})})]})})})})]})]}),n?(0,l.jsx)(ej.i,{children:(0,l.jsx)(e9,{isExtendModeOn:F,setExtendModeOn:O,isReusePromptOn:L,setReusePromptOn:A,isOpen:D,onClose:()=>{T(!1)},onOpen:Z})}):null,(0,l.jsx)(ej.i,{children:(0,l.jsx)(eL,{onOpen:N,changelogItems:I,isOpenEditProfile:P,onCloseEditProfile:E,onOpenEditProfile:_,onOpenCreate:Z})}),(0,l.jsx)(c,{}),(0,l.jsx)(ey.Z,{sitekey:v.uH,size:"invisible",onVerify:e=>{w.POST("/api/user_actions/user_check/",{body:{captcha_token:e}})},ref:k})]})})},66442:function(e,t,n){var i=n(57437),l=n(1225),o=n(51464),a=n(6005),s=n(1371),r=n(52249),d=n(99240),c=n(20408);n(30442),n(81453),n(61236);var u=n(95430),p=n(67958),m=n(53478),x=n(2265),h=n(63047),g=n(64874),f=n(92115),v=n(36413);let b=(0,u.Pi)(e=>{let{popoverTopMargin:t,fromMobileLibrary:n,customHeight:u,customWidth:b,iconSize:y,fontSize:j}=e,{clips:w,session:k,library:C,genForm:S}=(0,p.mZ)(),[N]=(0,l.a)("(max-width: 768px)"),{isOpen:I,onOpen:_,onClose:P}=(0,o.q)(),[M,E]=(0,x.useState)(!1),[F,O]=(0,x.useState)(!1),L=(0,x.useRef)(),{isOpen:R,onOpen:A,onClose:z}=(0,o.q)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{"aria-label":"Upload Audio",onClick:_,className:"upload-audio-button font-sans bg-quaternary text-white ".concat(j," font-medium py-2 px-4 rounded-full shadow-lg hover:bg-primary/30 ").concat(n?"-ml-2":""," ").concat(u," ").concat(b),children:(0,i.jsxs)("div",{className:"flex items-center justify-center h-full w-full",children:[(0,i.jsx)("img",{src:"/icons/upload-active.svg",alt:"Upload",className:"w-".concat(y," h-").concat(y," ").concat(n?"mr-0":"mr-2"," filter invert brightness-0")}),(0,i.jsx)("span",{className:"whitespace-nowrap text-md",children:n?"":"Upload Audio"})]})}),(0,i.jsxs)(a.u_,{isOpen:I,onClose:()=>{F||!M?(O(!1),P()):O(!0)},isCentered:!0,children:[(0,i.jsx)(s.Z,{bgColor:"var(--chakra-colors-whiteAlpha-300)"}),(0,i.jsxs)(r.h,{backgroundColor:"black",children:[(0,i.jsxs)(d.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,i.jsx)("span",{className:"font-serif text-3xl pl-4 pt-8",children:"Upload Audio"}),(0,i.jsx)(v.Z,{onClick:P})]}),(0,i.jsx)(c.f,{children:(0,i.jsx)(m.Z,{isConfirmingClose:F,setIsConfirmingClose:O,onClose:()=>{F||!M?(O(!1),P()):O(!0)},onFinish:async(e,t,n,i)=>{let{data:l,error:o}=await C.apiClient.POST("/api/uploads/audio/{upload_id}/initialize-clip/",{params:{path:{upload_id:e||""}}});if(o||!l){(0,p.Am)({title:"Invalid upload. Please try again.",status:"error",duration:2e3,isClosable:!0}),P();return}let a=l.clip_id;await C.loadClips(),await w.setMetadata(a,t,n,!0),g.g.logAudioCreationEvent(N,f.OF.uploadSong,S,k,{hasVocal:w.clipById[a].metadata.has_vocal,newClipIds:[a],isUploaded:!0,uploadType:i}),P()},setShouldConfirmClose:E})})]})]}),(0,i.jsx)(h.Z,{buttonRef:L,isOpen:R,onClose:z,onOpen:A,topMargin:t})]})});t.Z=b},14326:function(e,t,n){var i=n(26387),l=n(66648);t.Z=(0,i.chakra)(l.default,{shouldForwardProp:e=>["width","height","src","alt"].includes(e)})},65870:function(e,t,n){var i=n(57437),l=n(1633),o=n(64973),a=n(2265),s=n(67958);t.Z=e=>{var t,n;let{src:r,fallbackSrc:d=l.ax,imageSize:c=0,...u}=e,{session:p}=(0,s.mZ)(),[m,x]=(0,a.useState)(r||d),h=()=>{x(d)};return(0,a.useEffect)(()=>{x(r||d)},[r]),(0,i.jsx)(i.Fragment,{children:(c==l.YY||c==l.PE)&&(null==p?void 0:null===(t=p.flags)||void 0===t?void 0:t["image-on-demand-backfill-jpeg"])?(0,i.jsx)(o.E,{src:((n=m||void 0)!=l.ax&&(null==n?void 0:n.endsWith(".jpeg"))&&c>0&&(n=n+"?width="+c),n),onError:h,loading:"lazy",...u}):(0,i.jsx)(o.E,{src:m,onError:h,loading:"lazy",...u})})}},39799:function(e,t,n){n.d(t,{Ng:function(){return s},SZ:function(){return a},bz:function(){return r}});var i=n(57437),l=n(2265),o=n(2731);function a(e){let{children:t,...n}=e;return(0,i.jsx)(o.e_,{...n,children:t})}function s(e){let{children:t,...n}=e;return(0,i.jsx)(o.l5,{...n,children:t})}let r=(0,l.createContext)({})},85751:function(e,t,n){var i=n(57437),l=n(67958),o=n(39799),a=n(6005),s=n(1371),r=n(52249),d=n(99240),c=n(20408),u=n(48245),p=n(19651),m=n(16829),x=n(95430),h=n(2265),g=n(13473),f=n(69548),v=n(65870),b=n(36413),y=n(26234),j=n(1633);let w=(0,x.Pi)(e=>{var t,n,x,w;let{library:k,isOpen:C,onClose:S,onPlaylistClick:N,clipId:I}=e,{ref:_}=(0,g.YD)({threshold:0,onChange:async e=>{if(e){var t;let e=Math.floor((null===(t=k.clips.allPlaylists)||void 0===t?void 0:t.length)/f._v)+1;k.loadPlaylists(e)}}}),{session:P}=(0,l.mZ)(),[M,E]=(0,h.useState)(!1),{selectedClipIds:F}=(0,h.useContext)(o.bz);(0,h.useEffect)(()=>{P.userId&&C&&k.loadPlaylists()},[P.userId,C]);let O=null===(n=k.clips)||void 0===n?void 0:null===(t=n.allPlaylists)||void 0===t?void 0:t.filter(e=>{var t;return e.id!==(null===(t=k.activePlaylist)||void 0===t?void 0:t.id)}),[L,R]=(0,h.useState)("");return(0,h.useEffect)(()=>{let e=["/placeholder-1.jpg","/placeholder-2.jpg","/placeholder-3.jpg"];C&&R(e[Math.floor(Math.random()*e.length)])},[C]),(0,i.jsxs)(a.u_,{isOpen:C,onClose:S,"data-qaid":"modal-add-to-playlist",isCentered:!0,children:[(0,i.jsx)(s.Z,{}),(0,i.jsxs)(r.h,{sx:{bgColor:"#252020"},borderRadius:"32px",className:"overflow-hidden",children:[(0,i.jsxs)(d.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,i.jsx)("span",{className:"font-serif text-2xl pt-6 pl-4",children:"Add to Playlist"}),(0,i.jsx)(d.k,{children:(0,i.jsx)(b.Z,{onClick:S})})]}),(0,i.jsxs)(c.f,{overflowY:"auto",maxHeight:"400px",marginBottom:"16px",children:[!O.length&&k.isLoaded.playlists&&(0,i.jsx)(d.k,{flexDirection:"column",rowGap:8,alignItems:"center",fontFamily:"Neue Montreal",children:(0,i.jsx)(i.Fragment,{children:"You have no playlists to add to. Click below to create a new playlist."})}),O.map(e=>{var t,n;return(0,i.jsxs)(d.k,{width:"100%",onClick:()=>{(F||I)&&N&&N([...F||!!I&&[I]||[]].map(e=>k.clips.clipById[e.toString()]),e),S()},borderRadius:"md",cursor:"pointer",flexDirection:"row",padding:"8px",alignItems:"center",_hover:{background:"rgba(255, 255, 255, 0.2)"},children:[(0,i.jsx)(v.Z,{imageSize:j.YY,src:e.image_url||(null===(n=e.playlist_clips[0])||void 0===n?void 0:null===(t=n.clip)||void 0===t?void 0:t.image_url)||L,width:"40px",borderRadius:"sm",alt:"Playlist cover image"}),(0,i.jsx)(u.W,{children:e.name||"Untitled Playlist"})]},e.id)}),(null===(w=k.clips)||void 0===w?void 0:null===(x=w.allPlaylists)||void 0===x?void 0:x.length)<k.numTotalPlaylists&&(0,i.jsx)(p.M,{padding:"16px",children:(0,i.jsx)(m.$,{ref:_})}),(0,i.jsx)(d.k,{flexDirection:"column",rowGap:8,alignItems:"center",mt:4,children:(0,i.jsx)(y.Z,{onClick:async()=>{var e;E(!0),await (null===(e=k.clips)||void 0===e?void 0:e.createPlaylist()),E(!1),k.loadPlaylists()},text:"Create Playlist",isLoading:M})})]})]})]})});t.Z=w},48626:function(e,t,n){var i=n(57437),l=n(2265),o=n(6005),a=n(1371),s=n(52249),r=n(99240),d=n(20408),c=n(10114),u=n(18755),p=n(96788),m=n(1726),x=n(47414),h=n(40323),g=n(67958),f=n(36413);t.Z=e=>{let{clip:t,isOpen:n,onClose:v,onFeedbackSubmit:b,onFeedbackRemoved:y}=e,{clips:j}=(0,g.mZ)(),[w,k]=(0,l.useState)(!1),[C,S]=(0,l.useState)(!1),[N,I]=(0,l.useState)({goodQuality:!1,badPoorAudio:!1,other:!1}),_=e=>{let{name:t,checked:n}=e.target;"goodQuality"===t?I({goodQuality:n,badPoorAudio:!1,other:!1}):I(e=>({...e,[t]:n,goodQuality:!1}))},P=e=>"goodQuality"===e&&(N.badPoorAudio||N.other)?"rgba(255, 255, 255, 0.3)":"goodQuality"!==e&&N.goodQuality?"rgba(255, 255, 255, 0.3)":"white",M=async()=>{k(!0);let e=[];N.goodQuality&&e.push("good_quality"),N.badPoorAudio&&e.push("bad_poor_audio_quality"),N.other&&e.push("other");try{await j.feedbackClip(t.id,e.join(",")),b()}catch(e){console.error("Failed to submit feedback:",e),k(!1);return}k(!1),v()},E=async()=>{S(!0);try{await j.feedbackClip(t.id,""),I({goodQuality:!1,badPoorAudio:!1,other:!1}),y()}catch(e){console.error("Failed to remove feedback:",e),S(!1);return}S(!1),v()};return(0,l.useEffect)(()=>{let e=(0,h.Jr)(t);I({goodQuality:e.includes("good_quality"),badPoorAudio:e.includes("bad_poor_audio_quality"),other:e.includes("other")})},[t]),(0,i.jsxs)(o.u_,{isOpen:n,onClose:v,isCentered:!0,children:[(0,i.jsx)(a.Z,{}),(0,i.jsxs)(s.h,{sx:{bgColor:"#252020"},borderRadius:"32px",children:[(0,i.jsxs)(r.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,i.jsx)("span",{className:"font-serif text-2xl pl-4 py-8",children:"What do you think of this clip?"}),(0,i.jsx)(r.k,{className:"-mt-10",children:(0,i.jsx)(f.Z,{onClick:v})})]}),(0,i.jsx)(d.f,{children:(0,i.jsxs)(c.K,{spacing:3,children:[(0,i.jsx)(u.X,{name:"goodQuality",isChecked:N.goodQuality,onChange:_,color:P("goodQuality"),colorScheme:"gray",fontFamily:"Neue Montreal",children:"Good audio/vocal quality"}),(0,i.jsx)(p.i,{}),(0,i.jsx)(u.X,{name:"badPoorAudio",isChecked:N.badPoorAudio,onChange:_,color:P("badPoorAudio"),colorScheme:"gray",fontFamily:"Neue Montreal",children:"Poor audio/vocal quality"}),(0,i.jsx)(u.X,{name:"other",isChecked:N.other,onChange:_,color:P("other"),colorScheme:"gray",fontFamily:"Neue Montreal",children:"Other"})]})}),(0,i.jsxs)(m.m,{justifyContent:"space-between",alignItems:"flex-end",children:[(0,i.jsx)(x.z,{bg:"#FAF7F5",borderRadius:"full",color:"black",_hover:{opacity:"50%"},fontFamily:"Neue Montreal",fontWeight:200,onClick:E,isLoading:C,size:"xs",ml:-2,children:"Clear Feedback"}),(0,i.jsx)(x.z,{bg:"#FAF7F5",borderRadius:"full",color:"black",_hover:{opacity:"50%"},fontFamily:"Neue Montreal",fontWeight:200,onClick:M,isLoading:w,mr:-2,children:"Submit Feedback"})]})]})]})}},60446:function(e,t,n){var i=n(57437);n(2265);var l=n(6005),o=n(1371),a=n(52249),s=n(99240),r=n(20408),d=n(40191),c=n(1726),u=n(67958),p=n(95430),m=n(36413),x=n(26234);let h=(0,p.Pi)(e=>{let{isOpen:t,onClose:n,onConfirm:p,isLoading:h}=e,{session:g}=(0,u.mZ)();return(0,i.jsxs)(l.u_,{isOpen:t,onClose:n,isCentered:!0,size:"xl",children:[(0,i.jsx)(o.Z,{}),(0,i.jsxs)(a.h,{sx:{bgColor:"#252020"},borderRadius:"32px",position:"relative",children:[(0,i.jsxs)(s.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,i.jsx)("span",{className:"font-serif text-2xl pl-4 py-8",children:"Please accept our terms to make a song with custom lyrics"}),g.roles.has_accepted_custom_mode_tos&&(0,i.jsx)(s.k,{mt:-14,children:(0,i.jsx)(m.Z,{onClick:n})})]}),(0,i.jsx)(r.f,{children:(0,i.jsx)(s.k,{alignItems:"center",mb:2,children:(0,i.jsx)(d.x,{fontSize:"14px",fontFamily:"Neue Montreal",children:"Suno is designed for creating original music. Please confirm you will only submit AI-generated lyrics, original lyrics or lyrics to which you otherwise hold rights to continue."})})}),(0,i.jsx)(c.m,{children:(0,i.jsx)(x.Z,{onClick:p,text:"I accept",isLoading:h})})]})]})});t.Z=h},93025:function(e,t,n){var i=n(57437);n(2265);var l=n(6005),o=n(1371),a=n(52249),s=n(99240),r=n(20408),d=n(6353),c=n(1726),u=n(14063),p=n(36413),m=n(26234);t.Z=e=>{let{isOpen:t,onClose:n,onConfirm:x,clipTitle:h,isLoading:g,headerText:f}=e;return(0,i.jsxs)(l.u_,{isOpen:t,onClose:n,isCentered:!0,size:"xl",children:[(0,i.jsx)(o.Z,{}),(0,i.jsxs)(a.h,{borderRadius:"32px",sx:{bgColor:"#252020"},children:[(0,i.jsxs)(s.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,i.jsx)("span",{className:"font-serif text-3xl pt-8 ml-8",children:f}),(0,i.jsx)(s.k,{mt:-12,children:(0,i.jsx)(p.Z,{onClick:n})})]}),(0,i.jsxs)(r.f,{ml:6,children:[(0,i.jsxs)(s.k,{alignItems:"center",mb:2,children:[(0,i.jsx)(d.J,{as:u.gJy,color:"white",mr:2}),(0,i.jsx)("span",{className:"font-sans font-bold",children:"This action cannot be undone."})]}),(0,i.jsxs)("span",{className:"font-sans font-bold mt-4 mb-2",children:["This will remove ",(0,i.jsx)("b",{children:h})," from your account."]})]}),(0,i.jsxs)(c.m,{children:[(0,i.jsx)(m.Z,{onClick:n,text:"No, take me back!",color:"white"}),(0,i.jsx)("div",{className:"ml-2",children:(0,i.jsx)(m.Z,{onClick:x,text:"Yes, I'm sure",isLoading:g,color:"gray"})})]})]})]})}},76613:function(e,t,n){var i=n(57437),l=n(67958),o=n(20610),a=n(6005),s=n(1371),r=n(52249),d=n(99240),c=n(20408),u=n(10114),p=n(18755),m=n(1726),x=n(2265),h=n(26234),g=n(36413);t.Z=e=>{let{isOpen:t,onClose:n,clipId:f,clipTitle:v}=e,[b,y]=(0,x.useState)([]),j=(0,o.p)(),{clips:w}=(0,l.mZ)(),[k,C]=(0,x.useState)(!1),S=async()=>{C(!0);try{await w.flagClip(f,b.join(",")),n(),y([]),C(!1)}catch(e){j({title:"Error flagging song.",description:"Something went wrong. Please try again later.",status:"error",duration:5e3,isClosable:!0}),C(!1)}},N=e=>t=>{t.target.checked?y([...b,e]):y(b.filter(t=>t!==e))};return(0,i.jsxs)(a.u_,{isOpen:t,onClose:n,isCentered:!0,size:"xl",children:[(0,i.jsx)(s.Z,{}),(0,i.jsxs)(r.h,{sx:{bgColor:"#252020"},borderRadius:"32px",position:"relative",children:[(0,i.jsxs)(d.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,i.jsxs)("span",{className:"font-serif text-2xl pl-4 py-8",children:["Please provide reasons for flagging ",(0,i.jsx)("b",{children:v})]}),(0,i.jsx)(d.k,{mt:-14,children:(0,i.jsx)(g.Z,{onClick:n})})]}),(0,i.jsx)(c.f,{pb:6,children:(0,i.jsxs)(u.K,{children:[(0,i.jsx)(p.X,{size:"lg",fontFamily:"Neue Montreal",name:"flag_audio_quality",onChange:N("flag_audio_quality"),colorScheme:"gray",children:"Low audio quality"}),(0,i.jsx)(p.X,{size:"lg",fontFamily:"Neue Montreal",name:"flag_lyrics_following",onChange:N("flag_lyrics_following"),colorScheme:"gray",children:"Doesn't follow lyrics"}),(0,i.jsx)(p.X,{size:"lg",fontFamily:"Neue Montreal",name:"flag_style_following",onChange:N("flag_style_following"),colorScheme:"gray",children:"Doesn't follow style instructions"}),(0,i.jsx)(p.X,{size:"lg",fontFamily:"Neue Montreal",name:"flag_song_structure",onChange:N("flag_song_structure"),colorScheme:"gray",children:"Poor structure"}),(0,i.jsx)(p.X,{size:"lg",fontFamily:"Neue Montreal",name:"flag_other",onChange:N("flag_other"),colorScheme:"gray",children:"Other"})]})}),(0,i.jsxs)(m.m,{children:[(0,i.jsx)(d.k,{mr:2,children:(0,i.jsx)(h.Z,{onClick:()=>{n(),y([])},text:"Cancel"})}),(0,i.jsx)(h.Z,{onClick:S,isLoading:k,text:"Submit"})]})]})]})}},92628:function(e,t,n){n.d(t,{Z:function(){return N}});var i=n(57437),l=n(1225),o=n(6005),a=n(1371),s=n(52249),r=n(99240),d=n(20408),c=n(10114),u=n(67958),p=n(1633),m=n(92115),x=n(76684),h=n(61493);n(2265);var g=n(54018),f=e=>{let{url:t,text:n,eventTrack:l}=e,o="https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(t),"&text=").concat(encodeURIComponent(n));return(0,i.jsx)(x.u,{label:"X",size:"sm",background:p.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,i.jsx)(h.h,{size:"lg",icon:(0,i.jsx)(g.LCd,{}),"aria-label":"Share on X",onClick:()=>{window.open(o,"_blank","width=600,height=300"),l(m.Vy.shareOnXClick,m.OF.shareSongWithX)},sx:{borderRadius:"50%",background:"rgba(255, 255, 255, 0.12)",backdropFilter:"blur(70px)",borderImage:"180deg linear-gradient(#383737, #A19F9D)",boxShadow:" 16px black"},_hover:{background:"black"}})})},v=n(14063),b=e=>{let{url:t,text:n,eventTrack:l}=e,o="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(t),"&quote=").concat(encodeURIComponent(n));return(0,i.jsx)(x.u,{label:"Facebook",size:"sm",background:p.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,i.jsx)(h.h,{size:"lg",icon:(0,i.jsx)(v.Am9,{}),"aria-label":"Share on Facebook",onClick:()=>{window.open(o,"_blank","width=600,height=300"),l(m.Vy.shareOnFackbookClick,m.OF.shareSongWithFacebook)},sx:{borderRadius:"50%",background:"rgba(255, 255, 255, 0.12)",backdropFilter:"blur(70px)",borderImage:"180deg linear-gradient(#383737, #A19F9D)",boxShadow:" 16px black"},_hover:{background:"#1877F2"}})})},y=e=>{let{url:t,text:n,eventTrack:l}=e,o="https://www.linkedin.com/sharing/share-offsite/?url=".concat(encodeURIComponent(t),"&title=").concat(encodeURIComponent(n));return(0,i.jsx)(x.u,{label:"LinkedIn",size:"sm",background:p.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,i.jsx)(h.h,{size:"lg",icon:(0,i.jsx)(v.ltd,{}),"aria-label":"Share on LinkedIn",onClick:()=>{window.open(o,"_blank","width=600,height=300"),l(m.Vy.shareOnLinkedInClick,m.OF.shareSongWithLinkedIn)},sx:{borderRadius:"50%",background:"rgba(255, 255, 255, 0.12)",backdropFilter:"blur(70px)",borderImage:"180deg linear-gradient(#383737, #A19F9D)",boxShadow:" 16px black"},_hover:{background:"#0072b1"}})})},j=e=>{let{embedUrl:t,eventTrack:n}=e;return(0,i.jsx)(x.u,{label:"Email",size:"sm",background:p.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,i.jsx)(h.h,{size:"lg",icon:(0,i.jsx)(v.SRX,{}),"aria-label":"Share via email",onClick:()=>{let e=encodeURIComponent("Check out this song!"),i=encodeURIComponent("Hi there,\n\nCheck out this song on Suno here! ".concat(t,"\n\n")),l="mailto:?subject=".concat(e,"&body=").concat(i);window.location.href=l,n(m.Vy.shareOnEmailClick,m.OF.shareSongWithEmail)},sx:{borderRadius:"50%",background:"rgba(255, 255, 255, 0.12)",backdropFilter:"blur(70px)",borderImage:"180deg linear-gradient(#383737, #A19F9D)",boxShadow:" 16px black"},_hover:{background:"gray"}})})},w=e=>{let{url:t,text:n,eventTrack:l}=e,o="https://reddit.com/submit?url=".concat(encodeURIComponent(t),"&title=").concat(encodeURIComponent(n));return(0,i.jsx)(x.u,{label:"Reddit",size:"sm",background:p.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,i.jsx)(h.h,{size:"lg",icon:(0,i.jsx)(v.ViA,{}),"aria-label":"Share on Reddit",onClick:()=>{window.open(o,"_blank","width=600,height=300"),l(m.Vy.shareOnRedditClick,m.OF.shareSongWithReddit)},sx:{borderRadius:"50%",background:"rgba(255, 255, 255, 0.12)",backdropFilter:"blur(70px)",borderImage:"180deg linear-gradient(#383737, #A19F9D)",boxShadow:" 16px black"},_hover:{background:"#FF5700"}})})},k=n(64874),C=n(16463),S=n(36413),N=e=>{let{isOpen:t,onClose:n,type:p,song:m,playlist:x,profile:h}=e,[g]=(0,l.a)("(max-width: 768px)"),{session:v}=(0,u.mZ)(),N=(0,C.usePathname)();function I(e,t){k.g.track(e,{clipId:null==m?void 0:m.id,isUserSongOwner:(null==v?void 0:v.userId)!==void 0&&(null==m?void 0:m.user_id)===(null==v?void 0:v.userId),isMobile:g}),k.g.logAudioActionEvent(!0,t,m,v,N)}return(0,i.jsxs)(o.u_,{isOpen:t,onClose:n,isCentered:!0,size:"md",children:[(0,i.jsx)(a.Z,{}),(0,i.jsxs)(s.h,{sx:{background:"#252020",zIndex:1e3,borderImage:"180deg linear-gradient(#383737, #A19F9D)",borderWidth:"1px",borderStyle:"solid"},borderRadius:"32px",position:"relative",children:[(0,i.jsxs)(r.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,i.jsx)("span",{className:"font-serif text-xl pt-6 pl-6",children:"Share to..."}),(0,i.jsx)(r.k,{mt:1,children:(0,i.jsx)(S.Z,{onClick:n})})]}),(0,i.jsx)(d.f,{mb:4,children:(0,i.jsxs)(c.K,{direction:"row",gap:g?4:6,justifyContent:"center",children:[m&&"song"===p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{url:"https://suno.com/song/".concat(m.id),text:"Listen and make your own song with Suno.",eventTrack:I}),(0,i.jsx)(b,{url:"https://suno.com/song/".concat(m.id),text:"Listen and make your own song with Suno.",eventTrack:I}),g&&(0,i.jsx)(y,{url:"https://suno.com/song/".concat(m.id),text:"Listen and make your own song with Suno.",eventTrack:I}),(0,i.jsx)(j,{embedUrl:"https://suno.com/song/".concat(m.id),eventTrack:I}),g&&(0,i.jsx)(w,{url:"https://suno.com/song/".concat(m.id),text:"Listen and make your own song with Suno",eventTrack:I})]}),h&&"profile"===p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{url:"https://suno.com/@".concat(h.handle),text:"Listen and make your own with Suno.",eventTrack:I}),(0,i.jsx)(b,{url:"https://suno.com/@".concat(h.handle),text:"Listen and make your own with Suno.",eventTrack:I}),(0,i.jsx)(y,{url:"https://suno.com/@".concat(h.handle),text:"Listen and make your own with Suno.",eventTrack:I}),(0,i.jsx)(j,{embedUrl:"https://suno.com/@".concat(h.handle),eventTrack:I}),(0,i.jsx)(w,{url:"https://suno.com/@".concat(h.handle),text:"Listen and make your own with Suno.",eventTrack:I})]}),x&&"playlist"===p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{url:"https://suno.com/playlist/".concat(x.id),text:"Listen and make your own with Suno.",eventTrack:I}),(0,i.jsx)(b,{url:"https://suno.com/playlist/".concat(x.id),text:"Listen and make your own with Suno.",eventTrack:I}),(0,i.jsx)(y,{url:"https://suno.com/playlist/".concat(x.id),text:"Listen and make your own with Suno.",eventTrack:I}),(0,i.jsx)(j,{embedUrl:"https://suno.com/playlist/".concat(x.id),eventTrack:I}),(0,i.jsx)(w,{url:"https://suno.com/playlist/".concat(x.id),text:"Listen and make your own with Suno.",eventTrack:I})]})]})})]})]})}},63047:function(e,t,n){var i=n(57437),l=n(2265),o=n(1225),a=n(6005),s=n(1371),r=n(52249),d=n(85222),c=n(99240),u=n(40191),p=n(86493),m=n(20408),x=n(35500),h=n(28038),g=n(10878),f=n(226),v=n(73880),b=n(79494),y=n(1633),j=n(54018);t.Z=e=>{var t,n;let{isOpen:w,onClose:k,buttonRef:C,topMargin:S=0}=e,[N]=(0,o.a)("(max-width: 768px)"),I=(0,l.useRef)(null);return((0,l.useEffect)(()=>{let e=e=>{let t=e.target;I.current&&!I.current.contains(t)&&k()};return w?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[w,k]),N)?(0,i.jsxs)(a.u_,{isOpen:w,onClose:k,isCentered:!0,children:[(0,i.jsx)(s.Z,{}),(0,i.jsxs)(r.h,{sx:{...y.E2},children:[(0,i.jsx)(d.x,{children:(0,i.jsxs)(c.k,{alignItems:"center",direction:"row",children:[(0,i.jsx)(u.x,{mr:2,children:"You're one step closer"})," ",(0,i.jsx)(j.vuX,{})]})}),(0,i.jsx)(p.o,{}),(0,i.jsxs)(m.f,{fontSize:"sm",mb:4,children:["You must be a Pro or Premier subscriber to upload your own audio. Subscribe"," ",(0,i.jsx)(x.r,{href:"/account",textDecoration:"underline",children:"here"}),"."]})]})]}):(0,i.jsx)(h.J,{isOpen:w,onClose:k,placement:"bottom",children:(0,i.jsxs)(g.y,{ref:I,background:y.mh,fontSize:"sm",backdropFilter:"blur(40px)",rounded:"md",display:w?"block":"none",color:"#ffffff",p:"10px",width:"310px",left:"".concat((null==C?void 0:null===(t=C.current)||void 0===t?void 0:t.getBoundingClientRect().left)-310,"px"),top:"".concat((null==C?void 0:null===(n=C.current)||void 0===n?void 0:n.getBoundingClientRect().top)-60+S,"px"),children:[(0,i.jsx)(f.Q,{}),(0,i.jsx)(v.u,{}),(0,i.jsxs)(b.b,{children:["You must be a Pro or Premier subscriber to upload your own audio. Subscribe"," ",(0,i.jsx)(x.r,{href:"/account",textDecoration:"underline",children:"here"})]})]})})}},18938:function(e,t,n){n.d(t,{f:function(){return E}});var i=n(57437),l=n(20610),o=n(6005),a=n(1371),s=n(52249),r=n(86493),d=n(20408),c=n(74340),u=n(33682),p=n(99240),m=n(19769),x=n(20864),h=n(44379),g=n(47414),f=n(16829),v=n(40191),b=n(34437),y=n(65364),j=n(44757),w=n(1726),k=n(35500),C=n(95430),S=n(2265),N=n(67958),I=n(1633),_=n(7255);let P=e=>e.length<=64,M=e=>!!e.match(/^[a-zA-Z0-9_]{3,40}$/g),E=(0,C.Pi)(e=>{var t,n,C,E,F,O,L,R,A;let{isOpen:z,onClose:D}=e,{session:T,library:Z}=(0,N.mZ)(),B=(0,l.p)(),[q,U]=(0,S.useState)(null===(t=T.user)||void 0===t?void 0:t.display_name),[V,G]=(0,S.useState)(null===(n=T.user)||void 0===n?void 0:n.handle),[W,K]=(0,S.useState)(null===(C=T.user)||void 0===C?void 0:C.profile_description),[Y,H]=(0,S.useState)(null),[X,Q]=(0,S.useState)(!1),[J,$]=(0,S.useState)(null===(E=T.user)||void 0===E?void 0:E.avatar_image_url),[ee,et]=(0,S.useState)(!1),[en,ei]=(0,S.useState)(""),[el,eo]=(0,S.useState)({}),[ea,es]=(0,S.useState)(!1),er=async()=>{es(!0);let e=await Z.apiClient.POST("/api/profiles/",{body:{handle:V||"",profile_description:W||"",display_name:q||"",avatar_image_url:Y}});if(es(!1),e.error){let t=e.error;eo({...el,...t})}else eo({}),T.user.display_name=q||"",T.user.handle=V||"",T.user.profile_description=W||"",T.user.avatar_image_url=Y,B({title:"Profile updated.",duration:4e3,isClosable:!0,status:"success"})};return(0,S.useEffect)(()=>{var e,t,n;G(null===(e=T.user)||void 0===e?void 0:e.handle),K(null===(t=T.user)||void 0===t?void 0:t.profile_description),U(null===(n=T.user)||void 0===n?void 0:n.display_name)},[T.user]),(0,i.jsxs)(o.u_,{isOpen:z,onClose:D,"data-qaid":"modal-edit-profile-title",isCentered:!0,scrollBehavior:"inside","data-testid":"profile-form-modal",blockScrollOnMount:!1,children:[(0,i.jsx)(a.Z,{}),(0,i.jsxs)(s.h,{sx:{...I.E2},borderRadius:"8px",overflow:"hidden",children:[(0,i.jsx)(r.o,{}),(0,i.jsx)(d.f,{h:"400px",children:(0,i.jsxs)(c.xu,{minW:["300px","300px","380px"],children:[(0,i.jsx)(u.X,{size:"lg",mt:4,w:"fit-content",children:"Edit Profile"}),(0,i.jsxs)(p.k,{flexDirection:"column",w:"100%",children:[(0,i.jsxs)(m.NI,{w:"100%",mt:8,children:[(0,i.jsx)(x.l,{children:"Profile Avatar"}),(0,i.jsx)(_.w,{initialImageURL:J||void 0,onImageChanged:e=>{H(e),Q(!0)}}),(T.roles.pro||T.roles.staff)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(p.k,{columnGap:2,children:[(0,i.jsx)(h.I,{mb:8,placeholder:"Prompt for an AI-generated image...",value:en,maxLength:200,onChange:e=>ei(e.target.value),_focus:{border:"solid",borderWidth:"0.5px",borderColor:"orange",boxShadow:"0 0 0 0.5px orange"}}),(0,i.jsx)(g.z,{size:"md",px:6,onClick:async()=>{et(!0);let{data:e}=await Z.apiClient.POST("/api/gen/prompt_image/",{body:{prompt:en}});et(!1),e&&$(e.image_url)},isDisabled:ee||""===en,children:"Generate"})]}),ee&&(0,i.jsxs)(p.k,{flexDirection:"row",children:[(0,i.jsx)(f.$,{mr:2,size:"sm"}),(0,i.jsx)(v.x,{children:"Generating image..."})]})]}),(0,i.jsx)(m.Q6,{w:"fit-content",color:el.avatar_image_url?"red.300":void 0,children:el.avatar_image_url||"The image that will be shown on your profile (max 10 MB)"})]}),(0,i.jsxs)(m.NI,{maxW:"340px",my:8,w:"fit-content",children:[(0,i.jsx)(x.l,{children:"Display Name"}),(0,i.jsx)(h.I,{type:"text",w:["320px","320px","400px"],maxLength:40,value:q||"",placeholder:"Display Name",onChange:e=>{U(e.target.value),eo({...el,display_name:void 0})},isInvalid:!P(q||"")||!!el.display_name,"data-testid":"display-name-input"}),(0,i.jsx)(m.Q6,{w:"fit-content",children:el.display_name||"This is shown on your songs and playlists."})]}),(0,i.jsxs)(m.NI,{maxW:["320px","320px","400px"],mb:8,isRequired:!0,w:"fit-content",children:[(0,i.jsx)(x.l,{children:"Handle"}),(0,i.jsxs)(b.B,{children:[(0,i.jsx)(y.Ui,{padding:"10px",width:"36px",children:"@"}),(0,i.jsx)(h.I,{type:"text",w:["284px","284px","364px"],maxLength:40,value:V||"",placeholder:"Handle",onChange:e=>{G(e.target.value),eo({...el,handle:void 0})},isInvalid:!M(V||"")||!!el.handle,"data-testid":"handle-input"})]}),(0,i.jsx)(m.Q6,{w:"fit-content",color:!M(V||"")||el.handle?"red.300":void 0,children:M(V||"")?el.handle||"This is used in your profile URL, and can be changed later.":"This user handle is invalid. Must be at least 3 characters, and only letters, numbers and underscores are allowed"})]}),(0,i.jsxs)(m.NI,{maxW:"400px",mb:8,children:[(0,i.jsx)(x.l,{children:"Profile Description"}),(0,i.jsx)(j.g,{w:"100%",value:W||"",placeholder:"Profile description",onChange:e=>{K(e.target.value),eo({...el,profile_description:void 0})},maxLength:160,isInvalid:!!el.profile_description,"data-testid":"profile-description-input"}),(0,i.jsx)(m.Q6,{children:el.profile_description||"Describe your musical style in a few words."})]})]})]})}),(0,i.jsxs)(w.m,{children:[(0,i.jsx)(g.z,{type:"submit",colorScheme:"orange",size:"md",maxW:"200px",onClick:er,isLoading:ea,isDisabled:q===(null===(F=T.user)||void 0===F?void 0:F.display_name)&&V===(null===(O=T.user)||void 0===O?void 0:O.handle)&&W===(null===(L=T.user)||void 0===L?void 0:L.profile_description)&&!X||!M(V||"")||!P(q||""),children:"Save"}),(0,i.jsx)(p.k,{flex:1,justifyContent:"flex-end",children:(null===(R=T.user)||void 0===R?void 0:R.display_name)&&(0,i.jsx)(k.r,{href:"/@".concat(null===(A=T.user)||void 0===A?void 0:A.handle),children:"View My Profile"})})]})]})]})})},25099:function(e,t,n){var i=n(57437),l=n(95430),o=n(67958),a=n(69548),s=n(65870);let r=(0,l.Pi)(e=>{let{clipId:t}=e,{clips:n,genForm:l}=(0,o.mZ)(),r=n.clipById[t];return r?(0,i.jsxs)("div",{className:"md:mx-2 relative",children:[(0,i.jsx)("div",{className:"font-sans py-3 text-[15px]",children:"Cover"}),(0,i.jsxs)("div",{className:"items-center bg-tertiary p-2 rounded-md border border-quaternary flex",children:[(0,i.jsx)(s.Z,{alt:"Song Image",width:"40px",height:"55px",borderRadius:"4px",src:null==r?void 0:r.image_url,objectFit:"cover","flex-shrink":"0"}),(0,i.jsx)("div",{className:"font-sans text-sm px-4 ",children:(0,a.M8)(r)}),(0,i.jsx)("button",{className:"p-2 font-sans text-xs bg-quaternary hover:bg-secondary/20 rounded-full ml-auto",onClick:()=>{l.setCoverClip(null)},children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4 text-white",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}):null});t.Z=r},70724:function(e,t,n){n.d(t,{dw:function(){return J},hp:function(){return ee},Yt:function(){return $}});var i=n(57437),l=n(29945),o=n(55499),a=n(64874),s=n(69548),r=n(1225),d=n(74340),c=n(10114),u=n(20864),p=n(44379),m=n(99240),x=n(47414),h=n(51464),g=n(95430),f=n(2265),v=n(67958),b=n(1633),y=n(92115),j=n(91033),w=n(91560),k=n(14675),C=n(78232),S=n(1601),N=n(80048),I=n(60446),_=n(40129),P=n(50965),M=n(15188),E=n(21216),F=n(46575),O=n(93278),L=n(37720),R=n(57666),A=n(20783),z=n(16378),D=n(98719),T=n(2084),Z=n(60537),B=n(89483),q=n(63098);function U(){let e=(0,B._)(["\n  @keyframes flap {\n    0%,\n    100% {\n      transform: rotateY(0) rotateZ(0);\n    }\n    50% {\n      transform: rotateY(-40deg) rotateZ(-10deg);\n    }\n  }\n  @keyframes blink {\n    0%,\n    48%,\n    52%,\n    100% {\n      height: 10px;\n    }\n    50% {\n      height: 1px;\n    }\n  }\n  @keyframes slideLeft {\n    from {\n      transform: translateX(14px) translateY(2px);\n    }\n    to {\n      transform: translateX(0px) translateY(2px);\n    }\n  }\n  @keyframes walkIn {\n    from {\n      transform: translateX(40%) scale(0.25) translateX(0%);\n    }\n    to {\n      transform: translateX(15%) scale(0.25) translateX(0%);\n    }\n  }\n  @keyframes legMove {\n    0%,\n    100% {\n      transform: translateY(0);\n    }\n    50% {\n      transform: translateY(-5px);\n    }\n  }\n  @keyframes slideIn {\n    from {\n      transform: translateX(-50px) translateY(10px);\n    }\n    to {\n      transform: translateX(-30px);\n    }\n  }\n  @keyframes glitterFall {\n    0% {\n      transform: translateY(0) rotate(60deg);\n      opacity: 1;\n    }\n    100% {\n      transform: translateX(-40px) translateY(75px) rotate(270deg);\n      opacity: 0;\n    }\n  }\n  @keyframes legMoveInverse {\n    0%,\n    100% {\n      transform: translateY(-5px);\n    }\n    50% {\n      transform: translateY(0);\n    }\n  }\n  body {\n    position: relative;\n    height: 100vh;\n    margin: 0;\n    background: darkslategrey;\n  }\n"]);return U=function(){return e},e}let V=(0,q.iv)(U()),G=()=>{let[e,t]=(0,f.useState)(!1),[n,l]=(0,f.useState)(!1),o="0.5s";return(0,f.useEffect)(()=>{let e=setTimeout(()=>{t(!0)},5e3);return()=>clearTimeout(e)},[5]),(0,f.useEffect)(()=>{let e=setTimeout(()=>{l(!0)},8e3);return()=>clearTimeout(e)},[8]),(0,i.jsxs)("div",{className:"chicken",style:{position:"absolute",marginTop:"26px",left:"50%",transform:"translate(-50%, -50%) scale(0.25) translateX(0%)",width:"200px",height:"100px",animation:"walkIn ".concat(5,"s forwards")},children:[(0,i.jsxs)("div",{className:"head",style:{position:"absolute",top:"-50px",left:"0",width:"50px",height:"50px",background:"bisque",borderTopRightRadius:"23123px"},children:[(0,i.jsxs)("div",{className:"hair",style:{position:"absolute",top:"-5px",left:"-1px",width:"5px",height:"10px",background:"darkorange",borderTopLeftRadius:"100px",borderTopRightRadius:"100px",transform:"rotate(-10deg)"},children:[(0,i.jsx)("div",{style:{position:"absolute",top:"2px",left:"5px",width:"5px",height:"8px",background:"darkorange",borderTopLeftRadius:"100px",borderTopRightRadius:"100px"}}),(0,i.jsx)("div",{style:{position:"absolute",top:"4px",left:"10px",width:"5px",height:"6px",background:"darkorange",borderTopLeftRadius:"100px",borderTopRightRadius:"100px"}})]}),(0,i.jsx)("div",{className:"eye",style:{position:"absolute",top:"50%",left:"30%",width:"10px",height:"10px",borderRadius:"50%",background:"black",transform:"translate(-50%, -50%)",animation:"blink 5s infinite"}})]}),e&&(0,i.jsx)("div",{className:"party-popper",style:{position:"absolute",top:"-25px",left:"-20px",width:"30px",height:"0",borderBottom:"15px solid transparent",borderTop:"15px solid transparent",borderLeft:"40px solid orange",transform:"rotate(0deg)",animation:"slideIn 3s forwards"}}),n&&(0,i.jsx)("div",{children:[...Array(1e3)].map((e,t)=>(0,i.jsx)("div",{className:"glitter",style:{position:"absolute",top:"-10px",left:"".concat(-75+30*Math.random()-15,"px"),width:"16px",height:"9px",backgroundColor:["#ff0","#f0f","#0ff"][t%3],borderRadius:"30%",opacity:0,transform:"rotate(40deg)",animation:"glitterFall 3s ".concat(.2*t,"s forwards")}},t))}),(0,i.jsx)("div",{className:"beak",style:{position:"absolute",top:"-20px",left:"-20px",width:"0",height:"0",border:"10px solid transparent",borderRightColor:"darkorange"}}),(0,i.jsx)("div",{className:"body",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",borderBottomLeftRadius:"500px",borderBottomRightRadius:"500px",background:"bisque"},children:(0,i.jsx)("div",{className:"wing",style:{position:"absolute",top:"20%",left:"50%",width:"20%",height:"40%",borderBottomRightRadius:"1000px",border:"1px solid darkslategray",animation:"flap 1s infinite ease-out",transformOrigin:"0 0"}})}),(0,i.jsx)("div",{className:"tail",style:{position:"absolute",top:"-20px",right:"0",width:"20px",height:"20px",background:"bisque",borderTopLeftRadius:"123132px"}}),(0,i.jsx)("div",{className:"leg one",style:{position:"absolute",bottom:"-18px",left:"40%",width:"2px",height:"20px",background:"darkorange",animation:"legMove ".concat(o," ").concat(10," forwards")},children:(0,i.jsx)("div",{style:{position:"absolute",bottom:"0",left:"-5px",width:"12px",height:"2px",background:"darkorange"}})}),(0,i.jsx)("div",{className:"leg two",style:{position:"absolute",bottom:"-18px",left:"60%",width:"2px",height:"20px",background:"darkorange",animation:"legMoveInverse ".concat(o," ").concat(10," forwards")},children:(0,i.jsx)("div",{style:{position:"absolute",bottom:"0",left:"-5px",width:"12px",height:"2px",background:"darkorange"}})})]})};var W=()=>{let[e,t]=(0,f.useState)("white");return(0,f.useEffect)(()=>{let e=setTimeout(()=>{t("url(#stripes)")},2e3);return()=>clearTimeout(e)},[]),console.log(e),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(q.xB,{styles:V}),(0,i.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",width:"max-content"},children:(0,i.jsx)(G,{})})]})},K=n(96465),Y=n(25099);let H=(0,g.Pi)(e=>{let{state:t,setConfiguration:n}=e,[l,o]=(0,f.useState)(t.configurations),a=(e,t)=>{o(n=>({...n,[e]:t}))},s=(e,t)=>{let i=t;switch(e){case"temp_semantic":case"temp_coarse":case"top_p_semantic":case"top_p_coarse":case"cfg_coef":case"cfg_coef_tags":case"cfg_coef_neg_tags":i=parseFloat(t);break;case"top_k_semantic":case"top_k_coarse":case"cfg_coef_tags_max_steps":i=parseInt(t,10)}n(e,i)};return(0,i.jsx)("div",{className:"font-sans",children:(0,i.jsxs)(c.K,{spacing:3,children:[(0,i.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"temp_semantic",value:l.temp_semantic||"",onChange:e=>a("temp_semantic",e.target.value),onBlur:e=>s("temp_semantic",e.target.value)}),(0,i.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"temp_coarse",value:l.temp_coarse||"",onChange:e=>a("temp_coarse",e.target.value),onBlur:e=>s("temp_coarse",e.target.value)}),(0,i.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"top_k_semantic",value:l.top_k_semantic||"",onChange:e=>a("top_k_semantic",e.target.value),onBlur:e=>s("top_k_semantic",e.target.value)}),(0,i.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"top_k_coarse",value:l.top_k_coarse||"",onChange:e=>a("top_k_coarse",e.target.value),onBlur:e=>s("top_k_coarse",e.target.value)}),(0,i.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"top_p_semantic",value:l.top_p_semantic||"",onChange:e=>a("top_p_semantic",e.target.value),onBlur:e=>s("top_p_semantic",e.target.value)}),(0,i.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"top_p_coarse",value:l.top_p_coarse||"",onChange:e=>a("top_p_coarse",e.target.value),onBlur:e=>s("top_p_coarse",e.target.value)}),(0,i.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"cfg_coef",value:l.cfg_coef||"",onChange:e=>a("cfg_coef",e.target.value),onBlur:e=>s("cfg_coef",e.target.value)}),(0,i.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"cfg_coef_tags",value:l.cfg_coef_tags||"",onChange:e=>a("cfg_coef_tags",e.target.value),onBlur:e=>s("cfg_coef_tags",e.target.value)}),(0,i.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"cfg_coef_neg_tags",value:l.cfg_coef_neg_tags||"",onChange:e=>a("cfg_coef_neg_tags",e.target.value),onBlur:e=>s("cfg_coef_neg_tags",e.target.value)}),(0,i.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"cfg_coef_tags_max_steps",value:l.cfg_coef_tags_max_steps||"",onChange:e=>a("cfg_coef_tags_max_steps",e.target.value),onBlur:e=>s("cfg_coef_tags_max_steps",e.target.value)})]})})}),X=Object.fromEntries(L.map(e=>[e.id,e])),Q=Object.fromEntries(Object.entries(X).map(e=>{let[t,n]=e;return[t,n.title]})),J=(0,g.Pi)(e=>{let{clipId:t}=e,{clips:n,genForm:o,playbar:a,session:h}=(0,v.mZ)(),g=n.clipById[t],[b,y]=(0,f.useState)(""),[j,k]=(0,f.useState)(o.infillFromSeconds?(0,s.L7)(o.infillFromSeconds):null),[C,S]=(0,f.useState)(o.infillToSeconds?(0,s.L7)(o.infillToSeconds):null),[N]=(0,r.a)("(max-width: 768px)");return((0,f.useEffect)(()=>{y((0,s.L7)(o.continueAtSeconds)||"00:00")},[t,o.continueAtSeconds]),(0,f.useEffect)(()=>{var e;(null===(e=h.flags)||void 0===e?void 0:e["waveform-infilling"])&&g&&n.loadAlignedLyrics(g)},[g]),(0,f.useEffect)(()=>{if(C&&j&&C!==j){let e=((0,s.lh)(C)||0)-((0,s.lh)(j)||0);e>0&&e<60&&(o.infillFromSeconds=(0,s.lh)(j),o.infillToSeconds=(0,s.lh)(C))}else o.infillFromSeconds=null,o.infillToSeconds=null},[C,j]),(0,f.useEffect)(()=>{k(o.infillFromSeconds?(0,s.L7)(o.infillFromSeconds):null),S(o.infillToSeconds?(0,s.L7)(o.infillToSeconds):null)},[o.infillFromSeconds,o.infillToSeconds]),g)?(0,i.jsxs)(d.xu,{m:2,maxWidth:305,children:[!o.infillFromSeconds&&!o.infillToSeconds&&(0,i.jsx)(c.K,{children:(0,i.jsxs)(c.K,{direction:"row",mb:6,mt:4,children:[(0,i.jsx)(u.l,{fontSize:"sm",mt:1.5,fontFamily:"Neue Montreal",children:"Extend from"}),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(p.I,{isInvalid:!o.isContinueValid(),isDisabled:C!==j,rounded:"md",size:"sm",fontSize:"md",fontWeight:"bold",fontFamily:"Neue Montreal",onChange:e=>{var t;let n=(0,s.lh)(e.target.value),i=Math.min(null!=n?n:0,null!==(t=o.continueClipDuration)&&void 0!==t?t:0);null!==n&&e.target.value.match(/:\d{2}/)&&null!==i?(o.setContinueAtSeconds(i),y((0,s.L7)(i)||"")):y(e.target.value)},onBlur:()=>{var e;let t=(0,s.lh)(b),n=Math.min(null!=t?t:0,null!==(e=o.continueClipDuration)&&void 0!==e?e:0);o.setContinueAtSeconds(n)},value:b,borderColor:"white",maxLength:5,maxW:"80px",_focus:{borderColor:"0.5px solid white"}})}),(0,i.jsx)(u.l,{flex:"1",fontSize:"sm",children:" "}),N?(0,i.jsx)(m.k,{}):(0,i.jsx)(x.z,{size:"xs",mt:1.5,fontFamily:"Neue Montreal",onClick:()=>{o.setContinueClip(null)},children:"Clear"})]})}),(0,i.jsx)(w.Z,{rowKey:g.id,onPlay:()=>{var e;if((null===(e=a.clip)||void 0===e?void 0:e.id)===g.id){a.togglePlay();return}a.queue.setPlayContext({clips:[g],currentIndex:0,contextType:l.Q.FEED}),a.playClip(g)},onClick:()=>{},clip:g,showActions:!1,onAddToPlaylist:()=>{},condensed:!0})]}):null}),$=(e,t)=>{let n=t.style.trim();""==n?t.setStyle(e):(n=","==n.charAt(n.length-1)?n+" "+e:n+", "+e).length<=120&&t.setStyle(n)},ee=(0,g.Pi)(e=>{var t,n,l,s,r,u;let{state:p,onGenerate:m,isSimple:x=!0,hideTopStack:g}=e,{session:w,clips:B,genForm:q,edit:U}=(0,v.mZ)(),[V]=(0,f.useState)(!1),[G,ee]=(0,f.useState)(!1);o.r8&&console.log(G);let{isOpen:et,onOpen:en,onClose:ei}=(0,h.q)(),[el,eo]=(0,f.useState)(!1),[ea,es]=(0,f.useState)(!1),[er,ed]=(0,f.useState)(!1),[ec,eu]=(0,f.useState)(!1),[ep,em]=(0,f.useState)(!1),[ex,eh]=(0,f.useState)(!1),[eg,ef]=(0,f.useState)(!1),[ev,eb]=(0,f.useState)(!1),[ey,ej]=(0,f.useState)(!1),[ew,ek]=(0,f.useState)(!1),[eC,eS]=(0,f.useState)(!1),[eN,eI]=(0,f.useState)(0),e_=async()=>{eo(!0),ee(!1),await w.acceptTOS(),ei()};(0,f.useEffect)(()=>{(async()=>{w.roles.has_accepted_custom_mode_tos?ee(!1):ee(!0)})()},[w.roles.has_accepted_custom_mode_tos,en]),(0,f.useEffect)(()=>{let e=localStorage.getItem("specialOccasionsCount");e&&eI(parseInt(e,10))},[]),(0,f.useEffect)(()=>{localStorage.setItem("specialOccasionsCount",eN.toString())},[eN]);let eP=p.continueClipId?B.clipById[p.continueClipId]:null;(0,f.useEffect)(()=>{eP&&eP.metadata&&eP.metadata.tags&&!V&&""===p.style&&p.setStyle(eP.metadata.tags)},[eP,V]);let[eM,eE]=(0,f.useState)(null);(0,f.useEffect)(()=>{g&&g(!!eM)},[eM,g]);let eF=(e=>{let t={};return Object.values(e).forEach(e=>{e.content.forEach(e=>{"input"===e.type&&(t[e.field]="")})}),t})(L),[eO,eL]=(0,f.useState)(eF),eR=(e,t)=>{eL(n=>({...n,[e]:t}))},eA=Object.fromEntries(Object.entries(X).map(e=>{let[t,n]=e;return[t,(0,i.jsx)("div",{className:"flex flex-wrap gap-1 max-w-xs font-sans px-2",children:n.content.map((e,t)=>"string"==typeof e?(0,i.jsx)("span",{children:e},t):"input"===e.type?(0,i.jsxs)("div",{className:"relative w-30 mb-6 inline-flex items-center",children:[(0,i.jsx)("input",{type:"text",placeholder:" ",className:"leading-tight w-full px-1 py-0.5 border-b-2 border-secondary focus:border-primary placeholder-transparent focus:outline-none text-center bg-vinylBlack-light bg-opacity-30 focus:bg-opacity-40",value:eO[e.field],onChange:t=>eR(e.field,t.target.value),maxLength:e.maxLength}),(0,i.jsx)("label",{className:"font-mono text-[9px] w-full text-center absolute left-1/2 transform -translate-x-1/2 -bottom-4 text-primary text-opacity-90 transition-transform duration-200 ease-in-out",children:e.placeholder})]},t):null)},t)]}));(0,f.useEffect)(()=>{let e=document.querySelectorAll("input");return e.forEach(e=>{e.addEventListener("focus",ez),e.addEventListener("blur",eD)}),()=>{e.forEach(e=>{e.removeEventListener("focus",ez),e.removeEventListener("blur",eD)})}},[]);let ez=e=>{e.target.nextElementSibling.classList.add("translate-y-5","text-xs","text-gray-500")},eD=e=>{let t=e.target.nextElementSibling;""===e.target.value&&t.classList.remove("translate-y-5","text-xs","text-gray-500")},eT=(0,f.useRef)(null),[eZ,eB]=(0,f.useState)(!1);if((0,f.useEffect)(()=>{eT.current&&eT.current.focus()},[]),eM)return(0,i.jsxs)(c.K,{p:2,spacing:4,py:{base:0,md:4},w:"100%",mt:8,children:[ea&&(0,i.jsx)(M.Z,{}),er&&(0,i.jsx)(E.Z,{}),ep&&(0,i.jsx)(F.Z,{}),ec&&(0,i.jsx)(T.Z,{}),ex&&(0,i.jsx)(D.Z,{}),eg&&(0,i.jsx)(z.Z,{}),ev&&(0,i.jsx)(A.Z,{}),ey&&(0,i.jsx)(R.Z,{}),ew&&(0,i.jsx)(Z.Z,{}),(0,i.jsx)("button",{onClick:()=>{eE(null),p.setDescription("")},className:"ml-2 h-[32px] w-[32px] p-2 text-white bg-tertiary hover:bg-vinylBlack-darker focus:outline-none rounded-full border border-white-300 flex justify-center items-center","aria-label":"Back",children:(0,i.jsx)(_.Z,{src:"/icons/left-caret.svg",alt:"Back",width:8,height:8})}),(0,i.jsx)("h2",{className:"font-serif text-2xl px-2 pt-2 break-words max-w-[300px]",children:eM&&Q[eM]}),(0,i.jsx)("p",{className:"font-sans font-medium text-sm px-2 pb-4 text-secondary text-opacity-80",children:"Fill in the blanks to create your song."}),(0,i.jsx)("p",{children:eA[eM]}),(0,i.jsxs)(c.K,{px:2,py:6,className:"create-button",pb:10,children:[(0,i.jsx)(j.Z,{onClick:()=>{if(!eM)return;let e=X[eM];if(!e)return;let t=e.template;Object.keys(eO).forEach(e=>{let n=eO[e];t=t.replace("{".concat(e,"}"),n)}),"SpecialOccasions"===eM?((0,P.Z)({particleCount:100,spread:70,origin:{y:.6},colors:["#FAF7F5","#D1CBC7"]}),eI(e=>{let t=e+1;return t%10==0&&(eS(!0),setTimeout(()=>{eS(!1)},2e4)),t})):"Person"===eM?(es(!0),setTimeout(()=>es(!1),5e3)):"Activity"===eM?(ed(!0),setTimeout(()=>ed(!1),5e3)):"Moods"===eM?(eh(!0),setTimeout(()=>eh(!1),5e3)):"Greeting"===eM?(ef(!0),setTimeout(()=>ef(!1),5e3)):"2024Olympics"===eM?(eu(!0),ek(!0),setTimeout(()=>{eu(!1),ek(!1)},5e3)):"Scrapbook"===eM?(em(!0),setTimeout(()=>em(!1),5e3)):"Vacation"===eM?(ej(!0),setTimeout(()=>ej(!1),5e3)):"Pet"===eM&&(eb(!0),setTimeout(()=>eb(!1),5e3)),p.setDescription(t),m(p)},text:p.continueClipId?"Extend":"Create",icon:"/create-new.svg",isDisabled:w.isOutOfCredits||!(()=>{if(!eM)return!0;let e=X[eM];return!e||e.content.every(e=>"object"!=typeof e||"input"!==e.type||""!==eO[e.field].trim())})(),isLoading:p.isLoading,label:p.continueClipId?"Extend":"Create",backgroundImage:"/auras/orange-aura.png"}),eC&&(0,i.jsx)(W,{})]})]});if(x)return(0,i.jsxs)(c.K,{p:2,spacing:0,py:{base:0,md:4},w:"100%",children:[(0,i.jsxs)(c.K,{direction:"row",alignItems:"alignItems",justifyContent:"space-between",p:2,children:[(0,i.jsxs)(c.K,{direction:"row",alignItems:"alignItems",spacing:1,children:[(0,i.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Song description"}),(0,i.jsx)(N.Z,{label:"Describe the style of music and topic you want (e.g. acoustic pop about the holidays). Use genres and vibes instead of specific artists and songs."})]}),(0,i.jsx)(C.Z,{label:"Instrumental",checked:q.instrumental,onChange:e=>{q.setInstrumental(e)}})]}),(0,i.jsx)(c.K,{flex:"1",direction:["row","row","column"],alignItems:["stretch","stretch","stretch"],px:2,children:(0,i.jsx)(c.K,{direction:"column",flex:"1",spacing:0,className:"simple-prompt-textarea",children:(0,i.jsx)(S.Z,{maxLength:200,value:p.description,resize:!0,onChange:e=>p.setDescription(e.target.value),placeholder:p.placeholder,isScrollable:!0,customHeight:"h-[100px]"})})}),(0,i.jsx)(c.K,{px:2,py:6,className:"create-button",children:(0,i.jsx)(j.Z,{onClick:()=>m(p),text:p.continueClipId?"Extend":"Create",icon:"/create-new.svg",isDisabled:w.isOutOfCredits,isLoading:p.isLoading,label:p.continueClipId?"Extend":"Create",backgroundImage:"/create-button-background.svg"})}),(null==w?void 0:null===(u=w.flags)||void 0===u?void 0:u.madlibs)&&(0,i.jsx)(O.Z,{setSelectedSuggestion:eE})]});let eq="chirp-v3-5"===p.mv||p.continueClipId&&(null===(n=B.clipById[p.continueClipId])||void 0===n?void 0:null===(t=n.metadata)||void 0===t?void 0:t.type)==="upload"?b.yG:b.yR;return(0,i.jsxs)("div",{className:"px-2 pb-2 flex flex-col flex-1 overflow-y-auto w-full mb-8",tabIndex:-1,ref:eT,children:[(0,i.jsx)(I.Z,{isOpen:et,onClose:ei,onConfirm:e_,isLoading:el}),(0,i.jsxs)(c.K,{flex:1,overflowY:"auto",py:{base:0,md:4},children:[(null==w?void 0:null===(l=w.flags)||void 0===l?void 0:l.configs)&&w.isStaff&&(0,i.jsxs)("div",{className:"mx-2",children:[(0,i.jsx)("div",{className:"pb-6",children:(0,i.jsx)(C.Z,{label:"The Matrix",checked:eZ,onChange:eB})}),eZ&&(0,i.jsx)(H,{state:p,setConfiguration:(e,t)=>{p.configurations={...p.configurations,[e]:t}}})]}),(0,i.jsx)("div",{className:"pb-1",children:(null==w?void 0:null===(s=w.flags)||void 0===s?void 0:s["artist-consistency"])&&p.artistClipId&&(0,i.jsx)(K.Z,{clipId:p.artistClipId})}),(0,i.jsx)("div",{className:"pb-1",children:(null==w?void 0:null===(r=w.flags)||void 0===r?void 0:r.cover)&&p.coverClipId&&(0,i.jsx)(Y.Z,{clipId:p.coverClipId})}),p.instrumental?(0,i.jsxs)(d.xu,{mx:2,children:[(0,i.jsxs)(c.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",py:2,children:[(0,i.jsx)("span",{className:"font-sans font-normal text-primary text-20px",children:"Style of Music"}),(0,i.jsx)(C.Z,{label:"Instrumental",checked:q.instrumental,onChange:e=>{q.setInstrumental(e)}})]}),(0,i.jsx)(S.Z,{maxLength:120,value:p.style,resize:!1,customHeight:"h-[130px]",onChange:e=>p.setStyle(e.target.value),placeholder:"Enter style of music",spacedLeftAsset:!0,isScrollable:!1,leftAsset:(0,i.jsx)("div",{className:"flex space-x-1 overflow-x-auto mr-4",children:p.recommmendedStyles.map((e,t)=>(0,i.jsx)(k.Z,{style:e,onClick:()=>{$(e,p),a.g.logAudioCreationEvent(!1,y.OF.useRecommendStyle,p,w,{recommendStyle:e}),a.g.track(y.Vy.recommendedStyleClick,{isMobile:!1,style:e,userId:w.userId})}},t))})})]}):(0,i.jsxs)(d.xu,{mx:2,children:[(0,i.jsxs)(c.K,{mb:5,children:[(0,i.jsxs)(c.K,{direction:"row",alignItems:"alignItems",justifyContent:"space-between",pt:2,children:[(0,i.jsxs)(c.K,{direction:"row",alignItems:"alignItems",children:[(0,i.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Lyrics"}),(0,i.jsx)(N.Z,{label:"Create random lyrics, write your own, or get some help from AI. Use two verses (8 lines) for best results."})]}),(0,i.jsx)(C.Z,{label:"Instrumental",checked:q.instrumental,onChange:e=>{q.setInstrumental(e)}})]}),(0,i.jsx)(S.Z,{maxLength:eq,value:p.lyrics,resize:!0,isScrollable:!0,onChange:e=>p.setLyrics(e.target.value),customHeight:"h-[230px]",placeholder:p.continueClipId?"Enter additional lyrics to extend the song based on your previous verses... \n\nOnce the extended songs have finished creating, click '...' and Get Whole Song to get the entire completed song.":"Enter your own lyrics or describe a song and click Generate Lyrics...",onClick:()=>{G&&en()},onKeyDown:e=>{G&&en(),"Enter"===e.key&&G&&e.preventDefault()},isReadOnly:G,cursor:G?"not-allowed":"text",leftAsset:(0,i.jsx)("button",{className:"bg-quaternary text-white hover:bg-tertiary font-medium px-4 py-2 rounded-full text-sm font-sans",onClick:p.generateLyrics,disabled:!1,children:p.isLoadingLyrics?(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}):p.lyrics?"Generate Lyrics":(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("img",{src:"/dice.svg",alt:"dice",className:"h-4 w-4 mr-2"}),"Make Random Lyrics"]})})})]}),(0,i.jsxs)(c.K,{direction:"row",alignItems:"alignItems",spacing:1,py:2,children:[(0,i.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Style of Music"}),(0,i.jsx)(N.Z,{label:"Describe the style of music you want (e.g., acoustic pop). Suno's models do not recognize artists' names but do understand genres and vibes."})]}),(0,i.jsx)(S.Z,{maxLength:120,value:p.style,resize:!1,onChange:e=>p.setStyle(e.target.value),placeholder:"Enter style of music",spacedLeftAsset:!0,isScrollable:!0,leftAsset:(0,i.jsx)("div",{className:"flex space-x-1 overflow-x-auto mr-4",children:p.recommmendedStyles.map((e,t)=>(0,i.jsx)(k.Z,{style:e,onClick:()=>{$(e,p),a.g.logAudioCreationEvent(!1,y.OF.useRecommendStyle,p,w,{recommendStyle:e}),a.g.track(y.Vy.recommendedStyleClick,{isMobile:!1,style:e,userId:w.userId})}},t))}),customHeight:"h-[130px]"})]}),(0,i.jsxs)(d.xu,{m:2,children:[(0,i.jsxs)(c.K,{direction:"row",alignItems:"alignItems",spacing:1,py:2,children:[(0,i.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Title"}),(0,i.jsx)(N.Z,{label:"Give your song a title for sharing, discovery and organization."})]}),(0,i.jsx)(S.Z,{maxLength:80,value:p.title,onChange:e=>p.setTitle(e.target.value),placeholder:"Enter a title",customHeight:"h-[12px]",isScrollable:!1})]}),p.continueClipId?(0,i.jsx)(J,{clipId:p.continueClipId}):null]}),(0,i.jsx)(c.K,{p:2,mb:20+(U.isEditorOpen?36:0),className:"create-button",children:(0,i.jsx)(j.Z,{onClick:()=>m(p),text:p.continueClipId?null!==p.infillFromSeconds&&null!==p.infillToSeconds?"Recreate Segment":"Extend":"Create",icon:"/create-new.svg",isDisabled:w.isOutOfCredits||!p.coverClipId&&!p.artistClipId&&!p.lyrics&&!p.style||!p.isContinueValid(),isLoading:p.isLoading,fullWidth:!0,backgroundImage:"/create-button-background.svg"})})]})})},73234:function(e,t,n){n.d(t,{O:function(){return x},_:function(){return m}});var i=n(57437),l=n(10114),o=n(95430),a=n(67958),s=n(91033),r=n(52371),d=n(1601),c=n(80048),u=n(7255),p=n(2265);let m=(0,o.Pi)(e=>{let{imageButtonOnClick:t,activeState:n}=e;return(0,i.jsx)("button",{"aria-label":"Staff Testing: Image to Song",onClick:t,className:"font-sans text-white text-sm font-medium mb-4 px-4 rounded-full shadow-lg hover:bg-primary/30 h-[28px] mt-4 ml-auto mr-4 ".concat(n?"bg-primary/30":"bg-quaternary"),children:(0,i.jsxs)("div",{className:"flex items-center justify-center h-full w-full",children:[(0,i.jsx)("img",{src:"/icons/play-song-card.svg",alt:"Upload",className:"w-3 h-3 mr-0 filter invert brightness-0"}),(0,i.jsx)("span",{className:"whitespace-nowrap text-md",children:"Upload Image"})]})})}),x=(0,o.Pi)(e=>{let{state:t,onGenerate:n}=e,{session:o}=(0,a.mZ)(),[m,x]=(0,p.useState)(1),{enabled:h}=o.isFeatureAllowed("image-to-song"),g=()=>!Object.values(t.imageData).every(e=>null===e);return(0,i.jsx)(i.Fragment,{children:h?(0,i.jsxs)(l.K,{p:2,spacing:0,py:{base:0,md:4},w:"100%",children:[(0,i.jsx)(l.K,{direction:"row",alignItems:"alignItems",justifyContent:"space-between",p:2,children:(0,i.jsxs)(l.K,{direction:"row",alignItems:"alignItems",spacing:1,children:[(0,i.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Image to Song"}),(0,i.jsx)(c.Z,{label:"Upload up to 3 images to generate a song."})]})}),(0,i.jsxs)(l.K,{children:[Array.from({length:m}).map((e,n)=>(0,i.jsx)(u.w,{width:204,height:288,onImageChanged:e=>{t.setImageData(e,n)}},n)),m<3?(0,i.jsx)(r.Z,{text:"Add another image",onClick:()=>{x(m+1)}}):(0,i.jsx)(r.Z,{text:"Maximum number of images (".concat(3,") exceeded"),isDisabled:!0,onClick:()=>{}})]}),(0,i.jsx)(l.K,{direction:"row",alignItems:"alignItems",justifyContent:"space-between",p:2,children:(0,i.jsxs)(l.K,{direction:"row",alignItems:"alignItems",spacing:1,children:[(0,i.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Image Context and Song Style"}),(0,i.jsx)(c.Z,{label:"Add names and places to images. Describe the style of music and topic you want."})]})}),(0,i.jsx)(l.K,{flex:"1",direction:["row","row","column"],alignItems:["stretch","stretch","stretch"],px:2,children:(0,i.jsx)(l.K,{direction:"column",flex:"1",spacing:0,className:"simple-prompt-textarea",children:(0,i.jsx)(d.Z,{maxLength:200,value:t.description,resize:!0,onChange:e=>t.setDescription(e.target.value),placeholder:t.placeholder,isScrollable:!0,customHeight:"h-[100px]"})})}),(0,i.jsxs)("div",{className:"px-2 py-6 mb-20 create-button hidden md:flex flex flex-col",children:[(0,i.jsx)(s.Z,{onClick:()=>{t.setGenerationType("IMAGE"),n(t)},text:"Extract",icon:"/create-new.svg",isDisabled:o.isOutOfCredits||!g(),isLoading:t.isLoading,label:"Extract"}),!g()&&(0,i.jsx)("div",{className:"font-sans text-sm",children:"* Please upload at least one image."})]})]}):(0,i.jsx)(l.K,{p:2,spacing:0,py:{base:0,md:4},w:"100%",children:"Image to Song is not available. Please refresh the page."})})})},96465:function(e,t,n){var i=n(57437),l=n(95430),o=n(67958),a=n(69548),s=n(65870);let r=(0,l.Pi)(e=>{let{clipId:t}=e,{clips:n,genForm:l}=(0,o.mZ)(),r=n.clipById[t];return r?(0,i.jsxs)("div",{className:"md:mx-2 relative",children:[(0,i.jsx)("div",{className:"font-sans py-3 text-[15px]",children:"Inspired By"}),(0,i.jsxs)("div",{className:"items-center bg-tertiary p-2 rounded-md border border-quaternary flex",children:[(0,i.jsx)(s.Z,{alt:"Song Image",width:"40px",height:"55px",borderRadius:"4px",src:null==r?void 0:r.image_url,objectFit:"cover","flex-shrink":"0"}),(0,i.jsx)("div",{className:"font-sans text-sm px-4 ",children:(0,a.M8)(r)}),(0,i.jsx)("button",{className:"p-2 font-sans text-xs bg-quaternary hover:bg-secondary/20 rounded-full ml-auto",onClick:()=>{l.setArtistClip(null)},children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4 text-white",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}):null});t.Z=r},93278:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(57437);n(2265);var l=e=>{let{title:t,titleIcon:n,description:l,madlibsPrompt:o,onClick:a}=e;return(0,i.jsxs)("button",{onClick:a,className:"bg-tertiary hover:bg-secondary hover:bg-opacity-20 text-white font-bold font-sans py-6 px-8 rounded-lg flex flex-col items-center w-full h-[124px]",children:[(0,i.jsxs)("div",{className:"flex items-center justify-center w-full text-center",children:[(0,i.jsx)("span",{className:"text-md font-normal break-words",children:t}),n&&(0,i.jsx)("span",{className:"ml-2",children:n})]}),(0,i.jsx)("p",{className:"font-normal text-sm text-gray-200 mt-2 break-words text-center",children:l}),(0,i.jsx)("p",{className:"text-xs text-gray-400 mt-1 break-words",children:o})]})},o=n(67958),a=n(37720),s=n(64874),r=n(92115),d=e=>{let{setSelectedSuggestion:t}=e,{edit:n,playbar:d}=(0,o.mZ)(),c=e=>{s.g.segmentTrack(r.Vy.generalEvent,{key:e.id,title:e.buttonTitle,actionName:r.OF.clickSuggestion}),t(e.id)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"font-serif text-xl md:px-2 pt-6",children:"Need ideas?"}),(0,i.jsx)("div",{className:"flex flex-col md:px-2 pt-4 pb-6 gap-4 max-w-full",style:{marginBottom:d.clip?108+(n.isEditorOpen?136:0):0},children:a.map(e=>(0,i.jsx)(l,{title:e.buttonTitle,description:e.description,madlibsPrompt:"",onClick:()=>c(e)},e.id))})]})}},29043:function(e,t,n){n.d(t,{Z:function(){return U}});var i=n(57437),l=n(67958),o=n(26234),a=n(64874),s=n(92115),r=n(16463),d=n(51464),c=n(99240),u=n(19593),p=n(4807),m=n(73051),x=n(65739),h=n(1633),g=n(95430),f=n(2265),v=n(45614),b=n(65125),y=n(69548),j=n(85751),w=n(18330),k=n(50474),C=n(36413),S=n(72025),N=n(35500),I=n(87138),_=e=>{let{text:t,href:n,fontSize:l}=e;return(0,i.jsx)("span",{className:"mt-2 px-4 font-sans text-primary text-md font-normal whitespace-pre-wrap break-words cursor-pointer",style:{maxWidth:"100%",fontSize:l},title:t,children:(0,i.jsx)(N.r,{as:I.default,href:n,children:t})})},P=n(80524),M=n(80230),E=n(74340),F=n(47840),O=n(16829),L=n(61493),R=n(54410),A=n(6353),z=n(40191),D=n(14063),T=n(65870),Z=e=>{var t,n;let{clip:o,onPlay:a,index:s,playlistId:r,partNumber:d,isSongPage:u=!1}=e,{playbar:p}=(0,l.mZ)(),m=!p.queue.currentPlayingSongIsRemoved&&(void 0!==s?s===p.queue.currentIndex&&p.queue.isPlaylistCurrentContext(r):(null===(t=p.clip)||void 0===t?void 0:t.id)===(null==o?void 0:o.id)),[x,g]=(0,f.useState)(!1),v=(null==o?void 0:o.status)==="queued"||(null==o?void 0:o.status)==="submitted";return(0,i.jsxs)(M.r,{templateColumns:"auto 1fr",gap:4,alignItems:"center",width:"100%",cursor:"pointer",py:2,children:[(0,i.jsxs)(E.xu,{position:"relative",width:"30px",height:"41px",onClick:a,"aria-label":"Play Song",onMouseEnter:()=>{g(!0)},onMouseLeave:()=>g(!1),children:[(null==o?void 0:o.image_url)?(0,i.jsx)(T.Z,{imageSize:h.YY,alt:"Song Image",src:null==o?void 0:o.image_url,width:"30px",height:"41px",borderRadius:"4px",objectFit:"cover","flex-shrink":"0",border:m?"1px solid white":void 0}):(0,i.jsx)(F.O,{height:"30px",width:"30px",startColor:"#252020",endColor:"#363030"}),v&&(0,i.jsx)(c.k,{width:"30px",height:"30px",position:"absolute",top:0,left:0,alignItems:"center",justifyContent:"center",children:(0,i.jsx)(O.$,{color:"white",boxSize:"12px"})}),(0,i.jsx)(L.h,{"aria-label":p.isPlaying?"Pause":"Play",icon:m&&p.isPlaying?(0,i.jsx)(T.Z,{src:"/icons/pause-active.svg",alt:"Pause",width:4,height:4}):(0,i.jsx)("div",{className:"ml-1",children:(0,i.jsx)(T.Z,{src:"/icons/play.svg",alt:"Play",width:4,height:4})}),size:"sm",position:"absolute",width:"30px",height:"41px",top:"0",left:"50%",transform:"translate(-50%, 0)",color:"white",transition:"opacity 0.3s",opacity:m||x?1:0,_focus:{opacity:1}})]}),(0,i.jsxs)(E.xu,{children:[(0,i.jsxs)(c.k,{alignItems:"center",gap:"2",children:[(0,i.jsx)(N.r,{href:"/song/".concat(o.id,"/"),fontSize:"sm",title:(0,y.M8)(o),isTruncated:!0,maxWidth:u?"40%":"150px",fontWeight:"bold",fontFamily:"Neue Montreal",children:(0,y.M8)(o)}),(0,i.jsxs)(R.Vp,{fontSize:"11px",fontFamily:"Neue Montreal",sx:{padding:"0 4px",lineHeight:"normal",minHeight:"auto",display:"flex",alignItems:"center"},children:[(0,i.jsx)(A.J,{as:D.gjK,boxSize:"10px"}),(0,i.jsx)(z.x,{ml:1,fontFamily:"Neue Montreal",children:d})]})]}),(0,i.jsx)(z.x,{fontSize:"xs",isTruncated:!0,maxWidth:"170px",fontFamily:"Neue Montreal",children:null===(n=o.metadata)||void 0===n?void 0:n.tags})]})]})},B=n(6051),q=n(29945),U=(0,g.Pi)(e=>{var t,n,g,N,I,M,E,F,O,L,R,A,z,D;let{clip:T,fontSize:U,onCloseClipPreview:V,onAddToPlaylist:G,onRemoveFromPlaylist:W}=e,{clips:K,session:Y,library:H,playbar:X,genForm:Q}=(0,l.mZ)(),J=(0,f.useRef)(),[$,ee]=(0,f.useState)(!1),[et,en]=(0,f.useState)(!1),{isOpen:ei,onOpen:el,onClose:eo}=(0,d.q)(),{isOpen:ea,onClose:es}=(0,d.q)(),[er,ed]=(0,f.useState)(!1),[ec,eu]=(0,f.useState)([]),[ep,em]=(0,f.useState)(null),[ex,eh]=(0,f.useState)(!0),[eg,ef]=(0,f.useState)(null),[ev,eb]=(0,f.useState)(!0);(0,f.useEffect)(()=>{let e=async()=>{let{data:e}=await H.apiClient.GET("/api/user/get-creator-info/{creator_id}",{params:{path:{creator_id:(null==T?void 0:T.user_id)||""}}});en((null==e?void 0:e.is_following)||!1)};(async()=>{var e;if(!T||!T.metadata||!T.metadata.history){eu([]);return}let t=null==T?void 0:null===(e=T.metadata.history)||void 0===e?void 0:e.filter(e=>e.id).map(e=>K.loadClipById(e.id));try{let e=await Promise.all(t);eu(e.filter(Boolean))}catch(e){console.error("Error fetching continued clips:",e)}})(),e()},[T,K.loadClipById]),(0,f.useEffect)(()=>{J.current&&J.current.scrollIntoView()},[Q.infillFromSeconds,Q.infillToSeconds]);let ey=(0,r.usePathname)(),ej=async()=>{var e;a.g.track(s.Vy.followBtnClick,{followerId:T.user_id,isFollow:!et,isMobile:!1}),a.g.segmentTrack(s.Vy.artistActionEvent,{isMobile:!1,userId:null===(e=Y.user)||void 0===e?void 0:e.id,followeeId:null==T?void 0:T.user_id,actionName:et?s.OF.unfollowArtist:s.OF.followArtist,clickSourceUrl:ey}),await H.apiClient.POST("/api/profiles/follow",{body:{unfollow:et,handle:T.handle||""}}),en(!et)},ew=U?U*h.m:U;return(0,f.useEffect)(()=>{var e;let t=async()=>{var e;if(null===(e=T.metadata)||void 0===e?void 0:e.artist_clip_id){let e=await K.loadClipById(T.metadata.artist_clip_id);e&&em(e)}eh(!1)};(null==Y?void 0:null===(e=Y.flags)||void 0===e?void 0:e["artist-consistency"])&&t()},[null===(t=T.metadata)||void 0===t?void 0:t.artist_clip_id]),(0,f.useEffect)(()=>{var e;let t=async()=>{var e;if(null===(e=T.metadata)||void 0===e?void 0:e.cover_clip_id){let e=await K.loadClipById(T.metadata.cover_clip_id);e&&ef(e)}eb(!1)};(null==Y?void 0:null===(e=Y.flags)||void 0===e?void 0:e.cover)&&t()},[null===(n=T.metadata)||void 0===n?void 0:n.cover_clip_id]),(0,i.jsxs)("div",{className:"overflow-y-auto overflow-x-hidden bg-tertiary",onMouseEnter:()=>ee(!0),onMouseLeave:()=>ee(!1),children:[$&&(0,i.jsx)(c.k,{top:2,right:2,zIndex:"1",position:"absolute",children:(0,i.jsx)(C.Z,{onClick:()=>V()})}),(0,i.jsx)(S.Z,{rounded:"none",clip:T,preview:!0,onClick:()=>{}}),(0,i.jsxs)(c.k,{direction:"column",children:[(0,i.jsx)(_,{fontSize:ew,text:(0,y.M8)(T),href:"/song/".concat(T.id)}),(0,i.jsx)("span",{className:"mt-2 font-sans font-normal text-secondary text-[12px] whitespace-pre-wrap break-words cursor-pointer",style:{maxWidth:"100%"},children:(0,B.zD)(null===(g=T.metadata)||void 0===g?void 0:g.tags,B.Iv,!1,U)}),(0,i.jsxs)(c.k,{my:4,mx:4,children:[(0,i.jsx)(k.Z,{displayName:T.display_name,handle:T.handle,imageUrl:T.avatar_image_url||void 0,fontSize:U}),(null===(N=Y.user)||void 0===N?void 0:N.id)&&T.user_id!==(null===(I=Y.user)||void 0===I?void 0:I.id)&&(0,i.jsx)("div",{className:"ml-4",children:(0,i.jsx)(o.Z,{color:et?"white":"gray",text:"",size:"xs",leftIcon:et?(0,i.jsx)(v.wUZ,{}):(0,i.jsx)(b.fSq,{}),onClick:ej,rounded:!0,fixedWidth:"w-26"})})]}),(0,i.jsx)("span",{className:"px-4 font-sans font-normal text-secondary text-[12px] whitespace-pre-wrap break-words",style:{maxWidth:"100%",fontSize:U?U*h.n_:void 0},title:(0,y.ST)(T.created_at),children:(0,y.ST)(T.created_at)}),(0,i.jsx)("div",{className:"py-2",children:(0,i.jsx)(P.Z,{clip:T,onAddToPlaylist:G,onRemoveFromPlaylist:W,onUpdateMetadata:el,isFromSongRow:!1})}),(null==Y?void 0:null===(M=Y.flags)||void 0===M?void 0:M.configs)&&Y.isStaff&&(null===(E=T.metadata)||void 0===E?void 0:E.configurations)&&Object.keys(T.metadata.configurations).length>0&&(0,i.jsxs)("div",{className:"bg-tertiary rounded-md font-sans p-4 mt-4",children:[(0,i.jsx)("div",{className:"font-bold mb-2 text-sm",children:"Configurations"}),(0,i.jsx)("ul",{children:Object.entries(T.metadata.configurations).map(e=>{let[t,n]=e;return(0,i.jsxs)("li",{className:"mb-1 text-xs",children:[(0,i.jsxs)("span",{className:"font-bold",children:[t,":"]}),"\xa0",(0,i.jsx)("span",{children:n})]},t)})})]}),(null==Y?void 0:null===(F=Y.flags)||void 0===F?void 0:F["artist-consistency"])&&(null===(O=T.metadata)||void 0===O?void 0:O.artist_clip_id)&&(0,i.jsxs)("div",{className:"bg-vinylBlack-dark rounded-md font-sans p-4 m-4",children:[(0,i.jsx)("div",{className:"font-bold mb-2 text-sm",children:"Inspired by..."}),(0,i.jsx)("div",{className:"mb-1 text-xs",children:ex?(0,i.jsx)("div",{children:"Loading..."}):(0,i.jsx)("div",{children:(0,i.jsx)("a",{href:"/song/".concat(null==ep?void 0:ep.id,"/"),className:"text-primary hover:underline",children:(0,y.M8)(ep)})})})]}),(null==Y?void 0:null===(L=Y.flags)||void 0===L?void 0:L.cover)&&(null===(R=T.metadata)||void 0===R?void 0:R.cover_clip_id)&&(0,i.jsxs)("div",{className:"bg-vinylBlack-dark rounded-md font-sans p-4 m-4",children:[(0,i.jsx)("div",{className:"font-bold mb-2 text-sm",children:"Cover of..."}),(0,i.jsx)("div",{className:"mb-1 text-xs",children:ev?(0,i.jsx)("div",{children:"Loading..."}):(0,i.jsx)("div",{children:(0,i.jsx)("a",{href:"/song/".concat(null==eg?void 0:eg.id,"/"),className:"text-primary hover:underline",children:(0,y.M8)(eg)})})})]}),ec.length>0&&(null===(A=Y.user)||void 0===A?void 0:A.id)===T.user_id&&(0,i.jsx)(u.U,{allowToggle:!0,mt:3,border:"transparent",bg:"#1A1111",mx:4,borderRadius:"8px",sx:{"&:hover":{backgroundColor:"rgba(209, 203, 199, 0.08)"}},children:(0,i.jsxs)(p.Q,{children:[(0,i.jsx)(m.K,{onClick:()=>{ed(!er)},borderRadius:"4px",children:(0,i.jsx)("div",{className:"font-sans font-semibold text-xs flex justify-space",children:"Extended from..."})}),(0,i.jsx)(x.H,{pb:4,width:"100%",children:ec.map((e,t)=>(0,i.jsx)(Z,{rowKey:e.id,clip:e,partNumber:t+1,onPlay:()=>{var t;if(X.queue.contextType===q.Q.FEED&&(null===(t=X.clip)||void 0===t?void 0:t.id)===e.id){X.togglePlay();return}X.queue.setPlayContext({contextType:q.Q.FEED,currentIndex:K.clips.findIndex(t=>t.id===e.id),clips:K.clips}),X.playClip(e)},isSongPage:!1},t))})]})}),(0,i.jsx)("span",{className:"mt-2 mb-4 px-4 font-sans font-normal text-secondary text-[14px] whitespace-pre-wrap break-words cursor-pointer",style:{maxWidth:"100%",fontSize:U},children:(null===(z=Y.flags)||void 0===z?void 0:z["waveform-infilling"])&&Q.continueClipId&&K.alignedLyricsByClipId[Q.continueClipId]&&Q.infillFromSeconds!==Q.infillToSeconds&&null!==Q.infillFromSeconds&&null!==Q.infillToSeconds?(0,i.jsx)(i.Fragment,{children:K.alignedLyricsByClipId[Q.continueClipId].map((e,t)=>e.start_s>(Q.infillFromSeconds||0)&&e.start_s<(Q.infillToSeconds||0)||e.end_s>(Q.infillFromSeconds||0)&&e.end_s<(Q.infillToSeconds||0)?(0,i.jsx)("span",{ref:t-1>=0&&Q.continueClipId&&K.alignedLyricsByClipId[Q.continueClipId][t-1].start_s<(Q.infillFromSeconds||0)?J:void 0,style:{color:"rgb(251, 211, 141)"},children:e.word},t):(0,i.jsx)(i.Fragment,{children:e.word}))}):null===(D=T.metadata)||void 0===D?void 0:D.prompt})]}),(0,i.jsx)(j.Z,{library:H,isOpen:ea,onPlaylistClick:(e,t)=>{H.addClipsToPlaylist(e,t)},onClose:es}),(0,i.jsx)(w.ZP,{library:H,isOpen:ei,onSubmit:async(e,t)=>{let n=T.id,i=await K.setMetadata(n,e,t);i&&i.success&&(T.title=e,T.image_url=t||null),eo()},onClose:eo})]},T.id)})},19060:function(e,t,n){n.d(t,{a:function(){return Y}});var i=n(57437),l=n(40323),o=n(20610),a=n(51464),s=n(39467),r=n(16829),d=n(96554),c=n(20915),u=n(10114),p=n(47414),m=n(6353),x=n(40191),h=n(76684),g=n(61493),f=n(99890),v=n(17458),b=n(6005),y=n(1371),j=n(52249),w=n(85222),k=n(35500),C=n(20408),S=n(14063),N=n(2987),I=n(67958),_=n(5443),P=n(1633),M=n(64874),E=n(92115),F=n(69548),O=n(51064),L=n(95430),R=n(66648),A=n(16463),z=n(2265),D=n(69523),T=n(14326),Z=n(48626),B=n(93025),q=n(76613),U=n(92628),V=n(36413),G=n(20435),W=n(638),K=n(93692);let Y=(0,L.Pi)(e=>{var t,n,l,u,p,m,x,h,g,f,v,b,y,j;let{clip:w,isSongPage:k,onAddToPlaylist:C,onRemoveFromPlaylist:P,onOpenDeleteModal:L,onCloseMenuModal:T,onUpdateMetadata:Z}=e,{genForm:B,clips:V,session:G,trash:Y,library:H}=(0,I.mZ)(),X="v2"===w.major_model_version,Q="v3"===w.major_model_version||"v3.5"===w.major_model_version,J=!w.metadata.infill&&(X||Q||(null===(t=w.metadata)||void 0===t?void 0:t.type)==="upload")&&(!(0,_.R)(w)||(null==w?void 0:w.user_id)===(null==G?void 0:G.userId)),$=(0,A.useRouter)(),ee=(0,A.usePathname)(),et="complete"===w.status,{enabled:en}=G.isFeatureAllowed("playlists"),ei=(G.roles.pro||G.roles.staff)&&!w.is_video_pending,el=(G.roles.pro||G.roles.staff)&&!(0,_.Q)(w),eo=(0,o.p)(),ea=async()=>{await V.trashClips([w.id],!w.is_trashed),w.is_trashed?(H.addToLibrary(w.id),V.addToCreatePage(w.id)):Y.addToTrash(w.id)},es=async()=>{await V.trashClips([w.id],!w.is_trashed),w.is_trashed?Y.removeFromTrash(w.id):(H.removeFromLibrary(w.id),V.removeFromCreatePage(w.id)),T(),eo({duration:4e3,isClosable:!0,position:"bottom",render:()=>(0,i.jsx)(W.Z,{clips:[w],isTrashed:w.is_trashed,undoTrash:ea})})},{isOpen:er,onOpen:ed,onClose:ec}=(0,a.q)(),eu=()=>{ed()},ep=V.apiClient,{isOpen:em,onOpen:ex,onClose:eh}=(0,a.q)(),{setExtendModeOn:eg,setReusePromptOn:ef}=(0,z.useContext)(N.BI),{isSignedIn:ev}=(0,O.aC)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.s,{fontSize:"sm",rounded:"md",fontFamily:"Neue Montreal",onClick:()=>{M.g.track(E.Vy.reusePromptBtnClick,{clipId:null==w?void 0:w.id,isUserSongOwner:(null==G?void 0:G.userId)!==void 0&&(null==w?void 0:w.user_id)===(null==G?void 0:G.userId),isMobile:!0}),M.g.logAudioActionEvent(!0,E.OF.reusePrompt,w,G,ee),T(),B.shouldOpenMobileCreate=!0,ef&&ef(!0),B.reuseClip(w),"/create/"!==ee&&$.push("/create/")},children:"Reuse Prompt"}),J&&(0,i.jsxs)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{if(M.g.track(E.Vy.extendSongBtnClick,{clipId:null==w?void 0:w.id,isUserSongOwner:(null==G?void 0:G.userId)!==void 0&&(null==w?void 0:w.user_id)===(null==G?void 0:G.userId),isMobile:!0}),T(),B.setContinueClip(w),B.shouldOpenMobileCreate=!0,eg&&eg(!0),""===B.style){var e;B.setStyle((null==w?void 0:null===(e=w.metadata)||void 0===e?void 0:e.tags)||"")}"/create/"!==ee&&$.push("/create/")},isDisabled:!et,children:[et?null:(0,i.jsx)(r.$,{mr:2,size:"sm"}),"Extend"]}),(null==G?void 0:null===(n=G.flags)||void 0===n?void 0:n["artist-consistency"])&&!(null==w?void 0:w.is_trashed)&&(null==w?void 0:w.user_id)===G.userId&&(0,i.jsxs)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{if(T(),B.setArtistClip(w),""===B.style){var e;B.setStyle((null==w?void 0:null===(e=w.metadata)||void 0===e?void 0:e.tags)||"")}B.shouldOpenMobileCreate=!0,"/create/"!==ee&&$.push("/create/")},isDisabled:!et,children:[et?null:(0,i.jsx)(r.$,{mr:2,size:"sm"}),"Inspire New Song"]}),(null==G?void 0:null===(l=G.flags)||void 0===l?void 0:l.cover)&&!(null==w?void 0:w.is_trashed)&&(null==w?void 0:w.user_id)===G.userId&&!(0,_.R)(w)&&(0,i.jsxs)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{T(),B.setCoverClip(w),B.shouldOpenMobileCreate=!0,"/create/"!==ee&&$.push("/create/")},isDisabled:!et,children:[et?null:(0,i.jsx)(r.$,{mr:2,size:"sm"}),"Cover Song"]}),!w.is_trashed&&(null===(u=G.user)||void 0===u?void 0:u.id)===w.user_id&&(0,i.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{T(),Z&&Z(),H.setActiveClip(w)},children:"Edit Details"}),C&&en&&(0,i.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{T(),H.setActiveClip(w),C()},children:"Add to Playlist"}),P&&en&&(0,i.jsx)(s.s,{fontSize:"sm",onClick:P,rounded:"md",fontFamily:"Neue Montreal",children:"Remove from Playlist"}),(X||Q)&&(null===(p=w.metadata)||void 0===p?void 0:p.history)&&et?(0,i.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{T(),V.runConcat(w.id,w.metadata.infill)},children:w.metadata.infill?"Confirm Infill":"Get Whole Song"}):null,(null===(m=G.flags)||void 0===m?void 0:m["on-demand-video"])&&et&&!(null==w?void 0:w.is_trashed)&&(null===(x=G.user)||void 0===x?void 0:x.id)===(null==w?void 0:w.user_id)?(0,i.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",isDisabled:!ei,rounded:"md",onClick:()=>{ei&&(T(),M.g.logAudioActionEvent(!0,E.OF.regenerateVideo,w,G,ee),V.regenerateVideo(w,H),eo({title:"Generating video...",status:"success",duration:4e3,isClosable:!0}))},children:ei?"Regenerate Video":w.is_video_pending?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(K.Z,{})," Video is generating"]}):"Subscribe to regenerate video"}):null,(null===(h=G.flags)||void 0===h?void 0:h["editing-stems"])&&!(0,_.R)(w)&&et&&!(null==w?void 0:w.is_trashed)&&(null===(g=G.user)||void 0===g?void 0:g.id)===(null==w?void 0:w.user_id)&&el?(0,i.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{M.g.logAudioActionEvent(!0,E.OF.getStems,w,G,ee),V.makeStems(w,H),T(),"/create"!==ee&&$.push("/create"),eo({title:"Getting stems...",status:"success",duration:1e4,isClosable:!0})},children:"Get Stems"}):null,ev&&(null==w?void 0:w.status)==="complete"&&(0,i.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{M.g.logAudioActionEvent(!0,E.OF.goToSongRadio,w,G,ee),$.push("/radio/song/".concat(w.id))},children:"Go to Song Radio"}),(null===(f=G.user)||void 0===f?void 0:f.id)===w.user_id?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.R,{}),(0,i.jsxs)(c.k,{title:"Visibility".concat((0,_.R)(w)?" - Unable to be made public due to content restrictions":""),children:[!(0,_.R)(w)&&(0,i.jsx)(s.s,{icon:(0,i.jsx)(S.gjK,{}),fontFamily:"Neue Montreal",background:w.is_public?"none":"#FAF7F5",color:(null==w?void 0:w.is_public)?"#FAF7F5":"#000000",rounded:"md",fontSize:"sm",onClick:()=>{V.setClipVisibility(w.id,!1),T()},children:"Link Only"}),w.is_trashed||(0,_.R)(w)?null:(0,i.jsx)(s.s,{background:w.is_public?"#FAF7F5":"none",color:(null==w?void 0:w.is_public)?"#000000":"#FAF7F5",rounded:"md",fontSize:"sm",fontFamily:"Neue Montreal",icon:w.is_public?(0,i.jsx)(R.default,{src:"/icons/public-dark.svg",width:14,height:14,alt:"Public Option"}):(0,i.jsx)(R.default,{src:"/icons/public-active.svg",width:14,height:14,alt:"Public Option"}),onClick:()=>{V.setClipVisibility(w.id,!0),T()},children:"Public"})]})]}):null,(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.R,{})," ",(0,i.jsxs)(c.k,{title:"Share",children:[(0,i.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",pl:4,pr:4,pb:2,mt:2,onClick:()=>{(0,D.eC)(V.apiClient,w),M.g.logAudioActionEvent(!0,E.OF.shareSongWithLink,w,G,ee),M.g.track(E.Vy.copyLinkBtnClick,{clipId:null==w?void 0:w.id,isUserSongOwner:(null==G?void 0:G.userId)!==void 0&&(null==w?void 0:w.user_id)===(null==G?void 0:G.userId),isMobile:!0})},icon:(0,i.jsx)(S.ZH2,{}),children:"Copy Link"}),(0,i.jsxs)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",pl:4,pr:4,mb:2,isDisabled:"complete"!==w.status,onClick:()=>{M.g.track(E.Vy.shareToBtnClick,{clipId:null==w?void 0:w.id,isUserSongOwner:(null==G?void 0:G.userId)!==void 0&&(null==w?void 0:w.user_id)===(null==G?void 0:G.userId),isMobile:!0}),ex()},icon:(0,i.jsx)(S.I$,{}),children:["complete"!==w.status?(0,i.jsx)(r.$,{mr:2,size:"sm"}):null,"Share to..."]})]})]}),(G.isStaff||(null===(v=G.user)||void 0===v?void 0:v.id)===w.user_id)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.R,{})," ",(0,i.jsxs)(c.k,{title:"Download",children:[(0,i.jsxs)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",pl:4,pr:4,mb:2,isDisabled:"complete"!==w.status,onClick:()=>{M.g.logAudioActionEvent(!0,E.OF.downloadMP3,w,G,ee),(0,D.Rc)(ep,w),T()},icon:(0,i.jsx)(S.F1m,{}),children:["complete"!==w.status?(0,i.jsx)(r.$,{mr:2,size:"sm"}):null,(0,F.d)(G,w)?"MP3 Audio":"Audio"]}),(0,F.d)(G,w)&&(0,i.jsxs)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",pl:4,pr:4,mb:2,isDisabled:"complete"!==w.status,onClick:()=>{M.g.logAudioActionEvent(!0,E.OF.downloadWAV,w,G,ee),(0,D.AP)(ep,w),T()},icon:(0,i.jsx)(S.F1m,{}),children:["complete"!==w.status?(0,i.jsx)(r.$,{mr:2,size:"sm"}):null,"WAV Audio"]}),(0,i.jsxs)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",pl:4,pr:4,pb:2,mt:2,isDisabled:!w.video_url,onClick:()=>{M.g.logAudioActionEvent(!0,E.OF.downloadVideo,w,G,ee),(0,D.zz)(ep,w),T()},icon:(0,i.jsx)(S.KoQ,{}),children:[w.video_url?null:(0,i.jsx)(r.$,{mr:2,size:"sm"}),"Video"]})]})]}),(0,i.jsx)(d.R,{}),(0,i.jsxs)(c.k,{title:"Report",children:[(null===(b=G.user)||void 0===b?void 0:b.id)===w.user_id&&(0,i.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",pl:4,pr:4,mt:2,onClick:()=>eu(),icon:(0,i.jsx)(S.iq7,{}),children:"Bug"}),(0,i.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",pl:4,pr:4,mb:2,onClick:async()=>{E.OF.goToSongRadio,M.g.logAudioActionEvent(!0,E.OF.reportInappropriate,w,G,ee);try{await V.flagClip(w.id,"flag_inappropriate")}catch(e){eo({title:"Error flagging song.",description:"Something went wrong. Please try again later.",status:"error",duration:5e3,isClosable:!0})}},icon:(0,i.jsx)(S.NV4,{}),children:"Inappropriate"})]}),(0,i.jsx)(q.Z,{isOpen:er,onClose:ec,clipId:w.id,clipTitle:(null==w?void 0:w.title)||"Untitled"}),!k&&(null===(y=G.user)||void 0===y?void 0:y.id)===w.user_id&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.R,{}),(0,i.jsx)(c.k,{title:"",children:(0,i.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:es,icon:w.is_trashed?(0,i.jsx)(S.wXW,{}):(0,i.jsx)(S.Xm5,{}),ml:1,children:w.is_trashed?"Restore to Library":"Move to Trash"})})]}),!k&&(null===(j=G.user)||void 0===j?void 0:j.id)===w.user_id&&w.is_trashed&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.R,{}),(0,i.jsx)(c.k,{title:"Danger Zone",children:(0,i.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>L(w),icon:(0,i.jsx)(S.Z1A,{}),children:"Delete Permanently"})})]}),(0,i.jsx)(U.Z,{isOpen:em,onClose:eh,song:w,type:"song"})]})}),H=(0,L.Pi)(e=>{var t,n,o,s;let{clip:r,onAddToPlaylist:d,onRemoveFromPlaylist:c,showStats:N=!1,size:_="sm",trendingMode:O=!1,isSongPage:L=!1,onUpdateMetadata:q}=e,{playbar:U,clips:W,trash:K,session:H}=(0,I.mZ)(),[X,Q]=(0,z.useState)(null),[J,$]=(0,z.useState)(!1),ee=(0,A.usePathname)(),{isOpen:et,onOpen:en,onClose:ei}=(0,a.q)(),{isOpen:el,onOpen:eo,onClose:ea}=(0,a.q)(),es=async()=>{let e=(Array.isArray(X)?X:[X]).filter(e=>null!==e);e.length>0?($(!0),await W.deleteClips(e.map(e=>e.id)),e.forEach(e=>{K.removeFromTrash(e.id)}),$(!1),ei()):console.error("selectedClips is empty or contains only null values",X),(0,I.Am)({duration:4e3,isClosable:!0,position:"bottom",render:()=>(0,i.jsx)(G.Z,{clips:[r]})})},{isOpen:er,onOpen:ed,onClose:ec}=(0,a.q)(),[eu,ep]=(0,z.useState)(0!==(0,l.Jr)(r).length);return(0,i.jsxs)(u.K,{spacing:0,direction:"row",alignItems:"center",mt:4,children:[(0,i.jsxs)(u.K,{direction:"row",spacing:0,alignItems:"center",children:[O?(0,i.jsx)(p.z,{size:_,leftIcon:(0,i.jsx)(m.J,{as:S.gmG,boxSize:"12px"}),onClick:()=>U.playClip(r),variant:"ghost",color:"gray","aria-label":"Play Count",textAlign:"left",iconSpacing:3,children:(0,i.jsx)(x.x,{color:"gray.200",fontSize:"lg"===_?"sm":"xs",width:"40px",children:r.play_count})}):null,(null==H?void 0:null===(t=H.flags)||void 0===t?void 0:t["clip-feedback"])&&r.user_id===H.userId&&(0,i.jsx)(h.u,{label:eu?"Feedback given, thank you!":"Enter your feedback",size:"sm",background:P.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,i.jsx)(g.h,{icon:(0,i.jsx)(T.Z,{src:eu?"/icons/feedback-yellow.svg":"/icons/feedback.svg",width:"8",height:"8",alt:"feedback-button"}),onClick:ed,variant:"ghost",justifyContent:"center","aria-label":"Feedback Button",p:2,ml:2,mr:1,mb:1,mt:1})}),N?(0,i.jsx)(p.z,{size:_,leftIcon:(0,i.jsx)(R.default,{src:(0,l.ip)(r)?"/icons/thumbs-up-active.svg":"/icons/thumbs-up.svg",alt:"Like",width:16,height:16}),onClick:()=>{W.likeClip(r.id,!(0,l.ip)(r)),M.g.track(E.Vy.likeSongBtnClick,{clipId:null==r?void 0:r.id,isUserSongOwner:(null==r?void 0:r.user_id)===(null==H?void 0:H.userId),isLike:(0,l.ip)(r),isMobile:!0})},colorScheme:(0,l.ip)(r)?"orange":void 0,variant:"ghost",color:(0,l.ip)(r)?void 0:"gray","aria-label":"Like",textAlign:"left",iconSpacing:3,children:(0,i.jsx)(x.x,{fontSize:"lg"===_?"sm":"xs",width:"20px",color:(0,l.ip)(r)?"orange":"gray.200",children:r.upvote_count})}):(0,i.jsx)(g.h,{size:_,icon:(0,i.jsx)(R.default,{src:(0,l.ip)(r)?"/icons/thumbs-up-active.svg":"/icons/thumbs-up.svg",alt:"Like",width:16,height:16}),onClick:()=>{let e=!(0,l.ip)(r);W.likeClip(r.id,e),M.g.logAudioActionEvent(!0,e?E.OF.likeSong:E.OF.undoLikeSong,r,H,ee),M.g.track(E.Vy.likeSongBtnClick,{clipId:null==r?void 0:r.id,isUserSongOwner:(null==H?void 0:H.userId)!=void 0&&(null==r?void 0:r.user_id)===(null==H?void 0:H.userId),isLike:(0,l.ip)(r),isMobile:!0})},colorScheme:(0,l.ip)(r)?"orange":void 0,color:(0,l.ip)(r)?void 0:"gray",variant:"ghost","aria-label":"Like"}),O?null:(0,i.jsx)(g.h,{size:_,icon:(0,i.jsx)(R.default,{src:(0,l.de)(r)?"/icons/thumbs-down-active.svg":"/icons/thumbs-down.svg",alt:"Dislike",width:16,height:16}),onClick:()=>{let e=!(0,l.de)(r);W.dislikeClip(r.id,e),M.g.logAudioActionEvent(!0,e?E.OF.dislikeSong:E.OF.undoDislikeSong,r,H,ee)},colorScheme:(0,l.de)(r)?"orange":void 0,variant:"ghost",color:(0,l.de)(r)?void 0:"gray","aria-label":"Dislike"})]}),"lg"===_?(0,i.jsx)(h.u,{label:"Copy Song Link",size:"sm",background:P.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,i.jsx)(p.z,{size:_,onClick:()=>(0,D.eC)(W.apiClient,r),leftIcon:(0,i.jsx)(R.default,{src:"/icons/share.svg",alt:"Share",width:16,height:16}),variant:"ghost","aria-label":"Share",children:(0,i.jsx)("span",{children:"Share"})})}):(0,i.jsx)(h.u,{label:"Copy Song Link",size:"sm",background:P.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,i.jsx)(g.h,{size:_,onClick:()=>(0,D.eC)(W.apiClient,r),icon:(0,i.jsx)(R.default,{src:"/icons/share.svg",alt:"Share",width:16,height:16}),variant:"ghost","aria-label":"Share"})}),(0,i.jsxs)(f.v,{children:[(0,i.jsx)(v.j,{size:_,"aria-label":"More Actions",as:g.h,icon:(0,i.jsx)(R.default,{src:"/icons/more-actions.svg",alt:"More Actions",width:4,height:15}),variant:"ghost",onClick:eo}),(0,i.jsxs)(b.u_,{isOpen:el,onClose:ea,size:"full",isCentered:!0,children:[(0,i.jsx)(y.Z,{sx:{bgColor:"#0E0808"}}),(0,i.jsxs)(j.h,{maxH:"calc(100vh - 40px)",overflowY:"auto",sx:{bgColor:"#0E0808"},children:[(0,i.jsx)(w.x,{sx:{bgColor:"#0E0808",marginTop:"20px"},children:r.is_trashed?(0,i.jsx)(x.x,{fontSize:"xl",fontFamily:"Editorial New",children:(0,F.M8)(r)}):(0,i.jsx)(k.r,{href:"/song/".concat(r.id),style:{textDecoration:"underline"},children:(0,i.jsx)(x.x,{fontSize:"xl",fontFamily:"Editorial New",children:(0,F.M8)(r)})})}),(0,i.jsx)("div",{className:"absolute right-2 top-2",children:(0,i.jsx)(V.Z,{onClick:ea})}),(0,i.jsx)(C.f,{sx:{overflowY:"auto",padding:"20px",bgColor:"#0E0808"},children:(0,i.jsx)(Y,{clip:r,isSongPage:L,onAddToPlaylist:d,onRemoveFromPlaylist:c,onOpenDeleteModal:e=>{Q(e),en()},onCloseMenuModal:ea,onUpdateMetadata:q})})]})]})]}),(0,i.jsx)(B.Z,{isOpen:et,onClose:ei,onConfirm:es,clipTitle:X&&1===X.length?(null===(n=X[0])||void 0===n?void 0:n.title)||(null===(s=X[0])||void 0===s?void 0:null===(o=s.metadata)||void 0===o?void 0:o.tags)||"":"".concat((X||[]).length," Clips"),isLoading:J,headerText:X&&X.length>1?"Are you sure you want to delete these songs?":"Are you sure you want to delete this song?"}),(0,i.jsx)(Z.Z,{clip:r,isOpen:er,onClose:ec,onFeedbackSubmit:()=>{ep(!0),ec()},onFeedbackRemoved:()=>{ep(!1),ec()}})]})});t.Z=H},59692:function(e,t,n){var i=n(57437),l=n(2987),o=n(67958),a=n(39799),s=n(5443),r=n(1633),d=n(64874),c=n(92115),u=n(69548),p=n(20610),m=n(51464),x=n(16829),h=n(76684),g=n(6353),f=n(99240),v=n(51064),b=n(70684),y=n(95430),j=n(66648),w=n(16463),k=n(2265),C=n(80201),S=n(71843),N=n(37701),I=n(14063),_=n(69523),P=n(92628),M=n(638);let E=(0,y.Pi)(e=>{var t,n,y,E,F,O,L,R,A,z,D,T,Z,B;let{rowKey:q,clip:U,isSongPage:V,onAddToPlaylist:G,onRemoveFromPlaylist:W,onOpenFlagModal:K,onOpenDeleteModal:Y,onUpdateMetadata:H,onMenuButtonClick:X,isFromSongRow:Q,isPlaybar:J,songRowWidth:$}=e,ee=(null==U?void 0:U.major_model_version)==="v2",et=(null==U?void 0:U.major_model_version)==="v3"||(null==U?void 0:U.major_model_version)==="v3.5",en=(null==U?void 0:U.major_model_version)==="v4",{genForm:ei,clips:el,session:eo,trash:ea,library:es}=(0,o.mZ)(),er=(0,w.useRouter)(),ed=(0,w.usePathname)(),[ec,eu]=(0,k.useState)(!1),ep=(null==U?void 0:U.status)==="complete",em=(eo.roles.pro||eo.roles.staff)&&!U.is_video_pending,ex=(eo.roles.pro||eo.roles.staff)&&!(0,s.Q)(U),{enabled:eh}=eo.isFeatureAllowed("playlists"),eg=(0,p.p)(),ef=el.apiClient,[ev,eb]=(0,k.useState)(!1),ey=async()=>{try{d.g.logAudioActionEvent(!1,c.OF.reportInappropriate,U,eo,ed),await el.flagClip(null==U?void 0:U.id,"flag_inappropriate")}catch(e){eg({title:"Error flagging song.",description:"Something went wrong. Please try again later.",status:"error",duration:5e3,isClosable:!0})}},[ej,ew]=(0,k.useState)({}),ek=e=>{ew(t=>({...t,[e]:!0}))},eC=e=>{ew(t=>({...t,[e]:!1}))},eS={transition:"background-color 0.3s ease",borderRadius:"8px",padding:"8px",outline:"none","&:focus":{outline:"none"},"&:before":{content:"",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",borderRadius:"inherit",zIndex:"-1"}},{selected:eN,selectedClipIds:eI}=(0,k.useContext)(a.bz),e_=(eI||[]).map(e=>el.clipById[e]),eP=e_.every(e=>{var t;return(null==e?void 0:e.user_id)===(null===(t=eo.user)||void 0===t?void 0:t.id)}),eM=new Set(e_.map(e=>null==e?void 0:e.is_trashed)),eE=1===eM.size?[...eM][0]:void 0,eF=[...eN||[]].length>1&&[...eI||[]].includes(null==U?void 0:U.id),eO=async()=>{await el.trashClips(eI||[],!!eE),eE?null==eI||eI.forEach(e=>{ea.addToTrash(e)}):null==eI||eI.forEach(e=>{es.addToLibrary(e),el.addToCreatePage(e)})},eL=async()=>{await el.trashClips(eI||[],!eE),eE?null==eI||eI.forEach(e=>{ea.removeFromTrash(e)}):null==eI||eI.forEach(e=>{es.removeFromLibrary(e),el.removeFromCreatePage(e)}),eg({duration:4e3,isClosable:!0,position:"bottom",render:()=>(0,i.jsx)(M.Z,{clips:e_,isTrashed:!eE,undoTrash:eO})})},{setRefToBlur:eR,setSelected:eA,setCurrentClip:ez}=(0,k.useContext)(a.bz),eD=(0,k.useRef)(),eT=(0,k.useRef)(),eZ=(0,k.useRef)(),[eB]=(0,S.pE)({},eD,N.b),{buttonProps:eq}=(0,C.U)(eB,eD),eU=(0,k.useRef)(),eV=e=>{eu(!ec),[...eI||[]].includes(null==U?void 0:U.id)&&e.stopPropagation(),![...eI||[]].includes(null==U?void 0:U.id)&&(ez&&ez(U),q&&eA&&eA(new Set([q]))),eR&&eU.current&&eR(eU.current),X&&X()},eG="/playlist/liked"===ed,{isOpen:eW,onOpen:eK,onClose:eY}=(0,m.q)(),eH=()=>{d.g.track(c.Vy.shareToBtnClick,{clipId:null==U?void 0:U.id,isUserSongOwner:(null==eo?void 0:eo.userId)!==void 0&&(null==U?void 0:U.user_id)===(null==eo?void 0:eo.userId),isMobile:!1}),eK()},{setExtendModeOn:eX}=(0,k.useContext)(l.Yj),{isSignedIn:eQ}=(0,v.aC)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(b.fC,{open:ec,children:[(0,i.jsx)(b.xz,{...eq,ref:eU,onPointerDown:e=>{eV(e)},onKeyDown:e=>{"Enter"===e.key&&eV(e)},onMouseEnter:()=>{eb(!0)},onMouseLeave:()=>{eb(!1)},style:{background:ev?"rgba(255, 255, 255, 0.1)":"none",transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none",width:"32px",height:"32px",padding:"4px",display:"flex",justifyContent:"center",alignItems:"center"},draggable:"false",children:(0,i.jsx)(j.default,{src:J?"/icons/more-actions-white.svg":"/icons/more-actions.svg",className:"select-none moreActionsTrigger",alt:"More Actions",width:4,height:12})}),(0,i.jsx)(b.Uv,{children:(0,i.jsxs)(b.VY,{onInteractOutside:()=>{eu(!1),eR&&eR(null)},onCloseAutoFocus:e=>{eR&&eR(null),e.preventDefault()},align:"start",style:{background:"#252020",borderRadius:"8px",padding:"4px",zIndex:r.n5,fontSize:"14px",fontWeight:"500",cursor:"pointer",width:"250px",transition:"opacity 0.2s ease",transform:"scale(".concat(ev?1:.95,")"),borderImage:"180deg linear-gradient(#383737, #A19F9D)",borderWidth:"1px",borderStyle:"solid"},"aria-label":"Playbar: More Actions",children:[!eF&&!(null==U?void 0:U.is_trashed)&&(0,i.jsx)(b.ck,{style:{fontFamily:"Neue Montreal, sans-serif",background:ej.remix?r.up:"none",...eS},onMouseEnter:()=>ek("remix"),onMouseLeave:()=>eC("remix"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onPointerDown:()=>{d.g.track(c.Vy.reusePromptBtnClick,{clipId:null==U?void 0:U.id,isUserSongOwner:(null==eo?void 0:eo.userId)!==void 0&&(null==U?void 0:U.user_id)===(null==eo?void 0:eo.userId),isMobile:!1}),d.g.logAudioActionEvent(!1,c.OF.reusePrompt,U,eo,ed),eu(!1),ei.reuseClip(U),ei.shouldOpenMobileCreate=!0,"/create"!==ed&&er.push("/create")},onKeyDown:e=>{"Enter"===e.key&&(d.g.track(c.Vy.reusePromptBtnClick,{clipId:null==U?void 0:U.id,isUserSongOwner:(null==eo?void 0:eo.userId)!==void 0&&(null==U?void 0:U.user_id)===(null==eo?void 0:eo.userId),isMobile:!1}),d.g.logAudioActionEvent(!1,c.OF.reusePrompt,U,eo,ed),eu(!1),ei.reuseClip(U),ei.shouldOpenMobileCreate=!0,"/create"!==ed&&er.push("/create"))},onClick:e=>{d.g.track(c.Vy.reusePromptBtnClick,{clipId:null==U?void 0:U.id,isUserSongOwner:(null==eo?void 0:eo.userId)!==void 0&&(null==U?void 0:U.user_id)===(null==eo?void 0:eo.userId),isMobile:!1}),e.preventDefault(),e.stopPropagation(),eu(!1),ei.reuseClip(U),ei.shouldOpenMobileCreate=!0},children:"Reuse Prompt"}),(ee||et||en||(null==U?void 0:null===(t=U.metadata)||void 0===t?void 0:t.type)==="upload")&&!eF&&!(null==U?void 0:U.is_trashed)&&!(null==U?void 0:U.metadata.infill)&&((null==U?void 0:U.user_id)===eo.userId||!(0,s.R)(U))&&(0,i.jsxs)(b.ck,{className:Q&&!eG?"block lg:hidden":void 0,style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej.continue?r.up:"none"},onMouseEnter:()=>ek("continue"),onMouseLeave:()=>eC("continue"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onPointerDown:()=>{if(d.g.track(c.Vy.extendSongBtnClick,{clipId:null==U?void 0:U.id,isUserSongOwner:(null==eo?void 0:eo.userId)!==void 0&&(null==U?void 0:U.user_id)===(null==eo?void 0:eo.userId),isMobile:!1}),eu(!1),ei.setContinueClip(U),eX&&eX(!0),""===ei.style){var e;ei.setStyle((null==U?void 0:null===(e=U.metadata)||void 0===e?void 0:e.tags)||"")}ei.shouldOpenMobileCreate=!0,"/create"!==ed&&er.push("/create")},onKeyDown:e=>{if("Enter"===e.key){if(d.g.track(c.Vy.extendSongBtnClick,{clipId:null==U?void 0:U.id,isUserSongOwner:(null==eo?void 0:eo.userId)!==void 0&&(null==U?void 0:U.user_id)===(null==eo?void 0:eo.userId),isMobile:!1}),eu(!1),ei.setContinueClip(U),eX&&eX(!0),ei.shouldOpenMobileCreate=!0,""===ei.style){var t;ei.setStyle((null==U?void 0:null===(t=U.metadata)||void 0===t?void 0:t.tags)||"")}"/create"!==ed&&er.push("/create")}},"data-testid":"extend-menu-item",disabled:!ep,children:[ep?null:(0,i.jsx)(x.$,{mr:2,size:"sm"}),"Extend"]}),(null==eo?void 0:null===(n=eo.flags)||void 0===n?void 0:n["artist-consistency"])&&(ee||et||en||(null==U?void 0:null===(y=U.metadata)||void 0===y?void 0:y.type)==="upload")&&ep&&!eF&&!(null==U?void 0:U.is_trashed)&&(null==U?void 0:U.user_id)===eo.userId&&(0,i.jsxs)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej.adapt?r.up:"none"},onMouseEnter:()=>ek("adapt"),onMouseLeave:()=>eC("adapt"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onPointerDown:()=>{if(eu(!1),ei.setArtistClip(U),""===ei.style){var e;ei.setStyle((null==U?void 0:null===(e=U.metadata)||void 0===e?void 0:e.tags)||"")}ei.shouldOpenMobileCreate=!0,"/create"!==ed&&er.push("/create")},onKeyDown:e=>{if("Enter"===e.key){if(eu(!1),ei.setArtistClip(U),""===ei.style){var t;ei.setStyle((null==U?void 0:null===(t=U.metadata)||void 0===t?void 0:t.tags)||"")}ei.shouldOpenMobileCreate=!0,"/create"!==ed&&er.push("/create")}},"data-testid":"adapt-menu-item",disabled:!ep,children:[ep?null:(0,i.jsx)(x.$,{mr:2,size:"sm"}),"Inspire New Song"]}),(null==eo?void 0:null===(E=eo.flags)||void 0===E?void 0:E.cover)&&(ee||et||en||(null==U?void 0:null===(F=U.metadata)||void 0===F?void 0:F.type)==="upload")&&ep&&!eF&&!(null==U?void 0:U.is_trashed)&&(null==U?void 0:U.user_id)===eo.userId&&(0,i.jsxs)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej.cover?r.up:"none"},onMouseEnter:()=>ek("cover"),onMouseLeave:()=>eC("cover"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onPointerDown:()=>{eu(!1),ei.setCoverClip(U),ei.shouldOpenMobileCreate=!0,"/create"!==ed&&er.push("/create")},onKeyDown:e=>{"Enter"===e.key&&(eu(!1),ei.setCoverClip(U),ei.shouldOpenMobileCreate=!0,"/create"!==ed&&er.push("/create"))},"data-testid":"cover-menu-item",disabled:!ep,children:[ep?null:(0,i.jsx)(x.$,{mr:2,size:"sm"}),"Cover Song"]}),!(null==U?void 0:U.is_trashed)&&(null===(O=eo.user)||void 0===O?void 0:O.id)===(null==U?void 0:U.user_id)&&!eF&&H&&(0,i.jsx)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej["update-metadata"]?r.up:"none"},onMouseEnter:()=>ek("update-metadata"),onMouseLeave:()=>eC("update-metadata"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onPointerDown:()=>{eu(!1),es.setActiveClip(U),H&&H()},onKeyDown:e=>{"Enter"===e.key&&(eu(!1),es.setActiveClip(U),H&&H())},"data-testid":"update-metadata-menu-item",children:"Edit Details"}),G&&eh&&ep&&(0,i.jsx)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej["add-to-playlist"]?r.up:"none"},onPointerDown:()=>{eu(!1),es.setActiveClip(U),G()},onMouseEnter:()=>ek("add-to-playlist"),onMouseLeave:()=>eC("add-to-playlist"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(eu(!1),es.setActiveClip(U),G())},"data-testid":"add-to-playlist-menu-item",children:"Add to Playlist"}),W&&eh&&!eG&&(0,i.jsx)(b.ck,{onPointerDown:()=>{eu(!1),W()},style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej["remove-from-playlist"]?r.up:"none"},onMouseEnter:()=>ek("remove-from-playlist"),onMouseLeave:()=>eC("remove-from-playlist"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(eu(!1),W())},"data-testid":"remove-from-playlist-menu-item",children:"Remove from Playlist"}),(null===(L=eo.flags)||void 0===L?void 0:L["on-demand-video"])&&ep&&!(null==U?void 0:U.is_trashed)&&!eF&&(null===(R=eo.user)||void 0===R?void 0:R.id)===(null==U?void 0:U.user_id)?(0,i.jsx)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej["regen-video"]?r.up:"none",opacity:"1"},onPointerDown:()=>{em&&(eu(!1),d.g.logAudioActionEvent(!1,c.OF.regenerateVideo,U,eo,ed),el.regenerateVideo(U,es),eg({title:"Generating video...",status:"success",duration:4e3,isClosable:!0}))},disabled:!em,onMouseEnter:()=>ek("regen-video"),onMouseLeave:()=>eC("regen-video"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{em&&"Enter"===e.key&&(eu(!1),d.g.logAudioActionEvent(!1,c.OF.regenerateVideo,U,eo,ed),el.regenerateVideo(U,es),eg({title:"Generating video...",status:"success",duration:4e3,isClosable:!0}))},ref:eT,"data-testid":"regenerate-video-menu-item",children:em?"Regenerate Video":(0,i.jsx)(h.u,{size:"sm",background:r.vj,rounded:"md",color:"#ffffff",padding:"10px",portalProps:{containerRef:eT},label:U.is_video_pending?"Video is generating":"Subscribe to regenerate video",children:(0,i.jsxs)("div",{className:"text-lightGray flex flex-row items-center",children:["Regenerate Video"," ",(0,i.jsx)("span",{className:"ml-1",children:(0,i.jsx)(I.MXt,{size:12})})]})})}):null,(null===(A=eo.flags)||void 0===A?void 0:A["editing-stems"])&&ep&&!(null==U?void 0:U.is_trashed)&&!eF&&(null===(z=eo.user)||void 0===z?void 0:z.id)===(null==U?void 0:U.user_id)?(0,i.jsx)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej["make-stems"]?r.up:"none",opacity:"1"},onPointerDown:()=>{ex&&(eu(!1),d.g.logAudioActionEvent(!1,c.OF.getStems,U,eo,ed),el.makeStems(U,es),"/create"!==ed&&er.push("/create"),eg({title:"Getting stems...",status:"success",duration:1e4,isClosable:!0}))},disabled:!ex,onMouseEnter:()=>ek("make-stems"),onMouseLeave:()=>eC("make-stems"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{ex&&"Enter"===e.key&&(eu(!1),d.g.logAudioActionEvent(!1,c.OF.getStems,U,eo,ed),el.makeStems(U,es),"/create"!==ed&&er.push("/create"),eg({title:"Getting stems...",status:"success",duration:1e4,isClosable:!0}))},ref:eZ,"data-testid":"make-stems-menu-item",children:ex?"Get Stems":(0,i.jsx)(h.u,{size:"sm",background:r.vj,rounded:"md",color:"#ffffff",padding:"10px",portalProps:{containerRef:eZ},label:(0,s.Q)(U)?"Stems cannot be stemmed":"Subscribe to get stems",children:(0,i.jsxs)("div",{className:"text-lightGray flex flex-row items-center",children:["Get Stems"," ",(0,i.jsx)("span",{className:"ml-1",children:(0,i.jsx)(I.MXt,{size:12})})]})})}):null,eQ&&ed!=="/radio/song/".concat(null==U?void 0:U.id)&&ep&&(0,i.jsx)(b.ck,{onPointerDown:()=>{d.g.logAudioActionEvent(!1,c.OF.goToSongRadio,U,eo,ed),er.push("/radio/song/".concat(null==U?void 0:U.id))},style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej["start-radio"]?r.up:"none"},onMouseEnter:()=>ek("start-radio"),onMouseLeave:()=>eC("start-radio"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(eu(!1),d.g.logAudioActionEvent(!1,c.OF.goToSongRadio,U,eo,ed),el.runConcat(null==U?void 0:U.id,null==U?void 0:U.metadata.infill))},"data-testid":"get-start-radio-menu-item",children:"Go to Song Radio"}),(ee||et)&&(null==U?void 0:null===(D=U.metadata)||void 0===D?void 0:D.history)&&ep&&!eF?(0,i.jsx)(b.ck,{onPointerDown:()=>{eu(!1),el.runConcat(null==U?void 0:U.id,null==U?void 0:U.metadata.infill)},style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej["whole-song"]?r.up:"none"},onMouseEnter:()=>ek("whole-song"),onMouseLeave:()=>eC("whole-song"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(eu(!1),el.runConcat(null==U?void 0:U.id,null==U?void 0:U.metadata.infill))},"data-testid":"get-whole-song-menu-item",children:(null==U?void 0:U.metadata.infill)?"Confirm Infill":"Get Whole Song"}):null,(null===(T=eo.user)||void 0===T?void 0:T.id)!==(null==U?void 0:U.user_id)||eF||Q&&(!Q||!($<1024))||(null==U?void 0:U.is_trashed)?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.2)",margin:"8px 0 8px 0"}})," ",(0,i.jsx)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif"},onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),children:"Visibility"}),(0,i.jsxs)(b.ck,{style:{fontFamily:"Neue Montreal, sans-serif",color:(null==U?void 0:U.is_public)?"#FAF7F5":"#000000",background:(null==U?void 0:U.is_public)?"none":"#FAF7F5",...ej["link-only"]&&(null==U?void 0:U.is_public)&&{background:r.up},...eS},onPointerDown:()=>{eu(!1),el.setClipVisibility(null==U?void 0:U.id,!1)},onMouseEnter:()=>ek("link-only"),onMouseLeave:()=>eC("link-only"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(eu(!1),el.setClipVisibility(null==U?void 0:U.id,!1))},"data-testid":"link-only-menu-item",children:[(0,i.jsx)(g.J,{as:I.gjK,mr:3}),"Link Only"]}),(null==U?void 0:U.is_trashed)?null:(0,i.jsx)(b.ck,{style:{fontFamily:"Neue Montreal, sans-serif",color:(null==U?void 0:U.is_public)?"#000000":"#FAF7F5",background:(null==U?void 0:U.is_public)?"#FAF7F5":"none",...ej.public&&!(null==U?void 0:U.is_public)&&{background:r.up},...eS},onPointerDown:()=>{eu(!1),el.setClipVisibility(null==U?void 0:U.id,!0)},onMouseEnter:()=>ek("public"),onMouseLeave:()=>eC("public"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(eu(!1),el.setClipVisibility(null==U?void 0:U.id,!0))},"data-testid":"public-menu-item",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)("span",{className:"mr-3",children:[" ",(null==U?void 0:U.is_public)?(0,i.jsx)(j.default,{src:"/icons/public-dark.svg",width:14,height:14,alt:"Public Option"}):(0,i.jsx)(j.default,{src:"/icons/public-active.svg",width:14,height:14,alt:"Public Option"})]}),"Public"]})})]}),(0,i.jsx)("div",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.2)",margin:"8px 0 8px 0"}}),!eF&&ep&&!(null==U?void 0:U.is_trashed)&&(0,i.jsxs)(b.Tr,{children:[(0,i.jsxs)(b.fF,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",display:"flex",justifyContent:"space-between",background:ej.sharing?r.up:"none"},onMouseEnter:()=>ek("sharing"),onMouseLeave:()=>eC("sharing"),"data-testid":"download-menu-item",children:["Share",(0,i.jsx)(g.J,{as:I.PS5,mt:1})]}),(0,i.jsxs)(b.tu,{style:{background:"#252020",borderRadius:"10px",padding:"4px",zIndex:r.n5,marginLeft:"4px",width:"130px",opacity:"1",borderImage:"180deg linear-gradient(#383737, #A19F9D)",borderWidth:"1px",borderStyle:"solid"},children:[(0,i.jsxs)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej["copy-link"]?r.up:"none",opacity:"1"},onPointerDown:()=>{d.g.track(c.Vy.copyLinkBtnClick,{clipId:null==U?void 0:U.id,isUserSongOwner:(null==eo?void 0:eo.userId)!==void 0&&(null==U?void 0:U.user_id)===(null==eo?void 0:eo.userId),isMobile:!1}),d.g.logAudioActionEvent(!1,c.OF.shareSongWithLink,U,eo,ed),(0,_.eC)(el.apiClient,U)},onMouseEnter:()=>ek("copy-link"),onMouseLeave:()=>eC("copy-link"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(d.g.track(c.Vy.copyLinkBtnClick,{clipId:null==U?void 0:U.id,isUserSongOwner:(null==eo?void 0:eo.userId)!==void 0&&(null==U?void 0:U.user_id)===(null==eo?void 0:eo.userId),isMobile:!1}),d.g.logAudioActionEvent(!1,c.OF.shareSongWithLink,U,eo,ed),(0,_.eC)(el.apiClient,U))},"data-testid":"copy-link-menu-item",children:[(0,i.jsx)(g.J,{as:I.ZH2,mr:2,pt:.5}),"Copy Link"]}),(0,i.jsxs)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej.social?r.up:"none",opacity:"1"},onPointerDown:()=>{eH()},onMouseEnter:()=>ek("social"),onMouseLeave:()=>eC("social"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&eH()},"data-testid":"share-social-menu-item",children:[ep?null:(0,i.jsx)(x.$,{mr:2,size:"sm"}),(0,i.jsx)(g.J,{as:I.I$,mr:2,pt:.5}),"Share to..."]})]})]}),(eo.isStaff||(null===(Z=eo.user)||void 0===Z?void 0:Z.id)===(null==U?void 0:U.user_id))&&!eF&&!(null==U?void 0:U.is_trashed)&&(0,i.jsxs)(b.Tr,{children:[(0,i.jsxs)(b.fF,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",display:"flex",justifyContent:"space-between",background:ej.download?r.up:"none"},onMouseEnter:()=>ek("download"),onMouseLeave:()=>eC("download"),"data-testid":"download-menu-item",children:["Download",(0,i.jsx)(g.J,{as:I.PS5,mt:1})]}),(0,i.jsxs)(b.tu,{style:{background:"#252020",borderRadius:"10px",padding:"4px",zIndex:r.n5,marginLeft:"4px",width:"150px",opacity:"1",borderImage:"180deg linear-gradient(#383737, #A19F9D)",borderWidth:"1px",borderStyle:"solid"},children:[(0,i.jsxs)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej.audio?r.up:"none",opacity:"1"},disabled:!ep,onPointerDown:()=>{ep&&(eu(!1),d.g.logAudioActionEvent(!1,c.OF.downloadMP3,U,eo,ed),(0,_.Rc)(ef,U))},onMouseEnter:()=>ek("audio"),onMouseLeave:()=>eC("audio"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&ep&&(eu(!1),d.g.logAudioActionEvent(!1,c.OF.downloadMP3,U,eo,ed),(0,_.Rc)(ef,U))},"data-testid":"download-audio-menu-item",children:[ep?null:(0,i.jsx)(x.$,{mr:2,size:"sm"}),(0,i.jsx)(g.J,{as:I.F1m,mr:2}),(0,u.d)(eo,U)?"MP3 Audio":"Audio"]}),(0,u.d)(eo,U)?(0,i.jsxs)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej["audio-wav"]?r.up:"none",opacity:"1"},disabled:!ep,onPointerDown:()=>{ep&&(eu(!1),d.g.logAudioActionEvent(!1,c.OF.downloadWAV,U,eo,ed),(0,_.HO)(ef,U),eg({title:"Generating WAV download...",status:"success",duration:1e4,isClosable:!0}),el.pendingWavDownloadClip=U,el.pendingWavDownloadAtTime=Date.now())},onMouseEnter:()=>ek("audio-wav"),onMouseLeave:()=>eC("audio-wav"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&ep&&(eu(!1),d.g.logAudioActionEvent(!1,c.OF.downloadWAV,U,eo,ed),(0,_.HO)(ef,U),el.pendingWavDownloadClip=U)},"data-testid":"download-wav-menu-item",children:[ep?null:(0,i.jsx)(x.$,{mr:2,size:"sm"}),(0,i.jsx)(g.J,{as:I.F1m,mr:2}),"WAV Audio"]}):null,(0,i.jsxs)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej.video?r.up:"none",opacity:"1"},disabled:!(null==U?void 0:U.video_url)||(null==U?void 0:U.is_video_pending),onPointerDown:()=>{(null==U?void 0:U.video_url)&&(null==U||!U.is_video_pending)&&(eu(!1),d.g.logAudioActionEvent(!1,c.OF.downloadVideo,U,eo,ed),(0,_.zz)(ef,U))},onMouseEnter:()=>ek("video"),onMouseLeave:()=>eC("video"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(null==U?void 0:U.video_url)&&(null==U||!U.is_video_pending)&&(eu(!1),d.g.logAudioActionEvent(!1,c.OF.downloadVideo,U,eo,ed),(0,_.zz)(ef,U))},"data-testid":"download-video-menu-item",children:[!(null==U?void 0:U.video_url)||(null==U?void 0:U.is_video_pending)?(0,i.jsx)(x.$,{mr:2,size:"sm"}):null,(0,i.jsx)(g.J,{as:I.KoQ,mr:2}),"Video"]})]})]}),!eF&&!(null==U?void 0:U.is_trashed)&&(0,i.jsxs)(b.Tr,{children:[(0,i.jsxs)(b.fF,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",display:"flex",justifyContent:"space-between",background:ej.report?r.up:"none"},onMouseEnter:()=>ek("report"),onMouseLeave:()=>eC("report"),"data-testid":"report-menu-item",children:["Report",(0,i.jsx)(g.J,{as:I.PS5,mt:1})]}),(0,i.jsxs)(b.tu,{style:{background:"#252020",borderRadius:"10px",padding:"4px",zIndex:r.n5,marginLeft:"4px",width:"170px",opacity:"1",borderImage:"180deg linear-gradient(#383737, #A19F9D)",borderWidth:"1px",borderStyle:"solid"},children:[(null===(B=eo.user)||void 0===B?void 0:B.id)===(null==U?void 0:U.user_id)&&(0,i.jsxs)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej.bug?r.up:"none",opacity:"1"},onPointerDown:()=>{K()},onMouseEnter:()=>ek("bug"),onMouseLeave:()=>eC("bug"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(eu(!1),K())},"data-testid":"report-bug-menu-item",children:[(0,i.jsx)(g.J,{as:I.iq7,mr:2}),"Bug"]}),(0,i.jsx)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej.inappropriate?r.up:"none",opacity:"1"},onPointerDown:async()=>{eu(!1),await ey()},onMouseEnter:()=>ek("inappropriate"),onMouseLeave:()=>eC("inappropriate"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:async e=>{"Enter"===e.key&&(eu(!1),await ey())},"data-testid":"report-inappropriate-menu-item",children:ej.inappropriate?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.J,{as:I.x_j,mr:2}),"Inappropriate"]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.J,{as:I.NV4,mr:2}),"Inappropriate"]})})]})]}),!V&&eP&&void 0!==eE&&(0,i.jsxs)(i.Fragment,{children:[!(null==U?void 0:U.is_trashed)&&(0,i.jsx)("div",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.2)",margin:"8px 0 8px 0"}}),(0,i.jsx)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:eE?ej.trash?r.up:"none":(null==U?void 0:U.is_trashed)?"#fc8180":ej.trash?r.up:"none"},onPointerDown:()=>{eu(!1),eL()},onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onMouseEnter:()=>ek("trash"),onMouseLeave:()=>eC("trash"),onKeyDown:e=>{"Enter"===e.key&&(eu(!1),eL())},children:eE?(0,i.jsxs)(f.k,{alignItems:"center",children:[(0,i.jsx)(g.J,{as:I.wXW,mr:2}),(0,i.jsx)("span",{children:"Restore to Library"})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(f.k,{alignItems:"center",children:[(0,i.jsx)(g.J,{as:I.Xm5,mr:2}),(0,i.jsx)("span",{children:"Move to Trash"})]})})})]}),!V&&eP&&eE&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.2)",margin:"8px 0 8px 0"}}),(0,i.jsxs)(b.ck,{style:{...eS,fontFamily:"Neue Montreal, sans-serif",background:ej["delete-perm"]?r.up:"none"},onPointerDown:()=>{eu(!1),Y(e_)},onMouseEnter:()=>ek("delete-perm"),onMouseLeave:()=>eC("delete-perm"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),children:[(0,i.jsx)(g.J,{as:I.Z1A,mr:2}),"Delete Permanently"]})]})]})})]}),(0,i.jsx)(P.Z,{isOpen:eW,onClose:eY,song:U,type:"song"})]})});t.Z=E},6051:function(e,t,n){n.d(t,{Iv:function(){return x},MV:function(){return p},TO:function(){return f},lJ:function(){return g},u6:function(){return m},zD:function(){return v}});var i=n(57437),l=n(1633),o=n(3427),a=n(88291),s=n(40191),r=n(99240),d=n(87138),c=n(24972),u=n(33565);c.Z.addDefaultLocale(u.Z);let p=new c.Z("en-US"),m="songPage",x="songPreview",h="songRow",g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l="--:--";return(e&&(l=new Date(1e3*e).toISOString().slice(e>=600?e>=3600?12:14:15,19)),t)?(0,i.jsx)("span",{className:"absolute bottom-[1px] right-[1px] text-[11px] font-mono bg-vinylBlack-darker/70 text-primary font-bold px-[2px] rounded-sm",children:l}):n?l:(0,i.jsx)(a.C,{fontSize:"11px",height:"16px",position:"absolute",background:"rgba(0, 0, 0, 0.5)",bottom:"0px",right:"0px",children:l})},f=e=>{let{styleStr:t,tagStyle:n=h,fontSizeClass:l="text-sm",fontColorClass:o="text-primary",extraClasses:a=""}=e;if(!t)return(0,i.jsx)("div",{className:"".concat(o," ").concat(a," mr-1 text-sm lg:").concat(l," xl:").concat(l," ").concat(n===x?"px-[4px]":""),children:"(no style)"});let s=t.split(/[,ï¼ŒØŒï¼›ã€á ‚ØŒà¸¯à¼‹ØŒØŒ.ã€‚à¥¤]/);return(0,i.jsx)("div",{className:"".concat(a," font-sans break-all ").concat(l," ").concat(o," mr-1"),children:s.map((e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.default,{href:"/style/".concat(encodeURIComponent(e.trim())),title:e,className:"hover:underline",children:[e,t===s.length-1?null:","]},t)," "]}))})},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0;if(!e)return(0,i.jsx)(s.x,{color:"rgba(255, 255, 255, 0.5)",marginRight:"2px",px:t===x?4:void 0,fontSize:["xs","sm"],children:"(no style)"});let d=t===m?{style:{fontFamily:"Satoshi",fontSize:"16px",fontStyle:"normal",fontWeight:"500",color:l.SN},mt:5,w:n?void 0:"400px"}:t===x?{style:{fontWeight:"500",whiteSpace:"pre-wrap"},px:4,fontSize:a||"sm"}:{fontSize:["xs","sm"],flexWrap:"wrap",style:{width:"100%",color:"rgba(255, 255, 255, 0.5)"},noOfLines:2},c=e.split(/[,ï¼ŒØŒï¼›ã€á ‚ØŒà¸¯à¼‹ØŒØŒ.ã€‚à¥¤]/);return(0,i.jsx)(r.k,{direction:"row",gap:0,flexWrap:"wrap",maxWidth:"100%",children:(0,i.jsx)(s.x,{onClick:e=>{e.preventDefault(),e.stopPropagation()},...d,children:c.map((e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.r,{href:"/style/".concat(encodeURIComponent(e.trim())),flexDirection:"row",title:e,children:e},t),t===c.length-1?"":", "]}))})})}},50474:function(e,t,n){var i=n(57437),l=n(95430),o=n(87138),a=n(40129),s=n(1633);let r=(0,l.Pi)(e=>{let{displayName:t,handle:n,imageUrl:l,showAvatar:r=!0,fontSize:d}=e;return n?(0,i.jsx)(o.default,{href:"/@".concat(n),className:"w-fit",children:(0,i.jsxs)("div",{className:"text-sm flex flex-row items-center font-sans font-medium text-primary",children:[r?(0,i.jsx)(a.Z,{className:"rounded-full h-8 w-8 mr-2",src:l||null,imageSize:s.YY,alt:"Profile avatar"}):null,(0,i.jsx)("span",{title:t||"@".concat(n),className:"line-clamp-1 hover:underline max-w-full break-all",style:{fontSize:d},children:t||"@".concat(n)})]})}):null});t.Z=r},40129:function(e,t,n){var i=n(57437),l=n(1633),o=n(2265),a=n(67958);t.Z=e=>{var t,n;let{src:s,fallbackSrc:r=l.ax,imageSize:d=0,shouldFallback:c=!0,...u}=e,{session:p}=(0,a.mZ)(),[m,x]=(0,o.useState)(s||r),h=()=>{c&&x(r)};return(0,o.useEffect)(()=>{x(s||r)},[s]),(0,i.jsx)(i.Fragment,{children:(d==l.YY||d==l.PE)&&(null==p?void 0:null===(t=p.flags)||void 0===t?void 0:t["image-on-demand-backfill-jpeg"])?(0,i.jsx)("img",{src:((n=m||void 0)!=l.ax&&(null==n?void 0:n.endsWith(".jpeg"))&&d>0&&(n=n+"?width="+d),n),onError:h,loading:"lazy",...u}):(0,i.jsx)("img",{src:m||"",onError:h,loading:"lazy",...u})})}},72025:function(e,t,n){var i=n(57437),l=n(67958),o=n(40323),a=n(1225),s=n(51064),r=n(95430),d=n(2265),c=n(64874),u=n(92115),p=n(16463),m=n(39350),x=n(54018),h=n(40129);let g=(0,r.Pi)(e=>{var t;let{clip:n,onClick:r,onPlay:g,contextId:f,preview:v=!1,rounded:b,hideOnMobile:y=!1}=e,{clips:j,playbar:w,queue:k,session:C}=(0,l.mZ)(),[S,N]=(0,d.useState)(!1),[I,_]=(0,d.useState)(null==n?void 0:n.upvote_count),P=(0,p.usePathname)();(0,d.useEffect)(()=>{N((0,o.ip)(n))},[n]),(0,d.useEffect)(()=>{_(null==n?void 0:n.upvote_count)},[null==n?void 0:n.upvote_count]);let{isSignedIn:M}=(0,s.aC)(),E=(0,s.ll)(),[F]=(0,a.a)("(max-width: 768px)"),O=(null===(t=w.clip)||void 0===t?void 0:t.id)===n.id&&(k.contextId||null)===(f||null);if(!n)return null;let L=v?"w-full":"w-[204px]";return(0,i.jsx)("div",{className:"flex-col ".concat(L," ").concat(y?"hidden sm:hidden md:flex lg:flex xl:flex":"flex"),children:(0,i.jsxs)("div",{className:"".concat("none"!==b?"rounded-none sm:rounded-none md:rounded-none lg:rounded-xl xl:rounded-xl":""," overflow-hidden ").concat(L," ").concat(v?"aspect-[232/280]":"h-72"," mb-4 cursor-pointer"),onClick:r,children:[(0,i.jsx)(h.Z,{className:"object-cover w-full h-full",src:n.image_url||null,alt:"Image for ".concat(n.title)}),(0,i.jsx)(m.Pd.Provider,{value:{className:"stroke-white fill-white"},children:(0,i.jsxs)("div",{className:"flex flex-row -mt-10 hidden",children:[(0,i.jsxs)("button",{onClick:e=>{e.stopPropagation(),e.preventDefault(),O?w.togglePlay():g&&g()},className:"rounded-md bg-gray-800/60 flex flex-row text-white mx-1 gap-2 items-center px-3 py-1 font-mono font-bold",children:[(0,i.jsx)(x.gmG,{})," ",n.play_count]}),(0,i.jsxs)("button",{onClick:e=>{if(e.stopPropagation(),e.preventDefault(),M){if(j.isUpdatingClipReaction)return;let e=!(0,o.ip)(n);j.likeClip(null==n?void 0:n.id,e),N(e),_(t=>Math.max((t||0)+(e?1:-1),0)),c.g.logAudioActionEvent(F,S?u.OF.undoLikeSong:u.OF.likeSong,n,C,P),c.g.track(u.Vy.likeSongBtnClick,{clipId:null==n?void 0:n.id,isUserSongOwner:(null==C?void 0:C.userId)!==void 0&&(null==n?void 0:n.user_id)===(null==C?void 0:C.userId),isLike:!S,isMobile:F})}else E.openSignUp({redirectUrl:"/"})},className:"rounded-md bg-gray-800/60 flex flex-row text-white mx-1 gap-2 items-center px-3 py-1 font-mono font-bold",children:[(0,i.jsx)(x.spm,{})," ",I]})]})})]})})});t.Z=g},81623:function(e,t,n){var i=n(57437),l=n(67958),o=n(51464),a=n(99240),s=n(99890),r=n(17458),d=n(61493),c=n(6005),u=n(1371),p=n(52249),m=n(85222),x=n(7729),h=n(20408),g=n(95430),f=n(87138),v=n(85751),b=n(18330),y=n(76613),j=n(59692),w=n(6051),k=n(50474),C=n(19060),S=n(69548),N=n(40129);let I=(0,g.Pi)(e=>{let{clip:t,playlist:n,title:g,link:I,subtitle:_,isClipMetadata:P=!1,artistTagProps:M={},isSongCard:E,isPlaylistCard:F}=e,{library:O}=(0,l.mZ)(),{isOpen:L,onOpen:R,onClose:A}=(0,o.q)(),{isOpen:z,onOpen:D,onClose:T}=(0,o.q)(),{isOpen:Z,onOpen:B,onClose:q}=(0,o.q)(),{isOpen:U,onOpen:V,onClose:G}=(0,o.q)(),W=()=>{D&&D()};return(0,i.jsxs)("div",{className:"flex flex-col w-full",children:[(0,i.jsx)("div",{className:"text-base font-medium font-sans mb-2 text-primary line-clamp-1 w-full hover:underline cursor-pointer",children:I?(0,i.jsx)(f.default,{href:I,title:g,children:g}):(0,i.jsx)(i.Fragment,{children:g})}),_&&!F?(0,i.jsx)("div",{className:"line-clamp-1 mb-2 text-sm text-secondary",title:_,children:P?(0,w.TO)({styleStr:_,fontSizeClass:"text-sm",fontColorClass:"text-secondary",extraClasses:"line-clamp-1 flex-nowrap"}):_}):null,F&&!!(null==n?void 0:n.playlist_clips)&&(0,i.jsxs)("span",{className:"font-sans text-[14px] text-primary -mt-1 mb-2",children:[null==n?void 0:n.num_total_results," ",(null==n?void 0:n.num_total_results)===1?"song":"songs"]}),(0,i.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,i.jsx)(k.Z,{...M}),E&&t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.k,{px:[0],display:["flex","flex","none"],children:(0,i.jsxs)(s.v,{children:[(0,i.jsx)(r.j,{size:"sm","aria-label":"More Actions",as:d.h,icon:(0,i.jsx)(N.Z,{src:"/icons/more-actions.svg",alt:"More Actions",width:4,height:15}),variant:"ghost",onClick:V}),(0,i.jsxs)(c.u_,{isOpen:U,onClose:G,size:"full",isCentered:!0,children:[(0,i.jsx)(u.Z,{sx:{bgColor:"#0E0808"}}),(0,i.jsxs)(p.h,{sx:{bgColor:"#0E0808"},children:[(0,i.jsx)(m.x,{sx:{bgColor:"#0E0808"},children:t.is_trashed?(0,i.jsx)("span",{className:"font-serif text-[20px]",children:(0,S.M8)(t)}):(0,i.jsx)(f.default,{href:"/song/".concat(t.id),style:{textDecoration:"underline"},children:(0,i.jsx)("span",{className:"font-serif text-[20px]",children:(0,S.M8)(t)})})}),(0,i.jsx)("div",{className:"absolute right-2 top-2",children:(0,i.jsx)(x.P,{onClick:G})}),(0,i.jsx)(h.f,{sx:{bgColor:"#0E0808"},children:(0,i.jsx)(C.a,{clip:t,isSongPage:!1,onAddToPlaylist:R,onCloseMenuModal:G,onUpdateMetadata:W})})]})]})]})}),(0,i.jsx)("div",{className:"hidden md:block",children:(0,i.jsx)(j.Z,{clip:t,isSongPage:!1,onAddToPlaylist:R,onOpenFlagModal:B,onUpdateMetadata:W,isFromSongRow:!1})})]})]}),(0,i.jsx)(v.Z,{clipId:null==t?void 0:t.id,library:O,isOpen:L,onPlaylistClick:(e,t)=>{O.addClipsToPlaylist(e,t)},onClose:A}),(0,i.jsx)(b.ZP,{library:O,isOpen:z,onSubmit:async(e,t)=>{var n,i;if(null===(n=O.activeClip)||void 0===n?void 0:n.id)return await O.clips.setMetadata(null===(i=O.activeClip)||void 0===i?void 0:i.id,e,t)},onClose:T}),(0,i.jsx)(y.Z,{isOpen:Z,onClose:q,clipId:(null==t?void 0:t.id)||"",clipTitle:(null==t?void 0:t.title)||"Untitled"})]})});t.Z=I},68689:function(e,t,n){var i=n(57437),l=n(67958),o=n(40323),a=n(51464),s=n(92959),r=n(2265),d=n(54887);t.Z=e=>{var t,n,c,u;let{state:p}=e,{session:m,clips:x}=(0,l.mZ)(),{isOpen:h,onOpen:g,onClose:f}=(0,a.q)(),v=(0,r.useRef)(null),b=(0,r.useRef)(null);(0,s.O)({ref:v,handler:e=>{var t;(null===(t=b.current)||void 0===t?void 0:t.contains(e.target))||f()}});let[y,j]=(0,r.useState)((0,o.dq)(p,x));(0,r.useEffect)(()=>{j((0,o.dq)(p,x))},[p.mv,p.continueClipId]);let w=(e,t)=>{t.preventDefault(),t.stopPropagation(),j(e),p.setMv(e),f()},k=()=>{h?f():g()},C=null===(t=b.current)||void 0===t?void 0:t.getBoundingClientRect(),S=C?C.left+(null===(n=window)||void 0===n?void 0:n.scrollX):0,N=null===(c=window)||void 0===c?void 0:c.innerWidth;S+192>N&&(S=N-192);let I={top:C?C.bottom+window.scrollY:0,left:S};return(0,i.jsxs)("div",{className:"relative inline-block text-left font-sans",children:[(0,i.jsxs)("div",{"aria-label":"Model Select Dropdown",tabIndex:0,className:"inline-flex items-center px-3 py-1 bg-quaternary hover:bg-primary/30 text-primary font-medium text-sm rounded-full cursor-pointer select-none",ref:b,onClick:e=>{e.preventDefault(),e.stopPropagation(),k()},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),k())},children:[(0,i.jsx)("span",{className:"line-clamp-1 break-all",children:(null===(u=m.models.find(e=>e.external_key===y))||void 0===u?void 0:u.name)||"v3.5"}),(0,i.jsx)("svg",{className:"ml-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06 0L10 10.93l3.71-3.72a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 010-1.06z",clipRule:"evenodd"})})]}),h&&d.createPortal((0,i.jsx)("div",{className:"absolute w-48 rounded-md shadow-lg bg-tertiary z-[10000] overflow-y-auto max-h-60 mt-2",style:{top:I.top,left:I.left},ref:v,children:(0,i.jsx)("div",{className:"py-1",children:m.models.map(e=>(0,i.jsxs)("div",{tabIndex:0,"aria-label":"Model Selection: ".concat(e.name),className:"flex items-center justify-between px-3 py-1 text-sm text-secondary cursor-pointer hover:bg-quaternary",onClick:t=>w(e.external_key,t),onKeyDown:t=>{"Enter"===t.key&&w(e.external_key,t)},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium font-sans text-md text-primary",children:e.name}),(0,i.jsx)("div",{className:"text-sm text-secondary opacity-70 font-sans pr-2",children:e.description})]}),e.external_key===y&&(0,i.jsx)("svg",{className:"h-5 w-5 text-secondary",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",style:{minWidth:"16px",minHeight:"16px",maxHeight:"16px"},children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 00-1.414 0L8 12.586 4.707 9.293a1 1 0 00-1.414 1.414l4 4a1 1 0 001.414 0l8-8a1 1 0 000-1.414z",clipRule:"evenodd"})})]},e.external_key))})}),document.body)]})}},91033:function(e,t,n){var i=n(57437);n(2265);var l=n(93692);t.Z=e=>{let{onClick:t,text:n,icon:o,isDisabled:a=!1,isLoading:s=!1,fullWidth:r,extraClasses:d,textExtraClasses:c="",iconExtraClasses:u="",label:p,backgroundImage:m="/create-button-background.svg"}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{children:"\n          @keyframes randomBackground {\n            0% { background-position: 50% 50%; }\n            25% { background-position: 30% 70%; }\n            50% { background-position: 70% 30%; }\n            75% { background-position: 40% 60%; }\n            100% { background-position: 50% 50%; }\n          }\n\n          .buttonAnimate {\n            position: relative;\n            display: inline-block;\n            background-image: url('".concat(m,"');\n            background-size: cover; \n            background-position: 50% 50%;\n            transition: background 1s ease-in-out;\n            overflow: hidden;\n          }\n\n          .buttonAnimate::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background-image: url('/grain.png');\n            background-size: cover;\n            background-repeat: repeat;\n            opacity: 0.5;\n            z-index: 1;\n            pointer-events: none;\n          }\n\n          .buttonAnimate:hover {\n            animation: randomBackground ").concat("/create-button-background.svg"===m?"3s":"160s"," linear infinite;\n          }\n        ")}),(0,i.jsx)("button",{"aria-label":p,onClick:t,className:"font-sans text-white text-md font-medium p-4 rounded-full transition duration-300 ease-in-out shadow-lg buttonAnimate ".concat(r?"w-full":""," ").concat(a?"opacity-50 cursor-not-allowed":"hover:opacity-90"," ").concat(d||""," items-center justify-center"),disabled:a,children:(0,i.jsxs)("div",{className:"flex items-center justify-center h-full w-full",children:[s?(0,i.jsx)(l.Z,{}):o&&(0,i.jsx)("span",{className:u||(n?"mr-2":""),children:(0,i.jsx)("img",{src:o,alt:"icon",className:"w-5 h-5 filter invert brightness-0"})}),(0,i.jsx)("span",{className:c,children:n})]})})]})}},80048:function(e,t,n){var i=n(57437),l=n(2265),o=n(14063);t.Z=e=>{let{label:t}=e,[n,a]=(0,l.useState)(!1),s=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=e=>{n&&s.current&&!s.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[n]),(0,i.jsxs)("div",{className:"relative",ref:s,children:[(0,i.jsx)("button",{className:"p-1 rounded-full focus:outline-none color-primary",onClick:()=>a(!n),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:(0,i.jsx)(o.MXt,{size:12})}),n&&(0,i.jsx)("div",{className:"absolute z-10 w-48 p-2 text-white bg-tertiary rounded shadow-lg left-0 font-sans font-xs border border-white border-opacity-20",children:t})]})}},67328:function(e,t,n){n.d(t,{N:function(){return l},i:function(){return o}});var i=n(57437);let l=e=>{let{showAtBreakpoint:t="md",children:n}=e;return(0,i.jsx)("div",{className:"hidden ".concat(t,":block"),children:n})},o=e=>{let{hideAtBreakpoint:t="md",children:n}=e;return(0,i.jsx)("div",{className:"block ".concat(t,":hidden"),children:n})}},67561:function(e,t,n){var i=n(57437),l=n(51464),o=n(92959),a=n(2265);t.Z=e=>{var t,n;let{selections:s,onChange:r}=e,{isOpen:d,onOpen:c,onClose:u}=(0,l.q)(),p=(0,a.useRef)(null),m=(0,a.useRef)(null),[x,h]=(0,a.useState)(null==s?void 0:null===(t=s[0])||void 0===t?void 0:t.key);(0,o.O)({ref:p,handler:e=>{var t;(null===(t=m.current)||void 0===t?void 0:t.contains(e.target))||u()}});let g=()=>{d?u():c()};return(0,i.jsxs)("div",{className:"relative inline-flex justify-center text-left font-sans",children:[(0,i.jsxs)("div",{tabIndex:0,className:"inline-flex items-center px-3 py-1 bg-tertiary text-primary font-medium text-sm rounded-lg cursor-pointer select-none w-22",ref:m,onClick:e=>{e.preventDefault(),e.stopPropagation(),g()},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),g())},children:[(0,i.jsx)("span",{children:null===(n=s.find(e=>e.key===x))||void 0===n?void 0:n.name}),(0,i.jsx)("svg",{className:"ml-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06 0L10 10.93l3.71-3.72a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 010-1.06z",clipRule:"evenodd"})})]}),d&&(0,i.jsx)("div",{className:"absolute mt-4 w-32 rounded-md shadow-lg bg-tertiary z-[100] overflow-y-auto",ref:p,style:{left:"0px",right:"0px",top:"20px"},children:(0,i.jsx)("div",{className:"py-1",children:s.map(e=>(0,i.jsx)("div",{tabIndex:0,className:"flex items-center justify-between px-3 py-1 text-sm text-primary cursor-pointer hover:bg-quaternary",onClick:()=>{h(e.key),r(e.key),u()},onKeyDown:t=>{"Enter"===t.key&&(h(e.key),r(e.key),u())},children:(0,i.jsx)("div",{className:"font-medium font-sans",children:e.name})},e.key))})})]})}},80524:function(e,t,n){var i=n(57437),l=n(40323),o=n(1225),a=n(51464),s=n(10114),r=n(76684),d=n(47414),c=n(40191),u=n(61493),p=n(80201),m=n(71843),x=n(37701),h=n(67958),g=n(5443),f=n(1633),v=n(64874),b=n(92115),y=n(69548),j=n(51064),w=n(95430),k=n(66648),C=n(16463),S=n(2265),N=n(39350),I=n(69523),_=n(93025),P=n(76613),M=n(59692),E=n(20435),F=n(40129),O=n(78232),L=n(52371),R=n(48626);let A=(0,w.Pi)(e=>{var t,n,w,A;let{rowKey:z,clip:D,onAddToPlaylist:T,onRemoveFromPlaylist:Z,showStats:B=!1,size:q="sm",asCardActions:U=!1,trendingMode:V=!1,isSongPage:G=!1,onUpdateMetadata:W,onMenuButtonClick:K,isFromSongRow:Y=!1,isPlaybar:H=!1,width:X="100%"}=e,{playbar:Q,clips:J,trash:$,genForm:ee,session:et}=(0,h.mZ)(),[en,ei]=(0,S.useState)(null),[el,eo]=(0,S.useState)(!1),ea=(0,S.useRef)(),[es]=(0,m.pE)({},ea,x.b),{buttonProps:er}=(0,p.U)(es,ea),[ed]=(0,o.a)("(max-width: 1023px)"),{isOpen:ec,onOpen:eu,onClose:ep}=(0,a.q)(),{isOpen:em,onOpen:ex,onClose:eh}=(0,a.q)(),eg=async()=>{en&&(eo(!0),await J.deleteClips(en.map(e=>e.id)),en.forEach(e=>{$.removeFromTrash(e.id)}),eo(!1),ep()),(0,h.Am)({duration:4e3,isClosable:!0,position:"bottom",render:()=>(0,i.jsx)(E.Z,{clips:en||[]})})},ef=(null==D?void 0:D.status)==="complete",ev=(0,C.useRouter)(),eb=(0,C.usePathname)(),[ey,ej]=(0,S.useState)(D.is_public),ew=async()=>{ej(!ey);try{await J.setClipVisibility(D.id,!ey),(0,h.Am)({title:"Clip is now ".concat(ey?"link only":"public","."),status:"warning",duration:2e3,isClosable:!0})}catch(e){console.error("Failed to update clip visibility:",e),ej(ey)}},ek="/playlist/liked/"===eb,{isSignedIn:eC}=(0,j.aC)(),eS=(0,j.ll)(),[eN,eI]=(0,S.useState)((0,l.ip)(D)),[e_,eP]=(0,S.useState)((0,l.de)(D));(0,S.useEffect)(()=>{eI((0,l.ip)(D))},[(0,l.ip)(D)]),(0,S.useEffect)(()=>{eP((0,l.de)(D))},[(0,l.de)(D)]);let eM=()=>{if(eC){let e=!(0,l.ip)(D);eI(e),J.likeClip(null==D?void 0:D.id,e),v.g.logAudioActionEvent(ed,e?b.OF.likeSong:b.OF.undoLikeSong,D,et,eb),v.g.track(b.Vy.likeSongBtnClick,{clipId:D.id,isUserSongOwner:(null==et?void 0:et.userId)!==void 0&&(null==D?void 0:D.user_id)===(null==et?void 0:et.userId),isLike:e,isMobile:ed})}else G?eS.openSignUp({redirectUrl:"/song/".concat(D.id)}):eS.openSignUp({redirectUrl:"/"})},{isOpen:eE,onClose:eF}=(0,a.q)();return(0,i.jsxs)(s.K,{direction:"row",alignItems:"center",w:X,spacing:U?void 0:0,justifyContent:U?"space-between":void 0,children:[Y&&!D.is_trashed?(0,i.jsxs)(s.K,{direction:"row",ml:4,children:[ek||!ef||ed||D.user_id!==et.userId&&(0,g.R)(D)?null:(0,i.jsx)("div",{className:"extend-button",children:(0,i.jsx)(L.Z,{...er,onClick:()=>{D.metadata.infill?J.runConcat(null==D?void 0:D.id,D.metadata.infill):(v.g.track(b.Vy.extendSongBtnClick,{clipId:null==D?void 0:D.id,isUserSongOwner:(null==et?void 0:et.userId)!==void 0&&(null==D?void 0:D.user_id)===(null==et?void 0:et.userId),isMobile:!1}),ee.setContinueClip(D),"/create"!==eb&&ev.push("/create"))},text:D.metadata.infill?"Confirm Infill":"Extend"})}),ek||ed||(null===(t=et.user)||void 0===t?void 0:t.id)!==D.user_id||D.is_trashed?null:(0,i.jsx)(i.Fragment,{children:(0,g.R)(D)?(0,i.jsx)(r.u,{label:"Unable to be made public due to content restrictions",size:"sm",fontSize:"md",background:f.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",fontFamily:"Neue Montreal",children:(0,i.jsxs)("button",{...er,className:"flex flex-row rounded-md mx-2 outline-none bg-quaternary p-1 pl-2 items-center","aria-label":"Public (disabled)",children:[(0,i.jsx)("span",{className:"text-sm font-sans ".concat(ey?"text-white":"text-secondary"),children:"Public"}),(0,i.jsx)("div",{className:"ml-2",children:(0,i.jsx)(O.Z,{small:!0,checked:ey,disabled:!0,onChange:ew,"aria-label":"Public Switch (disabled)"})})]})}):(0,i.jsxs)("button",{...er,className:"flex flex-row rounded-md mx-1.5 outline-none bg-quaternary p-1 pl-2 items-center","aria-label":ey?"Make private":"Make public",children:[(0,i.jsx)("span",{className:"text-sm font-sans ".concat(ey?"text-white":"opacity-50"),children:"Public"}),(0,i.jsx)("div",{className:"ml-2",children:(0,i.jsx)(O.Z,{small:!0,checked:ey,disabled:!1,onChange:ew,"aria-label":ey?"Switch to make private":"Switch to make public"})})]})})]}):null,U?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.z,{size:q,leftIcon:(0,i.jsx)(F.Z,{src:"/icons/play.svg",alt:"Play",width:12,height:12}),onClick:()=>Q.playClip(D),variant:"ghost",color:"gray.600","aria-label":"Play Count",textAlign:"left",iconSpacing:3,children:(0,i.jsx)("div",{className:"text-primary ".concat("lg"===q?"text-sm":"text-xs"," w-[40px] font-mono"),children:(0,y.Hl)(D.play_count||0)})}),B?(0,i.jsx)(d.z,{...er,size:q,leftIcon:(0,i.jsx)(N.Pd.Provider,{value:{className:eN?"stroke-white fill-white text-lg":"stroke-lightGray fill-lightGray text-lg"},children:(0,i.jsx)(F.Z,{src:eN?"/icons/thumbs-up-active.svg":"/icons/thumbs-up.svg",alt:"Like",width:16,height:16})}),onClick:eM,variant:"ghost",color:eN?void 0:"gray","aria-label":"Playbar: Like",textAlign:"left",iconSpacing:3,p:1,children:(0,i.jsx)(c.x,{fontSize:"lg"===q?"sm":"xs",width:"20px",color:eN?"#fff":"gray",textAlign:"center",children:(0,y.Hl)(D.upvote_count||0)})}):(0,i.jsx)(u.h,{...er,size:q,icon:(0,i.jsx)(N.Pd.Provider,{value:{className:eN?"stroke-white fill-white text-lg":"stroke-lightGray fill-lightGray text-lg"},children:(0,i.jsx)(k.default,{src:eN?"/icons/thumbs-up-active.svg":"/icons/thumbs-up.svg",alt:"Like",width:16,height:16})}),onClick:eM,variant:"ghost","aria-label":"Playbar: Like"})]}):(0,i.jsxs)(s.K,{direction:"row",alignItems:"center",spacing:U?void 0:0,ml:4,justifyContent:U?"space-between":void 0,children:[V?(0,i.jsx)(d.z,{size:q,leftIcon:(0,i.jsx)(k.default,{src:"/icons/play.svg",alt:"Play",width:12,height:12}),onClick:()=>Q.playClip(D),variant:"ghost",color:"gray.600","aria-label":"Play Count",textAlign:"left",iconSpacing:3,children:(0,i.jsx)(c.x,{color:"gray.200",fontSize:"lg"===q?"sm":"xs",className:"w-fit",fontFamily:"Neue Montreal",children:D.play_count})}):null,B?(0,i.jsx)(d.z,{...er,size:q,leftIcon:(0,i.jsx)(N.Pd.Provider,{value:{className:eN?"stroke-white fill-white text-lg":"stroke-lightGray fill-lightGray text-lg"},children:(0,i.jsx)(k.default,{src:eN?"/icons/thumbs-up-active.svg":"/icons/thumbs-up.svg",alt:"Like",width:12,height:12})}),onClick:eM,colorScheme:eN?"#fff":void 0,variant:"ghost",color:eN?void 0:"gray","aria-label":"Like",textAlign:"left",iconSpacing:3,mx:1,children:(0,i.jsx)(c.x,{fontSize:"lg"===q?"sm":"xs",className:"w-fit",color:eN?"#fff":"gray",children:D.upvote_count})}):(0,i.jsx)(u.h,{...er,size:q,icon:(0,i.jsx)(N.Pd.Provider,{value:{className:eN?"stroke-white fill-white text-lg":"stroke-lightGray fill-lightGray text-lg"},children:(0,i.jsx)(k.default,{src:eN?"/icons/thumbs-up-active.svg":"/icons/thumbs-up.svg",alt:"Like",width:16,height:16})}),onClick:eM,colorScheme:eN?"#fff":void 0,color:eN?void 0:"gray",variant:"ghost",mx:1,"aria-label":"Playbar: Like"}),V?null:(0,i.jsx)(u.h,{...er,size:q,icon:(0,i.jsx)(N.Pd.Provider,{value:{className:e_?"stroke-white fill-white text-lg":"stroke-lightGray fill-lightGray text-lg"},children:(0,i.jsx)(k.default,{src:e_?"/icons/thumbs-down-active.svg":"/icons/thumbs-down.svg",alt:"Playbar: Dislike",width:16,height:16})}),onClick:()=>{if(eC){let e=!(0,l.de)(D);eP(e),J.dislikeClip(D.id,e),v.g.logAudioActionEvent(ed,e?b.OF.dislikeSong:b.OF.undoDislikeSong,D,et,eb)}else G?eS.openSignUp({redirectUrl:"/song/".concat(D.id)}):eS.openSignUp({redirectUrl:"/"})},colorScheme:e_?"#fff":void 0,variant:"ghost",color:e_?void 0:"gray",mx:1,"aria-label":"Playbar: Dislike"})]}),"lg"===q?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.u,{label:"Copy Song Link",size:"sm",background:f.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",fontFamily:"Neue Montreal",children:(0,i.jsx)(d.z,{...er,size:q,onClick:()=>(0,I.eC)(J.apiClient,D),leftIcon:(0,i.jsx)(k.default,{src:H?"/icons/share-white.svg":"/icons/share.svg",alt:"Share",width:16,height:16}),variant:"ghost",mx:1,"aria-label":"Playbar: Share",children:(0,i.jsx)("span",{children:"Share"})})})}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.u,{label:"Copy Song Link",size:"sm",background:f.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",fontFamily:"Neue Montreal",children:(0,i.jsx)(u.h,{...er,size:q,onClick:()=>(0,I.eC)(J.apiClient,D),icon:(0,i.jsx)(k.default,{src:H?"/icons/share-white.svg":"/icons/share.svg",alt:"Share",width:16,height:16}),variant:"ghost",mx:1,"aria-label":"Playbar: Share"})})}),(0,i.jsx)(M.Z,{rowKey:z,clip:D,isSongPage:G,onAddToPlaylist:T,onRemoveFromPlaylist:Z,onOpenFlagModal:()=>{ex()},onOpenDeleteModal:e=>{ei(e),eu()},onUpdateMetadata:W,onMenuButtonClick:K,isFromSongRow:Y,isPlaybar:H}),(0,i.jsx)(_.Z,{isOpen:ec,onClose:ep,onConfirm:eg,clipTitle:en&&1===en.length?(null===(n=en[0])||void 0===n?void 0:n.title)||(null===(A=en[0])||void 0===A?void 0:null===(w=A.metadata)||void 0===w?void 0:w.tags)||"":"".concat((en||[]).length," Clips"),isLoading:el,headerText:en&&en.length>1?"Are you sure you want to delete these songs?":"Are you sure you want to delete this song?"}),(0,i.jsx)(P.Z,{isOpen:em,onClose:eh,clipId:D.id,clipTitle:(null==D?void 0:D.title)||"Untitled"}),(0,i.jsx)(R.Z,{clip:D,isOpen:eE,onClose:eF,onFeedbackSubmit:()=>{eF()},onFeedbackRemoved:()=>{eF()}})]})});t.Z=A},91560:function(e,t,n){var i=n(57437),l=n(80524),o=n(28922),a=n(40323),s=n(29945),r=n(69548),d=n(99240),c=n(74340),u=n(47840),p=n(16829),m=n(61493),x=n(10114),h=n(92544),g=n(54410),f=n(6353),v=n(40191),b=n(76684),y=n(64973),j=n(95430),w=n(87138),k=n(16463),C=n(2265),S=n(14063),N=n(67958),I=n(1633),_=n(65870),P=n(19060),M=n(6051);let E=(0,j.Pi)(e=>{var t,n,j,E,F,O,L,R,A,z,D,T,Z,B,q,U,V,G,W,K,Y;let{rowKey:H,clip:X,onClick:Q,onPlay:J,onAddToPlaylist:$,onRemoveFromPlaylist:ee,onOpenEditClipMetadata:et,trendingMode:en=!1,showStats:ei=!1,showTags:el=!0,showActions:eo=!0,expanded:ea=!1,showUser:es=!1,index:er,playlistId:ed,radioId:ec,isFromSongRow:eu=!0,isCreatePage:ep=!1,condensedImage:em}=e,{playbar:ex,genForm:eh,queue:eg,session:ef}=(0,N.mZ)(),ev=!eg.currentPlayingSongIsRemoved&&(void 0!==er?er===eg.currentIndex&&(eg.isPlaylistCurrentContext(ed)||eg.isRadioCurrentContext(ec)):(null===(t=ex.clip)||void 0===t?void 0:t.id)===(null==X?void 0:X.id)&&eg.contextType===s.Q.FEED),[eb,ey]=(0,C.useState)(!1),ej=(null==X?void 0:X.status)==="queued"||(null==X?void 0:X.status)==="submitted",ew=eh.selectedClip,ek=(null==ew?void 0:null===(j=ew.metadata)||void 0===j?void 0:null===(n=j.history)||void 0===n?void 0:n.map(e=>(null==e?void 0:e.id)||e).includes(X.id))||(null==ew?void 0:null===(F=ew.metadata)||void 0===F?void 0:null===(E=F.concat_history)||void 0===E?void 0:E.map(e=>(null==e?void 0:e.id)||e).includes(X.id))||(null==ew?void 0:null===(L=ew.metadata)||void 0===L?void 0:null===(O=L.history)||void 0===O?void 0:O.map(e=>(null==e?void 0:e.id)||e).includes("m_".concat(X.id)))||(null==ew?void 0:null===(A=ew.metadata)||void 0===A?void 0:null===(R=A.concat_history)||void 0===R?void 0:R.map(e=>(null==e?void 0:e.id)||e).includes("m_".concat(X.id)))||(null==ew?void 0:null===(z=ew.metadata)||void 0===z?void 0:z.stem_from_id)===X.id,eC=()=>{et&&et()},eS=(0,C.useRef)(null),[eN,eI]=(0,C.useState)(!1),e_=(0,C.useRef)(null),eP=new Date(X.created_at),eM=(0,k.usePathname)(),[eE,eF]=(0,C.useState)(!1),[eO,eL]=(0,C.useState)(!1);return(0,a.Ls)(X)?null:(0,i.jsxs)(d.k,{ref:eS,tabIndex:0,role:"button",sx:{"[data-selected] &":{background:"radial-gradient(3010.06% 152.11% at 27.33% 38.98%, rgba(81, 78, 78, 0.43) 0%, rgba(45, 44, 44, 0.57) 100%)"}},onMouseEnter:()=>{ey(!0)},onMouseLeave:()=>ey(!1),alignItems:["flex-start","flex-start","flex-start","center"],onClick:Q,onDoubleClick:()=>{eL(!0),J()},userSelect:"none",cursor:"pointer",pr:[3,6,6],ml:[3,6,6],flexDirection:["column","column","row","row"],py:1,_hover:{background:em?void 0:"rgba(37,32,32,0.6)"},background:ek?"rgba(255, 227, 180, 0.16)":void 0,"data-clip-id":null==X?void 0:X.id,"data-testid":"song-row",children:[(0,i.jsxs)("div",{className:"relative flex items-center w-full",children:[0===X.play_count&&!ej&&!eO&&(null===(D=ef.user)||void 0===D?void 0:D.id)===X.user_id&&!ed&&(0,i.jsx)("div",{className:"absolute md:-left-4 -left-3 z-[50000] w-2 h-2 rounded-full bg-accentPink"}),(0,i.jsxs)(d.k,{flexDirection:"row",alignItems:"center",flex:"1",opacity:ej?.6:1,children:[(0,i.jsxs)(c.xu,{position:"relative",display:"flex",onClick:()=>{eL(!0),J()},"aria-label":"Play Song",flexShrink:"0",width:em?"40px":"56px",height:em?"55px":"77px","min-width":em?"40px":"56px","min-height":em?"55px":"77px","data-testid":"song-row-play-button",children:[(null==X?void 0:X.image_url)?(0,i.jsxs)("div",{className:"relative",children:[(0,M.lJ)(null==X?void 0:null===(T=X.metadata)||void 0===T?void 0:T.duration,!0),(0,i.jsx)(_.Z,{alt:"Song Image",width:em?"40px":"56px",height:em?"55px":"77px",borderRadius:"4px",src:null==X?void 0:X.image_url,objectFit:"cover","flex-shrink":"0",border:ev?"1px solid white":void 0})]}):(0,i.jsx)(u.O,{width:em?"40px":"56px",height:em?"55px":"77px",startColor:"#252020",endColor:"#363030"}),ej?(0,i.jsx)(d.k,{width:em?"40px":"56px",height:em?"55px":"77px",position:"absolute",top:0,left:0,alignItems:"center",justifyContent:"center","data-testid":"loading-clip",children:(0,i.jsx)(p.$,{color:"white",boxSize:"20px"})}):(0,i.jsx)(m.h,{"aria-label":ex.isPlaying?"Pause":"Play",onMouseEnter:()=>eF(!0),onMouseLeave:()=>eF(!1),onClick:()=>eL(!0),icon:ev&&ex.isPlaying?eE?(0,i.jsx)(_.Z,{src:"/icons/pause-active.svg",alt:"Pause",width:6,height:6}):(0,i.jsxs)("div",{className:"flex space-x-1",children:[(0,i.jsx)("div",{className:"w-1 h-4 bg-white animate-wave1"}),(0,i.jsx)("div",{className:"w-1 h-4 bg-white animate-wave2"}),(0,i.jsx)("div",{className:"w-1 h-4 bg-white animate-wave3"})]}):(0,i.jsx)("div",{className:"ml-1",children:(0,i.jsx)(_.Z,{src:"/icons/play.svg",alt:"Play",width:18,height:18})}),size:em?"md":"lg",position:"absolute",width:em?"40px":"56px",height:em?"55px":"77px",top:"0",left:"50%",transform:"translate(-50%, 0)",color:"white",transition:"opacity 0.3s",opacity:ev||eb?1:0,_focus:{opacity:1}})]}),(0,i.jsxs)(d.k,{direction:["column","column","column","column",ep?"column":"row","row"],flex:"1",children:[(0,i.jsx)(x.K,{flex:"1",ml:5,spacing:0,justifyContent:["flex-start","flex-start","center"],children:(null==X?void 0:X.status)==="submitted"?(0,i.jsx)(h.N,{py:1,noOfLines:2,startColor:"#252020",endColor:"#363030"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"w-full flex items-center gap-1",children:[(0,i.jsx)("span",{className:"font-sans text-base font-extrabold line-clamp-1 break-all text-primary",title:(0,r.M8)(X),children:"streaming"===X.status||"complete"===X.status?(0,i.jsx)(w.default,{href:"/song/".concat(null==X?void 0:X.id,"/"),children:(0,i.jsx)("span",{className:"hover:underline cursor-pointer",children:(0,r.M8)(X)})}):(0,r.M8)(X)}),"/feed"===eM&&(0,i.jsx)("span",{className:"font-sans text-xs text-lightGray",children:"\xb7 "+M.MV.format(eP,"mini")+" ago"}),el?(0,i.jsxs)(x.K,{direction:"row",children:[(0,i.jsx)(o.Z,{fontSize:"12px",size:"sm",clip:X,bg:"#252020",fontFamily:"Neue Montreal",border:"0.2px solid rgba(255,255,255,0.15)"}),X.is_trashed?(0,i.jsx)(g.Vp,{bg:"#2E1C1C",color:"#FAF7F5",border:"0.2px solid rgba(255,255,255,0.15)",fontSize:"12px",fontFamily:"Neue Montreal",size:"sm",mr:2,children:(0,i.jsx)(f.J,{as:S.Xm5})}):null,(null===(Z=X.metadata)||void 0===Z?void 0:Z.history)&&!(null===(B=X.metadata)||void 0===B?void 0:B.infill)?(0,i.jsxs)(g.Vp,{bg:"#252020",border:"0.2px solid rgba(255,255,255,0.15)",fontSize:"12px",fontFamily:"Neue Montreal",size:"sm",className:"part-tag",children:[(0,i.jsx)(f.J,{as:S.gjK}),(0,i.jsxs)(v.x,{ml:1,children:["Part ",X.metadata.history.length+1]})]}):null,(null===(q=X.metadata)||void 0===q?void 0:q.infill)?(0,i.jsxs)(g.Vp,{bg:"#252020",border:"0.2px solid rgba(255,255,255,0.15)",fontSize:"12px",fontFamily:"Neue Montreal",size:"sm",children:[(0,i.jsx)(f.J,{as:S.gjK}),(0,i.jsx)(v.x,{ml:1,children:"Infill"})]}):null,["concat","concat_infilling"].includes((null===(U=X.metadata)||void 0===U?void 0:U.type)||"")?(0,i.jsxs)(g.Vp,{bg:"#252020",fontSize:"12px",border:"0.2px solid rgba(255,255,255,0.15)",size:"sm",fontFamily:"Neue Montreal",children:[(0,i.jsx)(f.J,{as:S.uoU}),(0,i.jsx)(v.x,{ml:1,children:"Full Song"})]}):null,(null===(V=X.metadata)||void 0===V?void 0:V.refund_credits)?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(b.u,{label:"Generation was too short, so no credits were used. If generations are silent and you continued a clip, that clip probably ended in silence. You may want to try continuing from a different clip.",placement:"auto-start",background:I.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",isOpen:eN,children:(0,i.jsx)(g.Vp,{bg:"#252020",fontSize:"12px",fontFamily:"Neue Montreal",border:"0.2px solid rgba(255,255,255,0.15)",size:"sm",onClick:()=>eI(!eN),ref:e_,children:"Credits Refunded"})})}):null,(null===(G=X.metadata)||void 0===G?void 0:G.type)==="edit_crop"&&(null===(W=ef.flags)||void 0===W?void 0:W["editing-crop"])?(0,i.jsxs)(g.Vp,{bg:"#252020",fontSize:"12px",border:"0.2px solid rgba(255,255,255,0.15)",size:"sm",fontFamily:"Neue Montreal",children:[(0,i.jsx)(f.J,{as:S.fmQ}),(0,i.jsx)(v.x,{ml:1,children:"Trim"})]}):null]}):null]}),(0,i.jsx)(x.K,{direction:"row",children:es&&(0,i.jsxs)(v.x,{fontSize:"sm",fontWeight:500,display:"flex",color:"white",alignItems:"center",children:[(0,i.jsx)(y.E,{opacity:.6,src:"/profile.svg",alt:"Profile",boxSize:"12px",mr:1,display:"inline-block",verticalAlign:"middle",color:"white"}),(0,i.jsx)(w.default,{href:"/@".concat(X.handle),color:"white",title:X.display_name||X.handle||"",children:X.display_name||X.handle||""})]})}),(0,i.jsx)(x.K,{direction:"row",children:(null==X?void 0:X.status)==="complete"||(null==X?void 0:null===(K=X.metadata)||void 0===K?void 0:K.tags)?(0,i.jsx)("span",{className:"font-sans text-sm text-secondary mb-1",title:X.metadata.tags||"",children:(0,M.TO)({styleStr:X.metadata.tags,fontColorClass:"text-secondary",fontSizeClass:"text-sm",extraClasses:"flex-nowrap"})}):(0,i.jsx)(h.N,{py:1,noOfLines:2,startColor:"#252020",endColor:"#363030"})})]})}),eo&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.k,{px:[0],display:["flex","none","none"],children:(0,i.jsx)(P.Z,{onAddToPlaylist:$,onRemoveFromPlaylist:ee,trendingMode:en,showStats:ei,clip:X,onUpdateMetadata:eC})}),(0,i.jsx)(d.k,{px:[0],display:["none","flex","flex"],children:(0,i.jsx)(l.Z,{rowKey:H,onAddToPlaylist:$,onRemoveFromPlaylist:ee,trendingMode:en,showStats:ei,clip:X,isFromSongRow:eu,onUpdateMetadata:eC})})]})]})]})]}),ea&&eh.showLyrics?(0,i.jsx)(v.x,{display:["flex","flex","flex","none"],fontSize:"xs",whiteSpace:"pre-wrap",children:null===(Y=X.metadata)||void 0===Y?void 0:Y.prompt}):null]})});t.Z=E},14675:function(e,t,n){var i=n(57437);n(2265),t.Z=e=>{let{style:t,onClick:n}=e;return(0,i.jsx)("button",{onClick:()=>n(t),className:"font-sans text-primary text-[13px] rounded-full px-3 py-2 bg-quaternary bg-opacity-75",children:t})}},78232:function(e,t,n){var i=n(57437),l=n(2265);t.Z=e=>{let{label:t,checked:n=!1,onChange:o,disabled:a=!1,small:s=!1}=e,[r,d]=(0,l.useState)(n);(0,l.useEffect)(()=>{d(n)},[n]);let c=()=>{!a&&(d(!r),o&&o(!r))};return(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{"aria-label":t,tabIndex:0,className:"relative inline-flex items-center ".concat(s?"h-4 w-7":"h-6 w-10"," rounded-full transition-colors duration-300 ease-in-out cursor-pointer ").concat(a?"cursor-not-allowed opacity-50 ":"").concat(r?"bg-primary":"bg-tertiary"," ring-1 ring-opacity-20 ring-white"),onClick:c,onKeyDown:e=>{"Enter"===e.key&&c()},children:(0,i.jsx)("span",{className:"absolute left-0.5 top-0.5 ".concat(s?"h-3 w-3":"h-5 w-5"," transform bg-black rounded-full transition-transform duration-300 ease-in-out ").concat(r?s?"translate-x-3":"translate-x-4":""),style:{border:"1px solid rgba(255, 255, 255, 0.3)"}})}),t&&(0,i.jsx)("span",{className:"text-white font-sans font-normal text-sm",children:t})]})}},41463:function(e,t,n){var i=n(57437);n(2265),t.Z=e=>{let{tabs:t,selectedIndex:n,onTabClick:l,textClass:o}=e,a=e=>{l&&l(e)};return(0,i.jsx)("div",{className:"flex space-x-2",role:"tablist",children:t.map((e,t)=>(0,i.jsx)("div",{className:"font-sans font-medium px-4 py-2 min-w-20 text-center rounded-md cursor-pointer ".concat(o||"text-base"," ").concat(n===t?"bg-primary text-black":"bg-quaternary text-primary hover:bg-primary/30 hover:text-primary"),onClick:()=>a(t),role:"tab","aria-selected":n===t,"aria-controls":"tabpanel-".concat(t),id:"tab-".concat(t),children:(0,i.jsx)("span",{className:"line-clamp-1 break-all",children:e.label})},t))})}},52371:function(e,t,n){var i=n(57437),l=n(16829);n(2265),t.Z=e=>{let{onClick:t,text:n,icon:o,isDisabled:a,isLoading:s,...r}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("button",{...r,onClick:t,disabled:a||s,className:"bg-quaternary text-white hover:bg-primary/30 font-medium px-4 py-1 rounded-md text-sm font-sans disabled:brightness-50 disabled:cursor-not-allowed select-none flex gap-2 items-center",draggable:"false",children:[o&&(0,i.jsx)("img",{src:o,alt:"icon",className:"mr-2 w-4 h-4 filter invert brightness-0"}),n,s&&(0,i.jsx)("div",{className:"w-4 h-4",children:(0,i.jsx)(l.$,{size:"sm"})})]})})}},1601:function(e,t,n){var i=n(57437);n(2265),t.Z=e=>{let{maxLength:t,placeholder:n,value:l,onChange:o,onClick:a,onKeyDown:s,isReadOnly:r,cursor:d,leftAsset:c,customHeight:u="h-[36px]",spacedLeftAsset:p=!1,resize:m=!1,onClear:x,isScrollable:h}=e;return(0,i.jsxs)("div",{className:"relative p-4 rounded-lg border border-quaternary overflow-hidden",style:{backgroundColor:"#252020",paddingBottom:"40px"},children:[(0,i.jsx)("textarea",{maxLength:t,value:l,onChange:o,placeholder:n,onClick:a,onKeyDown:s,readOnly:r,className:"w-full p-0 ".concat(u?"pb-6":"pb-8"," text-primary focus:outline-none custom-textarea font-sans text-14px ").concat(u," ").concat(d||"text"," placeholder-secondary placeholder-opacity-70 ").concat(m?"resize-y":"resize-none"," ").concat(u),style:{backgroundColor:"#252020",overflowY:h?"auto":"hidden",overflowX:"hidden"}}),(0,i.jsxs)("div",{className:"font-sans absolute ".concat(p?"bottom-14":"bottom-2"," right-2 text-secondary text-sm"),children:[l.length," / ",t]}),c&&(0,i.jsx)("div",{className:"absolute ".concat("bottom-2"," left-2 max-w-full overflow-x-auto whitespace-nowrap"),children:c}),x&&(0,i.jsx)("button",{type:"button",onClick:x,className:"absolute top-4 right-4 text-secondary",style:{background:"none",border:"none",cursor:"pointer"},children:"âœ•"})]})}},2084:function(e,t,n){var i=n(2265);t.Z=()=>((0,i.useEffect)(()=>{let e=["#8bb7f0","#f5c276","#66798f","#99c99e","#f75252"];(()=>{for(let t=0;t<50;t++){let t=document.createElement("div"),n="".concat(4*Math.random()+2,"px"),i=e[Math.floor(Math.random()*e.length)];t.className="confettiRibbon fixed top-0 opacity-0 animate-confettiFall",t.style.width=n,t.style.height="".concat(10*Math.random()+10,"px"),t.style.backgroundColor=i,t.style.left="".concat(100*Math.random(),"vw"),t.style.animationDelay="".concat(2*Math.random(),"s"),t.style.transform="rotate(".concat(360*Math.random(),"deg)"),document.body.appendChild(t),setTimeout(()=>{t.remove()},5e3)}})()},[]),null)},46575:function(e,t,n){var i=n(57437);n(2265),t.Z=()=>{let e=Array.from({length:15});return(0,i.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[10000]",children:e.map((e,t)=>(0,i.jsx)("div",{className:"absolute w-10 h-10 opacity-80 animate-float",style:{left:"".concat(100*Math.random(),"%"),animationDuration:"".concat(5*Math.random()+5,"s"),animationDelay:"".concat(5*Math.random(),"s"),top:"-50px"},children:(0,i.jsx)("img",{src:"/icons/cloud.svg",alt:"Cloud",className:"w-full h-full object-contain"})},t))})}},20783:function(e,t,n){var i=n(57437);n(2265),t.Z=()=>{let e=Array.from({length:10});return(0,i.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[10000]",children:e.map((e,t)=>(0,i.jsx)("div",{className:"absolute w-10 h-10 opacity-80 animate-float",style:{left:"".concat(100*Math.random(),"%"),animationDuration:"".concat(3*Math.random()+5,"s"),animationDelay:"".concat(5*Math.random(),"s"),top:"-100px"},children:(0,i.jsx)("img",{src:"/icons/dog.svg",alt:"Dog",className:"w-full h-full object-contain"})},t))})}},15188:function(e,t,n){var i=n(57437);n(2265),t.Z=()=>{let e=Array.from({length:50});return(0,i.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[10000]",children:e.map((e,t)=>(0,i.jsx)("div",{className:"absolute w-5 h-5 bg-cover opacity-80 animate-float",style:{backgroundImage:"url('/icons/heart.svg')",left:"".concat(100*Math.random(),"%"),animationDuration:"".concat(3*Math.random()+5,"s"),animationDelay:"".concat(5*Math.random(),"s"),top:"-20px"}},t))})}},57666:function(e,t,n){var i=n(57437);n(2265),t.Z=()=>{let e=Array.from({length:20});return(0,i.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[10000]",children:e.map((e,t)=>(0,i.jsx)("div",{className:"absolute w-8 h-8 opacity-80 animate-float",style:{left:"".concat(100*Math.random(),"%"),animationDuration:"".concat(3*Math.random()+5,"s"),animationDelay:"".concat(5*Math.random(),"s"),top:"-100px"},children:(0,i.jsx)("img",{src:"/icons/tree-palm.svg",alt:"Palm Tree",className:"w-full h-full object-contain"})},t))})}},16378:function(e,t,n){var i=n(57437);n(2265),t.Z=()=>{let e=Array.from({length:10});return(0,i.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[10000]",children:e.map((e,t)=>(0,i.jsx)("div",{className:"absolute w-8 h-8 opacity-80 animate-float",style:{left:"".concat(100*Math.random(),"%"),animationDuration:"".concat(3*Math.random()+5,"s"),animationDelay:"".concat(5*Math.random(),"s"),top:"-100px"},children:(0,i.jsx)("img",{src:"/icons/gift.svg",alt:"Gift",className:"w-full h-full object-contain"})},t))})}},98719:function(e,t,n){var i=n(57437);n(2265),t.Z=()=>{let e=Array.from({length:15});return(0,i.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[10000]",children:e.map((e,t)=>(0,i.jsx)("div",{className:"absolute w-6 h-6 opacity-80 animate-float",style:{left:"".concat(100*Math.random(),"%"),animationDuration:"".concat(3*Math.random()+5,"s"),animationDelay:"".concat(5*Math.random(),"s"),top:"-60px"},children:(0,i.jsx)("img",{src:"/icons/smile.svg",alt:"Smile",className:"w-full h-full object-contain"})},t))})}},60537:function(e,t,n){var i=n(2265);t.Z=()=>((0,i.useEffect)(()=>{(()=>{let e=document.createElement("div");e.className="olympic-ring fixed top-0 left-1/2 transform -translate-x-1/2 opacity-0 animate-straightFall -ml-[100px] z-[10000]",e.style.width="200px",e.style.height="200px",e.style.backgroundImage="url(/olympic-rings.png)",e.style.backgroundSize="contain",e.style.backgroundRepeat="no-repeat",e.style.animationDelay="0s",document.body.appendChild(e),setTimeout(()=>{e.remove()},5e3)})()},[]),null)},21216:function(e,t,n){var i=n(57437),l=n(2265);t.Z=()=>{let[e,t]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let e=setInterval(()=>{t(e=>{let t=[...e];return t.length<50||t.shift(),t.push(Date.now()),t})},400);return()=>clearInterval(e)},[]),(0,i.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[10000]",children:e.map(e=>(0,i.jsx)("div",{className:"absolute w-5 h-5 opacity-80",style:{left:"".concat(95*Math.random(),"%"),top:"".concat(95*Math.random(),"%"),animation:"sparkle 1s ease-in-out infinite"},children:(0,i.jsx)("img",{src:"/icons/star.svg",alt:"Star",className:"w-full h-full object-contain"})},e))})}},33706:function(e,t,n){n.d(t,{t:function(){return l}});let i=["Aura-01.jpg","Aura-02.jpg","Aura-03.jpg","Aura-04.jpg","Aura-06.jpg","Aura-07.jpg","Aura-08.jpg","Aura-10.jpg","Aura-11.jpg","Aura-12.jpg","Aura-13.jpg","Aura-14.jpg","Aura-16.jpg","Aura-17.jpg","Aura-18.jpg"],l=()=>{let e=Math.floor(Math.random()*i.length);return"/".concat(i[e])}},28922:function(e,t,n){var i=n(57437),l=n(67958),o=n(54410);t.Z=e=>{var t,n,a;let{clip:s,...r}=e,{session:d}=(0,l.mZ)(),c=null===(t=s.major_model_version)||void 0===t?void 0:t.toLowerCase();return(null===(n=s.metadata)||void 0===n?void 0:n.type)==="upload"&&(c="Uploaded"),(null===(a=s.metadata)||void 0===a?void 0:a.type)==="stem"&&(c="Stem"),(0,i.jsx)(i.Fragment,{children:d.isStaff&&s.model_name?(0,i.jsx)(o.Vp,{...r,children:d.getModelDisplayName(s.model_name)}):(0,i.jsx)(o.Vp,{...r,className:c,children:c})})}},20435:function(e,t,n){var i=n(57437);n(2265);var l=n(74340),o=n(99240),a=n(40191),s=n(6353),r=n(14063);t.Z=e=>{var t,n,d;let{clips:c}=e,u=1===c.length?(null===(t=c[0])||void 0===t?void 0:t.title)||(null===(d=c[0])||void 0===d?void 0:null===(n=d.metadata)||void 0===n?void 0:n.tags):"".concat(c.length," clips");return(0,i.jsx)(l.xu,{p:4,color:"white",bg:"red.400",borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"space-between",width:"475px",children:(0,i.jsxs)(o.k,{alignItems:"center",flex:"1",children:[(0,i.jsxs)(a.x,{children:[(0,i.jsx)("b",{children:u})," ",1===c.length?"has":"have"," been removed from your account."]}),(0,i.jsx)(s.J,{as:r.l_A,ml:2})]})})}},638:function(e,t,n){var i=n(57437),l=n(2265),o=n(74340),a=n(40191),s=n(99240),r=n(6353),d=n(47414),c=n(14063);t.Z=e=>{var t;let{clips:n,isTrashed:u,undoTrash:p}=e,[m,x]=(0,l.useState)(!1),h=async()=>{m||(await p(),x(!0))},g=1===n.length?n[0]:void 0;return(0,i.jsxs)(o.xu,{p:4,color:"white",bg:"red.400",borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"space-between",width:["320px","320px","475px"],children:[(0,i.jsxs)(o.xu,{flex:"1",children:[" ",(0,i.jsx)(a.x,{children:m?(0,i.jsxs)(s.k,{alignItems:"center",justifyContent:"center",display:"flex",children:[(0,i.jsx)(o.xu,{mb:2,children:" Your action has been undone."}),(0,i.jsx)(r.J,{as:c.l_A,ml:2,mb:2})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.x,{fontWeight:"bold",display:"inline",children:g?g.title?g.title:null==g?void 0:null===(t=g.metadata)||void 0===t?void 0:t.tags:"".concat(n.length," clips")}),u?" ".concat(g?"has":"have"," been moved to trash."):" ".concat(g?"has":"have"," been restored to your library.")]})})]}),!m&&(0,i.jsx)(d.z,{bg:"red.400",color:"white",onClick:h,children:(0,i.jsxs)(s.k,{alignItems:"center",children:[(0,i.jsx)(r.J,{as:c.wXW,marginRight:"2"}),"Undo"]})})]})}},63733:function(e,t,n){n.d(t,{L7:function(){return a},xz:function(){return s}});var i=n(89483),l=n(93786);function o(){let e=(0,i._)(["\n{\n  appBanner {\n    id\n    headline\n    text\n    link\n    subscribedHeadline\n    subscribedText\n    subscribedLink\n    active\n    uniqueId\n    dismissable\n  }\n  allChangelogItems(orderBy: datetime_DESC) {\n    title\n    datetime\n    description\n    tags\n    linkUrl\n    linkText\n  }\n}"]);return o=function(){return e},e}let a=new l.g6("https://graphql.datocms.com/",{headers:{authorization:"Bearer ".concat("da53930ab6fd57784427d948a6cf71")},fetch:async(e,t)=>fetch(e,{...t,next:{revalidate:120,tags:["dato"]}})});(0,l.Ps)(o());let s=async()=>{let e=await fetch("/api/cms");return await e.json()}},5443:function(e,t,n){n.d(t,{Q:function(){return l},R:function(){return i}});let i=e=>!!e.metadata.has_vocal,l=e=>"stem"===e.metadata.type},37720:function(e){e.exports=JSON.parse('[{"id":"2024Olympics","title":"Let\'s make a song to cheer your country on at the 2024 Olympics","buttonTitle":"2024 Olympics","description":"Make a song to cheer your country on at the 2024 Summer Olympics.","content":["I\'m cheering on the national team for ",{"type":"input","field":"olympicsCountry","placeholder":"COUNTRY","maxLength":125},".","My favorite Olympic event is ",{"type":"input","field":"olympicsFavoriteEvent","placeholder":"FAVORITE OLYMPIC EVENT","maxLength":125}," because I love ",{"type":"input","field":"olympicsReason","placeholder":"WHY YOU LOVE THAT EVENT","maxLength":125},". ","My favorite genre of music is ",{"type":"input","field":"olympicsGenre","placeholder":"GENRE","maxLength":125},"."],"template":"I\'m cheering on the national team for {olympicsCountry}. My favorite Olympic event is {olympicsFavoriteEvent} because I love {olympicsReason}. Please write the song in {olympicsGenre}."},{"id":"Person","title":"Let\'s make a song to celebrate a special person in your life","buttonTitle":"Person","description":"Make a song about your mom, partner, best friend, or anyone else in your life.","content":["I\'m celebrating ",{"type":"input","field":"personName","placeholder":"NAME OF PERSON","maxLength":100}," my ",{"type":"input","field":"personRelationship","placeholder":"RELATIONSHIP TO PERSON","maxLength":100},".","My favorite thing about them is ",{"type":"input","field":"personFavoriteThing","placeholder":"FAVORITE THING ABOUT THEM","maxLength":100},","," and the funniest thing about them is ",{"type":"input","field":"personFunniestThing","placeholder":"FUNNIEST THING ABOUT THEM","maxLength":100},".","Their favorite genre of music is ",{"type":"input","field":"personGenre","placeholder":"GENRE","maxLength":100},"."],"template":"I\'m celebrating {personName} my {personRelationship}. My favorite thing about them is {personFavoriteThing}, and the funniest thing about them is {personFunniestThing}. Please write the song in {personGenre} genre."},{"id":"SpecialOccasions","title":"Let\'s make a song to celebrate a special occasion!","buttonTitle":"Special Occasions","description":"Make a song to celebrate a birthday, holiday, or other special life events.","content":["I\'m celebrating ",{"type":"input","field":"specialOccasionTitleOccasion","placeholder":"TITLE OF SPECIAL OCCASION","maxLength":125}," with/for ",{"type":"input","field":"specialOccasionName","placeholder":"NAME OF RECIPIENT","maxLength":125},". ","My favorite part about this day is ",{"type":"input","field":"specialOccasionFavoritePart","placeholder":"FAVORITE PART OF OCCASION","maxLength":125},", ","and my favorite genre of music is ",{"type":"input","field":"specialOccasionFavoriteGenre","placeholder":"GENRE OF MUSIC","maxLength":125},"."],"template":"I\'m celebrating {specialOccasionTitleOccasion} with/for {specialOccasionName}. My favorite part about this day is {specialOccasionFavoritePart} and my favorite genre of music is {specialOccasionFavoriteGenre}."},{"id":"Moods","title":"Let\'s make a song to match your mood","buttonTitle":"Moods","description":"Make a song to chill to, get hype to, or any vibe you want to feel.","content":["I\'m currently feeling ",{"type":"input","field":"moodsMood","placeholder":"MOOD","maxLength":166}," and I want to feel ",{"type":"input","field":"moodsDesiredMood","placeholder":"YOUR DESIRED MOOD","maxLength":166},".","My favorite genre of music is ",{"type":"input","field":"moodsGenre","placeholder":"GENRE","maxLength":166},"."],"template":"I\'m currently feeling {moodsMood} and I want to feel {moodsDesiredMood}. My favorite genre of music is {moodsGenre}. Please write the song in {moodsGenre} style."},{"id":"Activity","title":"Let\'s make a song to soundtrack your activity","buttonTitle":"Activity","description":"Make a song to jam to at your next group hangout or party.","content":["I\'m going to ",{"type":"input","field":"activityActivity","placeholder":"ACTIVITY","maxLength":125}," with ",{"type":"input","field":"activityPerson","placeholder":"PERSON","maxLength":125},".","The vibes we want to feel are ",{"type":"input","field":"activityDesiredMood","placeholder":"DESIRED MOOD","maxLength":125}," and our favorite genre of music is ",{"type":"input","field":"activityGenre","placeholder":"GENRE","maxLength":125},"."],"template":"I\'m going to {activityActivity} with {activityPerson}. The vibes we want to feel are {activityDesiredMood} and our favorite genre of music is {activityGenre}. Please write the song in {activityGenre} style."},{"id":"Greeting","title":"Let\'s make a song to give someone in your life a special greeting","buttonTitle":"Greeting","description":"Make a song to say thank you, congratulations, or get well soon.","content":["I\'m saying ",{"type":"input","field":"greetingGreeting","placeholder":"GREETING","maxLength":125}," to ",{"type":"input","field":"greetingName","placeholder":"NAME OF PERSON","maxLength":125},".","This person is special to me because ",{"type":"input","field":"greetingThing","placeholder":"THING YOU LOVE ABOUT THEM","maxLength":125},".","Their favorite genre of music is ",{"type":"input","field":"greetingGenre","placeholder":"GENRE","maxLength":125},"."],"template":"I\'m saying {greetingGreeting} to {greetingName}. This person is special to me because {greetingThing}. Please write the song in {greetingGenre} genre."},{"id":"Vacation","title":"Let\'s make a song to get excited for your upcoming trip","buttonTitle":"Vacation","description":"Make a song to get excited for your next fun trip.","content":["I\'m traveling to ",{"type":"input","field":"vacationPlace","placeholder":"NAME OF PLACE","maxLength":100}," in/on ",{"type":"input","field":"vacationDate","placeholder":"WHEN YOU WILL TRAVEL THERE","maxLength":100},".","When I get there, I\'m most excited to see ",{"type":"input","field":"vacationAttraction","placeholder":"NAME OF ATTRACTION","maxLength":100},","," eat ",{"type":"input","field":"vacationFood","placeholder":"NAME OF FOOD","maxLength":100},","," and try ",{"type":"input","field":"vacationActivity","placeholder":"ACTIVITY","maxLength":100},"."],"template":"I\'m traveling to {vacationPlace} when {vacationDate}. When I get there, I\'m most excited to see {vacationAttraction}, eat {vacationFood}, and try {vacationActivity}. Write a song about this, please."},{"id":"Scrapbook","title":"Let\'s make a song to commemorate your special memory","buttonTitle":"Scrapbook","description":"Make a song to commemorate your most treasured memories.","content":["I\'m celebrating the time that ",{"type":"input","field":"scrapbookPerson","placeholder":"NAME OF PERSON","maxLength":125}," ",{"type":"input","field":"scrapbookAction","placeholder":"WHAT THEY DID","maxLength":125},".","This memory is special because ",{"type":"input","field":"scrapbookReason","placeholder":"REASON","maxLength":125},".","Their favorite genre of music is ",{"type":"input","field":"scrapbookGenre","placeholder":"GENRE","maxLength":125},"."],"template":"I\'m celebrating the time that {scrapbookPerson} {scrapbookAction}. This memory is special because {scrapbookReason}. Their favorite genre of music is {scrapbookGenre}, write the song in this style."},{"id":"Pet","title":"Let\'s make a song to celebrate your pet and how they make your life better","buttonTitle":"Pet","description":"Make a song to celebrate how cute and quirky your pet is.","content":["My pet\'s name is ",{"type":"input","field":"petName","placeholder":"NAME OF PET","maxLength":100}," and they are a ",{"type":"input","field":"petType","placeholder":"TYPE OF PET","maxLength":100},".","They are ",{"type":"input","field":"petPhysical","placeholder":"PHYSICAL APPEARANCE","maxLength":100},","," and they always make me smile because ",{"type":"input","field":"petSmile","placeholder":"THING YOU LOVE ABOUT THEM","maxLength":100},".","If they listened to music, their favorite genre would be ",{"type":"input","field":"petGenre","placeholder":"GENRE","maxLength":100},"."],"template":"Write a song about my pet, {petName} which is a {petType}. They are a {petType}. I love their {petPhysical} and {petSmile}. Make the song in the genre {petGenre}."}]')}}]);